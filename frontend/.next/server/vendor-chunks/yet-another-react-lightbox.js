"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/yet-another-react-lightbox";
exports.ids = ["vendor-chunks/yet-another-react-lightbox"];
exports.modules = {

/***/ "(ssr)/./node_modules/yet-another-react-lightbox/dist/index.js":
/*!***************************************************************!*\
  !*** ./node_modules/yet-another-react-lightbox/dist/index.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ACTION_CLOSE: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.ACTION_CLOSE),\n/* harmony export */   ACTION_NEXT: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.ACTION_NEXT),\n/* harmony export */   ACTION_PREV: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.ACTION_PREV),\n/* harmony export */   ACTION_SWIPE: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.ACTION_SWIPE),\n/* harmony export */   ACTIVE_SLIDE_COMPLETE: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.ACTIVE_SLIDE_COMPLETE),\n/* harmony export */   ACTIVE_SLIDE_ERROR: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.ACTIVE_SLIDE_ERROR),\n/* harmony export */   ACTIVE_SLIDE_LOADING: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.ACTIVE_SLIDE_LOADING),\n/* harmony export */   ACTIVE_SLIDE_PLAYING: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.ACTIVE_SLIDE_PLAYING),\n/* harmony export */   CLASS_FLEX_CENTER: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.CLASS_FLEX_CENTER),\n/* harmony export */   CLASS_FULLSIZE: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.CLASS_FULLSIZE),\n/* harmony export */   CLASS_NO_SCROLL: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.CLASS_NO_SCROLL),\n/* harmony export */   CLASS_NO_SCROLL_PADDING: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.CLASS_NO_SCROLL_PADDING),\n/* harmony export */   CLASS_SLIDE_WRAPPER: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.CLASS_SLIDE_WRAPPER),\n/* harmony export */   CLASS_SLIDE_WRAPPER_INTERACTIVE: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.CLASS_SLIDE_WRAPPER_INTERACTIVE),\n/* harmony export */   Carousel: () => (/* binding */ Carousel),\n/* harmony export */   CarouselModule: () => (/* binding */ CarouselModule),\n/* harmony export */   CloseIcon: () => (/* binding */ CloseIcon),\n/* harmony export */   Controller: () => (/* binding */ Controller),\n/* harmony export */   ControllerContext: () => (/* binding */ ControllerContext),\n/* harmony export */   ControllerModule: () => (/* binding */ ControllerModule),\n/* harmony export */   DocumentContext: () => (/* binding */ DocumentContext),\n/* harmony export */   DocumentContextProvider: () => (/* binding */ DocumentContextProvider),\n/* harmony export */   ELEMENT_BUTTON: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.ELEMENT_BUTTON),\n/* harmony export */   ELEMENT_ICON: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.ELEMENT_ICON),\n/* harmony export */   EVENT_ON_KEY_DOWN: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.EVENT_ON_KEY_DOWN),\n/* harmony export */   EVENT_ON_KEY_UP: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.EVENT_ON_KEY_UP),\n/* harmony export */   EVENT_ON_POINTER_CANCEL: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.EVENT_ON_POINTER_CANCEL),\n/* harmony export */   EVENT_ON_POINTER_DOWN: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.EVENT_ON_POINTER_DOWN),\n/* harmony export */   EVENT_ON_POINTER_LEAVE: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.EVENT_ON_POINTER_LEAVE),\n/* harmony export */   EVENT_ON_POINTER_MOVE: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.EVENT_ON_POINTER_MOVE),\n/* harmony export */   EVENT_ON_POINTER_UP: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.EVENT_ON_POINTER_UP),\n/* harmony export */   EVENT_ON_WHEEL: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.EVENT_ON_WHEEL),\n/* harmony export */   ErrorIcon: () => (/* binding */ ErrorIcon),\n/* harmony export */   EventsContext: () => (/* binding */ EventsContext),\n/* harmony export */   EventsProvider: () => (/* binding */ EventsProvider),\n/* harmony export */   IMAGE_FIT_CONTAIN: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.IMAGE_FIT_CONTAIN),\n/* harmony export */   IMAGE_FIT_COVER: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.IMAGE_FIT_COVER),\n/* harmony export */   IconButton: () => (/* binding */ IconButton),\n/* harmony export */   ImageSlide: () => (/* binding */ ImageSlide),\n/* harmony export */   Lightbox: () => (/* binding */ Lightbox),\n/* harmony export */   LightboxDefaultProps: () => (/* binding */ LightboxDefaultProps),\n/* harmony export */   LightboxDispatchContext: () => (/* binding */ LightboxDispatchContext),\n/* harmony export */   LightboxPropsContext: () => (/* binding */ LightboxPropsContext),\n/* harmony export */   LightboxPropsProvider: () => (/* binding */ LightboxPropsProvider),\n/* harmony export */   LightboxRoot: () => (/* binding */ LightboxRoot),\n/* harmony export */   LightboxStateContext: () => (/* binding */ LightboxStateContext),\n/* harmony export */   LightboxStateProvider: () => (/* binding */ LightboxStateProvider),\n/* harmony export */   LoadingIcon: () => (/* binding */ LoadingIcon),\n/* harmony export */   MODULE_CAROUSEL: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.MODULE_CAROUSEL),\n/* harmony export */   MODULE_CONTROLLER: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.MODULE_CONTROLLER),\n/* harmony export */   MODULE_NAVIGATION: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.MODULE_NAVIGATION),\n/* harmony export */   MODULE_NO_SCROLL: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.MODULE_NO_SCROLL),\n/* harmony export */   MODULE_PORTAL: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.MODULE_PORTAL),\n/* harmony export */   MODULE_ROOT: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.MODULE_ROOT),\n/* harmony export */   MODULE_TOOLBAR: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.MODULE_TOOLBAR),\n/* harmony export */   Navigation: () => (/* binding */ Navigation),\n/* harmony export */   NavigationButton: () => (/* binding */ NavigationButton),\n/* harmony export */   NavigationModule: () => (/* binding */ NavigationModule),\n/* harmony export */   NextIcon: () => (/* binding */ NextIcon),\n/* harmony export */   NoScroll: () => (/* binding */ NoScroll),\n/* harmony export */   NoScrollModule: () => (/* binding */ NoScrollModule),\n/* harmony export */   PLUGIN_CAPTIONS: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.PLUGIN_CAPTIONS),\n/* harmony export */   PLUGIN_COUNTER: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.PLUGIN_COUNTER),\n/* harmony export */   PLUGIN_DOWNLOAD: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.PLUGIN_DOWNLOAD),\n/* harmony export */   PLUGIN_FULLSCREEN: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.PLUGIN_FULLSCREEN),\n/* harmony export */   PLUGIN_INLINE: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.PLUGIN_INLINE),\n/* harmony export */   PLUGIN_SHARE: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.PLUGIN_SHARE),\n/* harmony export */   PLUGIN_SLIDESHOW: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.PLUGIN_SLIDESHOW),\n/* harmony export */   PLUGIN_THUMBNAILS: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.PLUGIN_THUMBNAILS),\n/* harmony export */   PLUGIN_ZOOM: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.PLUGIN_ZOOM),\n/* harmony export */   Portal: () => (/* binding */ Portal),\n/* harmony export */   PortalModule: () => (/* binding */ PortalModule),\n/* harmony export */   PreviousIcon: () => (/* binding */ PreviousIcon),\n/* harmony export */   Root: () => (/* binding */ Root),\n/* harmony export */   RootModule: () => (/* binding */ RootModule),\n/* harmony export */   SLIDE_STATUS_COMPLETE: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.SLIDE_STATUS_COMPLETE),\n/* harmony export */   SLIDE_STATUS_ERROR: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.SLIDE_STATUS_ERROR),\n/* harmony export */   SLIDE_STATUS_LOADING: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.SLIDE_STATUS_LOADING),\n/* harmony export */   SLIDE_STATUS_PLACEHOLDER: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.SLIDE_STATUS_PLACEHOLDER),\n/* harmony export */   SLIDE_STATUS_PLAYING: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.SLIDE_STATUS_PLAYING),\n/* harmony export */   SwipeState: () => (/* binding */ SwipeState),\n/* harmony export */   TimeoutsContext: () => (/* binding */ TimeoutsContext),\n/* harmony export */   TimeoutsProvider: () => (/* binding */ TimeoutsProvider),\n/* harmony export */   Toolbar: () => (/* binding */ Toolbar),\n/* harmony export */   ToolbarModule: () => (/* binding */ ToolbarModule),\n/* harmony export */   UNKNOWN_ACTION_TYPE: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.UNKNOWN_ACTION_TYPE),\n/* harmony export */   VK_ARROW_LEFT: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.VK_ARROW_LEFT),\n/* harmony export */   VK_ARROW_RIGHT: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.VK_ARROW_RIGHT),\n/* harmony export */   VK_ESCAPE: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.VK_ESCAPE),\n/* harmony export */   activeSlideStatus: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.activeSlideStatus),\n/* harmony export */   addToolbarButton: () => (/* binding */ addToolbarButton),\n/* harmony export */   calculatePreload: () => (/* binding */ calculatePreload),\n/* harmony export */   cleanup: () => (/* binding */ cleanup),\n/* harmony export */   clsx: () => (/* binding */ clsx),\n/* harmony export */   composePrefix: () => (/* binding */ composePrefix),\n/* harmony export */   computeSlideRect: () => (/* binding */ computeSlideRect),\n/* harmony export */   createIcon: () => (/* binding */ createIcon),\n/* harmony export */   createIconDisabled: () => (/* binding */ createIconDisabled),\n/* harmony export */   createModule: () => (/* binding */ createModule),\n/* harmony export */   createNode: () => (/* binding */ createNode),\n/* harmony export */   cssClass: () => (/* binding */ cssClass),\n/* harmony export */   cssVar: () => (/* binding */ cssVar),\n/* harmony export */   \"default\": () => (/* binding */ Lightbox),\n/* harmony export */   devicePixelRatio: () => (/* binding */ devicePixelRatio),\n/* harmony export */   getSlide: () => (/* binding */ getSlide),\n/* harmony export */   getSlideIfPresent: () => (/* binding */ getSlideIfPresent),\n/* harmony export */   getSlideIndex: () => (/* binding */ getSlideIndex),\n/* harmony export */   getSlideKey: () => (/* binding */ getSlideKey),\n/* harmony export */   hasSlides: () => (/* binding */ hasSlides),\n/* harmony export */   hasWindow: () => (/* binding */ hasWindow),\n/* harmony export */   isImageFitCover: () => (/* binding */ isImageFitCover),\n/* harmony export */   isImageSlide: () => (/* binding */ isImageSlide),\n/* harmony export */   label: () => (/* binding */ label),\n/* harmony export */   makeComposePrefix: () => (/* binding */ makeComposePrefix),\n/* harmony export */   makeInertWhen: () => (/* binding */ makeInertWhen),\n/* harmony export */   makeUseContext: () => (/* binding */ makeUseContext),\n/* harmony export */   parseInt: () => (/* binding */ parseInt),\n/* harmony export */   parseLengthPercentage: () => (/* binding */ parseLengthPercentage),\n/* harmony export */   round: () => (/* binding */ round),\n/* harmony export */   setRef: () => (/* binding */ setRef),\n/* harmony export */   stopNavigationEventsPropagation: () => (/* binding */ stopNavigationEventsPropagation),\n/* harmony export */   useAnimation: () => (/* binding */ useAnimation),\n/* harmony export */   useContainerRect: () => (/* binding */ useContainerRect),\n/* harmony export */   useController: () => (/* binding */ useController),\n/* harmony export */   useDelay: () => (/* binding */ useDelay),\n/* harmony export */   useDocumentContext: () => (/* binding */ useDocumentContext),\n/* harmony export */   useEventCallback: () => (/* binding */ useEventCallback),\n/* harmony export */   useEvents: () => (/* binding */ useEvents),\n/* harmony export */   useForkRef: () => (/* binding */ useForkRef),\n/* harmony export */   useKeyboardNavigation: () => (/* binding */ useKeyboardNavigation),\n/* harmony export */   useLayoutEffect: () => (/* binding */ useLayoutEffect),\n/* harmony export */   useLightboxDispatch: () => (/* binding */ useLightboxDispatch),\n/* harmony export */   useLightboxProps: () => (/* binding */ useLightboxProps),\n/* harmony export */   useLightboxState: () => (/* binding */ useLightboxState),\n/* harmony export */   useLoseFocus: () => (/* binding */ useLoseFocus),\n/* harmony export */   useMotionPreference: () => (/* binding */ useMotionPreference),\n/* harmony export */   useNavigationState: () => (/* binding */ useNavigationState),\n/* harmony export */   usePointerEvents: () => (/* binding */ usePointerEvents),\n/* harmony export */   usePointerSwipe: () => (/* binding */ usePointerSwipe),\n/* harmony export */   usePreventWheelDefaults: () => (/* binding */ usePreventWheelDefaults),\n/* harmony export */   useRTL: () => (/* binding */ useRTL),\n/* harmony export */   useSensors: () => (/* binding */ useSensors),\n/* harmony export */   useThrottle: () => (/* binding */ useThrottle),\n/* harmony export */   useTimeouts: () => (/* binding */ useTimeouts),\n/* harmony export */   useWheelSwipe: () => (/* binding */ useWheelSwipe),\n/* harmony export */   withPlugins: () => (/* binding */ withPlugins)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./types.js */ \"(ssr)/./node_modules/yet-another-react-lightbox/dist/types.js\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-dom */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-dom.js\");\n/* __next_internal_client_entry_do_not_use__ ACTIVE_SLIDE_COMPLETE,ACTIVE_SLIDE_ERROR,ACTIVE_SLIDE_LOADING,ACTIVE_SLIDE_PLAYING,CLASS_FULLSIZE,CLASS_SLIDE_WRAPPER_INTERACTIVE,PLUGIN_CAPTIONS,PLUGIN_COUNTER,PLUGIN_DOWNLOAD,PLUGIN_FULLSCREEN,PLUGIN_INLINE,PLUGIN_SHARE,PLUGIN_SLIDESHOW,PLUGIN_THUMBNAILS,PLUGIN_ZOOM,SLIDE_STATUS_PLAYING,ACTION_CLOSE,ACTION_NEXT,ACTION_PREV,ACTION_SWIPE,CLASS_FLEX_CENTER,CLASS_NO_SCROLL,CLASS_NO_SCROLL_PADDING,CLASS_SLIDE_WRAPPER,Carousel,CarouselModule,CloseIcon,Controller,ControllerContext,ControllerModule,DocumentContext,DocumentContextProvider,ELEMENT_BUTTON,ELEMENT_ICON,EVENT_ON_KEY_DOWN,EVENT_ON_KEY_UP,EVENT_ON_POINTER_CANCEL,EVENT_ON_POINTER_DOWN,EVENT_ON_POINTER_LEAVE,EVENT_ON_POINTER_MOVE,EVENT_ON_POINTER_UP,EVENT_ON_WHEEL,ErrorIcon,EventsContext,EventsProvider,IMAGE_FIT_CONTAIN,IMAGE_FIT_COVER,IconButton,ImageSlide,Lightbox,LightboxDefaultProps,LightboxDispatchContext,LightboxPropsContext,LightboxPropsProvider,LightboxRoot,LightboxStateContext,LightboxStateProvider,LoadingIcon,MODULE_CAROUSEL,MODULE_CONTROLLER,MODULE_NAVIGATION,MODULE_NO_SCROLL,MODULE_PORTAL,MODULE_ROOT,MODULE_TOOLBAR,Navigation,NavigationButton,NavigationModule,NextIcon,NoScroll,NoScrollModule,Portal,PortalModule,PreviousIcon,Root,RootModule,SLIDE_STATUS_COMPLETE,SLIDE_STATUS_ERROR,SLIDE_STATUS_LOADING,SLIDE_STATUS_PLACEHOLDER,SwipeState,TimeoutsContext,TimeoutsProvider,Toolbar,ToolbarModule,UNKNOWN_ACTION_TYPE,VK_ARROW_LEFT,VK_ARROW_RIGHT,VK_ESCAPE,activeSlideStatus,addToolbarButton,calculatePreload,cleanup,clsx,composePrefix,computeSlideRect,createIcon,createIconDisabled,createModule,createNode,cssClass,cssVar,default,devicePixelRatio,getSlide,getSlideIfPresent,getSlideIndex,getSlideKey,hasSlides,hasWindow,isImageFitCover,isImageSlide,label,makeComposePrefix,makeInertWhen,makeUseContext,parseInt,parseLengthPercentage,round,setRef,stopNavigationEventsPropagation,useAnimation,useContainerRect,useController,useDelay,useDocumentContext,useEventCallback,useEvents,useForkRef,useKeyboardNavigation,useLayoutEffect,useLightboxDispatch,useLightboxProps,useLightboxState,useLoseFocus,useMotionPreference,useNavigationState,usePointerEvents,usePointerSwipe,usePreventWheelDefaults,useRTL,useSensors,useThrottle,useTimeouts,useWheelSwipe,withPlugins auto */ \n\n\n\nconst cssPrefix$3 = \"yarl__\";\nfunction clsx(...classes) {\n    return [\n        ...classes\n    ].filter(Boolean).join(\" \");\n}\nfunction cssClass(name) {\n    return `${cssPrefix$3}${name}`;\n}\nfunction cssVar(name) {\n    return `--${cssPrefix$3}${name}`;\n}\nfunction composePrefix(base, prefix) {\n    return `${base}${prefix ? `_${prefix}` : \"\"}`;\n}\nfunction makeComposePrefix(base) {\n    return (prefix)=>composePrefix(base, prefix);\n}\nfunction label(labels, defaultLabel) {\n    var _a;\n    return (_a = labels === null || labels === void 0 ? void 0 : labels[defaultLabel]) !== null && _a !== void 0 ? _a : defaultLabel;\n}\nfunction cleanup(...cleaners) {\n    return ()=>{\n        cleaners.forEach((cleaner)=>{\n            cleaner();\n        });\n    };\n}\nfunction makeUseContext(name, contextName, context) {\n    return ()=>{\n        const ctx = react__WEBPACK_IMPORTED_MODULE_0__.useContext(context);\n        if (!ctx) {\n            throw new Error(`${name} must be used within a ${contextName}.Provider`);\n        }\n        return ctx;\n    };\n}\nfunction hasWindow() {\n    return \"undefined\" !== \"undefined\";\n}\nfunction round(value, decimals = 0) {\n    const factor = 10 ** decimals;\n    return Math.round((value + Number.EPSILON) * factor) / factor;\n}\nfunction isImageSlide(slide) {\n    return slide.type === undefined || slide.type === \"image\";\n}\nfunction isImageFitCover(image, imageFit) {\n    return image.imageFit === _types_js__WEBPACK_IMPORTED_MODULE_2__.IMAGE_FIT_COVER || image.imageFit !== _types_js__WEBPACK_IMPORTED_MODULE_2__.IMAGE_FIT_CONTAIN && imageFit === _types_js__WEBPACK_IMPORTED_MODULE_2__.IMAGE_FIT_COVER;\n}\nfunction parseInt(value) {\n    return typeof value === \"string\" ? Number.parseInt(value, 10) : value;\n}\nfunction parseLengthPercentage(input) {\n    if (typeof input === \"number\") {\n        return {\n            pixel: input\n        };\n    }\n    if (typeof input === \"string\") {\n        const value = parseInt(input);\n        return input.endsWith(\"%\") ? {\n            percent: value\n        } : {\n            pixel: value\n        };\n    }\n    return {\n        pixel: 0\n    };\n}\nfunction computeSlideRect(containerRect, padding) {\n    const paddingValue = parseLengthPercentage(padding);\n    const paddingPixels = paddingValue.percent !== undefined ? containerRect.width / 100 * paddingValue.percent : paddingValue.pixel;\n    return {\n        width: Math.max(containerRect.width - 2 * paddingPixels, 0),\n        height: Math.max(containerRect.height - 2 * paddingPixels, 0)\n    };\n}\nfunction devicePixelRatio() {\n    return (hasWindow() ? window === null || window === void 0 ? void 0 : window.devicePixelRatio : undefined) || 1;\n}\nfunction getSlideIndex(index, slidesCount) {\n    return slidesCount > 0 ? (index % slidesCount + slidesCount) % slidesCount : 0;\n}\nfunction hasSlides(slides) {\n    return slides.length > 0;\n}\nfunction getSlide(slides, index) {\n    return slides[getSlideIndex(index, slides.length)];\n}\nfunction getSlideIfPresent(slides, index) {\n    return hasSlides(slides) ? getSlide(slides, index) : undefined;\n}\nfunction getSlideKey(slide) {\n    return isImageSlide(slide) ? slide.src : undefined;\n}\nfunction addToolbarButton(toolbar, key, button) {\n    if (!button) return toolbar;\n    const { buttons, ...restToolbar } = toolbar;\n    const index = buttons.findIndex((item)=>item === key);\n    const buttonWithKey = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.isValidElement(button) ? /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.cloneElement(button, {\n        key\n    }, null) : button;\n    if (index >= 0) {\n        const result = [\n            ...buttons\n        ];\n        result.splice(index, 1, buttonWithKey);\n        return {\n            buttons: result,\n            ...restToolbar\n        };\n    }\n    return {\n        buttons: [\n            buttonWithKey,\n            ...buttons\n        ],\n        ...restToolbar\n    };\n}\nfunction stopNavigationEventsPropagation() {\n    const stopPropagation = (event)=>{\n        event.stopPropagation();\n    };\n    return {\n        onPointerDown: stopPropagation,\n        onKeyDown: stopPropagation,\n        onWheel: stopPropagation\n    };\n}\nfunction calculatePreload(carousel, slides, minimum = 0) {\n    return Math.min(carousel.preload, Math.max(carousel.finite ? slides.length - 1 : Math.floor(slides.length / 2), minimum));\n}\nconst isReact19 = Number(react__WEBPACK_IMPORTED_MODULE_0__.version.split(\".\")[0]) >= 19;\nfunction makeInertWhen(condition) {\n    const legacyValue = condition ? \"\" : undefined;\n    return {\n        inert: isReact19 ? condition : legacyValue\n    };\n}\nconst LightboxDefaultProps = {\n    open: false,\n    close: ()=>{},\n    index: 0,\n    slides: [],\n    render: {},\n    plugins: [],\n    toolbar: {\n        buttons: [\n            _types_js__WEBPACK_IMPORTED_MODULE_2__.ACTION_CLOSE\n        ]\n    },\n    labels: {},\n    animation: {\n        fade: 250,\n        swipe: 500,\n        easing: {\n            fade: \"ease\",\n            swipe: \"ease-out\",\n            navigation: \"ease-in-out\"\n        }\n    },\n    carousel: {\n        finite: false,\n        preload: 2,\n        padding: \"16px\",\n        spacing: \"30%\",\n        imageFit: _types_js__WEBPACK_IMPORTED_MODULE_2__.IMAGE_FIT_CONTAIN,\n        imageProps: {}\n    },\n    controller: {\n        ref: null,\n        focus: true,\n        aria: false,\n        touchAction: \"none\",\n        closeOnPullUp: false,\n        closeOnPullDown: false,\n        closeOnBackdropClick: false,\n        preventDefaultWheelX: true,\n        preventDefaultWheelY: false\n    },\n    portal: {},\n    noScroll: {\n        disabled: false\n    },\n    on: {},\n    styles: {},\n    className: \"\"\n};\nfunction createModule(name, component) {\n    return {\n        name,\n        component\n    };\n}\nfunction createNode(module, children) {\n    return {\n        module,\n        children\n    };\n}\nfunction traverseNode(node, target, apply) {\n    if (node.module.name === target) {\n        return apply(node);\n    }\n    if (node.children) {\n        return [\n            createNode(node.module, node.children.flatMap((n)=>{\n                var _a;\n                return (_a = traverseNode(n, target, apply)) !== null && _a !== void 0 ? _a : [];\n            }))\n        ];\n    }\n    return [\n        node\n    ];\n}\nfunction traverse(nodes, target, apply) {\n    return nodes.flatMap((node)=>{\n        var _a;\n        return (_a = traverseNode(node, target, apply)) !== null && _a !== void 0 ? _a : [];\n    });\n}\nfunction withPlugins(root, plugins = [], augmentations = []) {\n    let config = root;\n    const contains = (target)=>{\n        const nodes = [\n            ...config\n        ];\n        while(nodes.length > 0){\n            const node = nodes.pop();\n            if ((node === null || node === void 0 ? void 0 : node.module.name) === target) return true;\n            if (node === null || node === void 0 ? void 0 : node.children) nodes.push(...node.children);\n        }\n        return false;\n    };\n    const addParent = (target, module)=>{\n        if (target === \"\") {\n            config = [\n                createNode(module, config)\n            ];\n            return;\n        }\n        config = traverse(config, target, (node)=>[\n                createNode(module, [\n                    node\n                ])\n            ]);\n    };\n    const append = (target, module)=>{\n        config = traverse(config, target, (node)=>[\n                createNode(node.module, [\n                    createNode(module, node.children)\n                ])\n            ]);\n    };\n    const addChild = (target, module, precede)=>{\n        config = traverse(config, target, (node)=>{\n            var _a;\n            return [\n                createNode(node.module, [\n                    ...precede ? [\n                        createNode(module)\n                    ] : [],\n                    ...(_a = node.children) !== null && _a !== void 0 ? _a : [],\n                    ...!precede ? [\n                        createNode(module)\n                    ] : []\n                ])\n            ];\n        });\n    };\n    const addSibling = (target, module, precede)=>{\n        config = traverse(config, target, (node)=>[\n                ...precede ? [\n                    createNode(module)\n                ] : [],\n                node,\n                ...!precede ? [\n                    createNode(module)\n                ] : []\n            ]);\n    };\n    const addModule = (module)=>{\n        append(_types_js__WEBPACK_IMPORTED_MODULE_2__.MODULE_CONTROLLER, module);\n    };\n    const replace = (target, module)=>{\n        config = traverse(config, target, (node)=>[\n                createNode(module, node.children)\n            ]);\n    };\n    const remove = (target)=>{\n        config = traverse(config, target, (node)=>node.children);\n    };\n    const augment = (augmentation)=>{\n        augmentations.push(augmentation);\n    };\n    plugins.forEach((plugin)=>{\n        plugin({\n            contains,\n            addParent,\n            append,\n            addChild,\n            addSibling,\n            addModule,\n            replace,\n            remove,\n            augment\n        });\n    });\n    return {\n        config,\n        augmentation: (props)=>augmentations.reduce((acc, augmentation)=>augmentation(acc), props)\n    };\n}\nconst DocumentContext = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createContext(null);\nconst useDocumentContext = makeUseContext(\"useDocument\", \"DocumentContext\", DocumentContext);\nfunction DocumentContextProvider({ nodeRef, children }) {\n    const context = react__WEBPACK_IMPORTED_MODULE_0__.useMemo({\n        \"DocumentContextProvider.useMemo[context]\": ()=>{\n            const getOwnerDocument = {\n                \"DocumentContextProvider.useMemo[context].getOwnerDocument\": (node)=>{\n                    var _a;\n                    return ((_a = node || nodeRef.current) === null || _a === void 0 ? void 0 : _a.ownerDocument) || document;\n                }\n            }[\"DocumentContextProvider.useMemo[context].getOwnerDocument\"];\n            const getOwnerWindow = {\n                \"DocumentContextProvider.useMemo[context].getOwnerWindow\": (node)=>{\n                    var _a;\n                    return ((_a = getOwnerDocument(node)) === null || _a === void 0 ? void 0 : _a.defaultView) || window;\n                }\n            }[\"DocumentContextProvider.useMemo[context].getOwnerWindow\"];\n            return {\n                getOwnerDocument,\n                getOwnerWindow\n            };\n        }\n    }[\"DocumentContextProvider.useMemo[context]\"], [\n        nodeRef\n    ]);\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(DocumentContext.Provider, {\n        value: context\n    }, children);\n}\nconst EventsContext = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createContext(null);\nconst useEvents = makeUseContext(\"useEvents\", \"EventsContext\", EventsContext);\nfunction EventsProvider({ children }) {\n    const [subscriptions] = react__WEBPACK_IMPORTED_MODULE_0__.useState({});\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect({\n        \"EventsProvider.useEffect\": ()=>({\n                \"EventsProvider.useEffect\": ()=>{\n                    Object.keys(subscriptions).forEach({\n                        \"EventsProvider.useEffect\": (topic)=>delete subscriptions[topic]\n                    }[\"EventsProvider.useEffect\"]);\n                }\n            })[\"EventsProvider.useEffect\"]\n    }[\"EventsProvider.useEffect\"], [\n        subscriptions\n    ]);\n    const context = react__WEBPACK_IMPORTED_MODULE_0__.useMemo({\n        \"EventsProvider.useMemo[context]\": ()=>{\n            const unsubscribe = {\n                \"EventsProvider.useMemo[context].unsubscribe\": (topic, callback)=>{\n                    var _a;\n                    (_a = subscriptions[topic]) === null || _a === void 0 ? void 0 : _a.splice(0, subscriptions[topic].length, ...subscriptions[topic].filter({\n                        \"EventsProvider.useMemo[context].unsubscribe\": (cb)=>cb !== callback\n                    }[\"EventsProvider.useMemo[context].unsubscribe\"]));\n                }\n            }[\"EventsProvider.useMemo[context].unsubscribe\"];\n            const subscribe = {\n                \"EventsProvider.useMemo[context].subscribe\": (topic, callback)=>{\n                    if (!subscriptions[topic]) {\n                        subscriptions[topic] = [];\n                    }\n                    subscriptions[topic].push(callback);\n                    return ({\n                        \"EventsProvider.useMemo[context].subscribe\": ()=>unsubscribe(topic, callback)\n                    })[\"EventsProvider.useMemo[context].subscribe\"];\n                }\n            }[\"EventsProvider.useMemo[context].subscribe\"];\n            const publish = {\n                \"EventsProvider.useMemo[context].publish\": (...[topic, event])=>{\n                    var _a;\n                    (_a = subscriptions[topic]) === null || _a === void 0 ? void 0 : _a.forEach({\n                        \"EventsProvider.useMemo[context].publish\": (callback)=>callback(event)\n                    }[\"EventsProvider.useMemo[context].publish\"]);\n                }\n            }[\"EventsProvider.useMemo[context].publish\"];\n            return {\n                publish,\n                subscribe,\n                unsubscribe\n            };\n        }\n    }[\"EventsProvider.useMemo[context]\"], [\n        subscriptions\n    ]);\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(EventsContext.Provider, {\n        value: context\n    }, children);\n}\nconst LightboxPropsContext = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createContext(null);\nconst useLightboxProps = makeUseContext(\"useLightboxProps\", \"LightboxPropsContext\", LightboxPropsContext);\nfunction LightboxPropsProvider({ children, ...props }) {\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(LightboxPropsContext.Provider, {\n        value: props\n    }, children);\n}\nconst LightboxStateContext = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createContext(null);\nconst useLightboxState = makeUseContext(\"useLightboxState\", \"LightboxStateContext\", LightboxStateContext);\nconst LightboxDispatchContext = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createContext(null);\nconst useLightboxDispatch = makeUseContext(\"useLightboxDispatch\", \"LightboxDispatchContext\", LightboxDispatchContext);\nfunction reducer(state, action) {\n    switch(action.type){\n        case \"swipe\":\n            {\n                const { slides } = state;\n                const increment = (action === null || action === void 0 ? void 0 : action.increment) || 0;\n                const globalIndex = state.globalIndex + increment;\n                const currentIndex = getSlideIndex(globalIndex, slides.length);\n                const currentSlide = getSlideIfPresent(slides, currentIndex);\n                const animation = increment || action.duration ? {\n                    increment,\n                    duration: action.duration,\n                    easing: action.easing\n                } : undefined;\n                return {\n                    slides,\n                    currentIndex,\n                    globalIndex,\n                    currentSlide,\n                    animation\n                };\n            }\n        case \"update\":\n            if (action.slides !== state.slides || action.index !== state.currentIndex) {\n                return {\n                    slides: action.slides,\n                    currentIndex: action.index,\n                    globalIndex: action.index,\n                    currentSlide: getSlideIfPresent(action.slides, action.index)\n                };\n            }\n            return state;\n        default:\n            throw new Error(_types_js__WEBPACK_IMPORTED_MODULE_2__.UNKNOWN_ACTION_TYPE);\n    }\n}\nfunction LightboxStateProvider({ slides, index, children }) {\n    const [state, dispatch] = react__WEBPACK_IMPORTED_MODULE_0__.useReducer(reducer, {\n        slides,\n        currentIndex: index,\n        globalIndex: index,\n        currentSlide: getSlideIfPresent(slides, index)\n    });\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect({\n        \"LightboxStateProvider.useEffect\": ()=>{\n            dispatch({\n                type: \"update\",\n                slides,\n                index\n            });\n        }\n    }[\"LightboxStateProvider.useEffect\"], [\n        slides,\n        index\n    ]);\n    const context = react__WEBPACK_IMPORTED_MODULE_0__.useMemo({\n        \"LightboxStateProvider.useMemo[context]\": ()=>({\n                ...state,\n                state,\n                dispatch\n            })\n    }[\"LightboxStateProvider.useMemo[context]\"], [\n        state,\n        dispatch\n    ]);\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(LightboxDispatchContext.Provider, {\n        value: dispatch\n    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(LightboxStateContext.Provider, {\n        value: context\n    }, children));\n}\nconst TimeoutsContext = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createContext(null);\nconst useTimeouts = makeUseContext(\"useTimeouts\", \"TimeoutsContext\", TimeoutsContext);\nfunction TimeoutsProvider({ children }) {\n    const [timeouts] = react__WEBPACK_IMPORTED_MODULE_0__.useState([]);\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect({\n        \"TimeoutsProvider.useEffect\": ()=>({\n                \"TimeoutsProvider.useEffect\": ()=>{\n                    timeouts.forEach({\n                        \"TimeoutsProvider.useEffect\": (tid)=>window.clearTimeout(tid)\n                    }[\"TimeoutsProvider.useEffect\"]);\n                    timeouts.splice(0, timeouts.length);\n                }\n            })[\"TimeoutsProvider.useEffect\"]\n    }[\"TimeoutsProvider.useEffect\"], [\n        timeouts\n    ]);\n    const context = react__WEBPACK_IMPORTED_MODULE_0__.useMemo({\n        \"TimeoutsProvider.useMemo[context]\": ()=>{\n            const removeTimeout = {\n                \"TimeoutsProvider.useMemo[context].removeTimeout\": (id)=>{\n                    timeouts.splice(0, timeouts.length, ...timeouts.filter({\n                        \"TimeoutsProvider.useMemo[context].removeTimeout\": (tid)=>tid !== id\n                    }[\"TimeoutsProvider.useMemo[context].removeTimeout\"]));\n                }\n            }[\"TimeoutsProvider.useMemo[context].removeTimeout\"];\n            const setTimeout = {\n                \"TimeoutsProvider.useMemo[context].setTimeout\": (fn, delay)=>{\n                    const id = window.setTimeout({\n                        \"TimeoutsProvider.useMemo[context].setTimeout.id\": ()=>{\n                            removeTimeout(id);\n                            fn();\n                        }\n                    }[\"TimeoutsProvider.useMemo[context].setTimeout.id\"], delay);\n                    timeouts.push(id);\n                    return id;\n                }\n            }[\"TimeoutsProvider.useMemo[context].setTimeout\"];\n            const clearTimeout = {\n                \"TimeoutsProvider.useMemo[context].clearTimeout\": (id)=>{\n                    if (id !== undefined) {\n                        removeTimeout(id);\n                        window.clearTimeout(id);\n                    }\n                }\n            }[\"TimeoutsProvider.useMemo[context].clearTimeout\"];\n            return {\n                setTimeout,\n                clearTimeout\n            };\n        }\n    }[\"TimeoutsProvider.useMemo[context]\"], [\n        timeouts\n    ]);\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(TimeoutsContext.Provider, {\n        value: context\n    }, children);\n}\nconst IconButton = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(function IconButton({ label: label$1, className, icon: Icon, renderIcon, onClick, style, ...rest }, ref) {\n    const { styles, labels } = useLightboxProps();\n    const buttonLabel = label(labels, label$1);\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"button\", {\n        ref: ref,\n        type: \"button\",\n        title: buttonLabel,\n        \"aria-label\": buttonLabel,\n        className: clsx(cssClass(_types_js__WEBPACK_IMPORTED_MODULE_2__.ELEMENT_BUTTON), className),\n        onClick: onClick,\n        style: {\n            ...style,\n            ...styles.button\n        },\n        ...rest\n    }, renderIcon ? renderIcon() : /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Icon, {\n        className: cssClass(_types_js__WEBPACK_IMPORTED_MODULE_2__.ELEMENT_ICON),\n        style: styles.icon\n    }));\n});\nfunction svgIcon(name, children) {\n    const icon = (props)=>/*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", {\n            xmlns: \"http://www.w3.org/2000/svg\",\n            viewBox: \"0 0 24 24\",\n            width: \"24\",\n            height: \"24\",\n            \"aria-hidden\": \"true\",\n            focusable: \"false\",\n            ...props\n        }, children);\n    icon.displayName = name;\n    return icon;\n}\nfunction createIcon(name, glyph) {\n    return svgIcon(name, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"g\", {\n        fill: \"currentColor\"\n    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", {\n        d: \"M0 0h24v24H0z\",\n        fill: \"none\"\n    }), glyph));\n}\nfunction createIconDisabled(name, glyph) {\n    return svgIcon(name, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"defs\", null, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"mask\", {\n        id: \"strike\"\n    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", {\n        d: \"M0 0h24v24H0z\",\n        fill: \"white\"\n    }), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", {\n        d: \"M0 0L24 24\",\n        stroke: \"black\",\n        strokeWidth: 4\n    }))), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", {\n        d: \"M0.70707 2.121320L21.878680 23.292883\",\n        stroke: \"currentColor\",\n        strokeWidth: 2\n    }), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"g\", {\n        fill: \"currentColor\",\n        mask: \"url(#strike)\"\n    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", {\n        d: \"M0 0h24v24H0z\",\n        fill: \"none\"\n    }), glyph)));\n}\nconst CloseIcon = createIcon(\"Close\", /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", {\n    d: \"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"\n}));\nconst PreviousIcon = createIcon(\"Previous\", /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", {\n    d: \"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z\"\n}));\nconst NextIcon = createIcon(\"Next\", /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", {\n    d: \"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z\"\n}));\nconst LoadingIcon = createIcon(\"Loading\", /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, Array.from({\n    length: 8\n}).map((_, index, array)=>/*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"line\", {\n        key: index,\n        x1: \"12\",\n        y1: \"6.5\",\n        x2: \"12\",\n        y2: \"1.8\",\n        strokeLinecap: \"round\",\n        strokeWidth: \"2.6\",\n        stroke: \"currentColor\",\n        strokeOpacity: 1 / array.length * (index + 1),\n        transform: `rotate(${360 / array.length * index}, 12, 12)`\n    }))));\nconst ErrorIcon = createIcon(\"Error\", /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", {\n    d: \"M21.9,21.9l-8.49-8.49l0,0L3.59,3.59l0,0L2.1,2.1L0.69,3.51L3,5.83V19c0,1.1,0.9,2,2,2h13.17l2.31,2.31L21.9,21.9z M5,18 l3.5-4.5l2.5,3.01L12.17,15l3,3H5z M21,18.17L5.83,3H19c1.1,0,2,0.9,2,2V18.17z\"\n}));\nconst useLayoutEffect = hasWindow() ? react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect : react__WEBPACK_IMPORTED_MODULE_0__.useEffect;\nfunction useMotionPreference() {\n    const [reduceMotion, setReduceMotion] = react__WEBPACK_IMPORTED_MODULE_0__.useState(false);\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect({\n        \"useMotionPreference.useEffect\": ()=>{\n            var _a, _b;\n            const mediaQuery = (_a = window.matchMedia) === null || _a === void 0 ? void 0 : _a.call(window, \"(prefers-reduced-motion: reduce)\");\n            setReduceMotion(mediaQuery === null || mediaQuery === void 0 ? void 0 : mediaQuery.matches);\n            const listener = {\n                \"useMotionPreference.useEffect.listener\": (event)=>setReduceMotion(event.matches)\n            }[\"useMotionPreference.useEffect.listener\"];\n            (_b = mediaQuery === null || mediaQuery === void 0 ? void 0 : mediaQuery.addEventListener) === null || _b === void 0 ? void 0 : _b.call(mediaQuery, \"change\", listener);\n            return ({\n                \"useMotionPreference.useEffect\": ()=>{\n                    var _a;\n                    return (_a = mediaQuery === null || mediaQuery === void 0 ? void 0 : mediaQuery.removeEventListener) === null || _a === void 0 ? void 0 : _a.call(mediaQuery, \"change\", listener);\n                }\n            })[\"useMotionPreference.useEffect\"];\n        }\n    }[\"useMotionPreference.useEffect\"], []);\n    return reduceMotion;\n}\nfunction currentTransformation(node) {\n    let x = 0;\n    let y = 0;\n    let z = 0;\n    const matrix = window.getComputedStyle(node).transform;\n    const matcher = matrix.match(/matrix.*\\((.+)\\)/);\n    if (matcher) {\n        const values = matcher[1].split(\",\").map(parseInt);\n        if (values.length === 6) {\n            x = values[4];\n            y = values[5];\n        } else if (values.length === 16) {\n            x = values[12];\n            y = values[13];\n            z = values[14];\n        }\n    }\n    return {\n        x,\n        y,\n        z\n    };\n}\nfunction useAnimation(nodeRef, computeAnimation) {\n    const snapshot = react__WEBPACK_IMPORTED_MODULE_0__.useRef();\n    const animation = react__WEBPACK_IMPORTED_MODULE_0__.useRef();\n    const reduceMotion = useMotionPreference();\n    useLayoutEffect({\n        \"useAnimation.useLayoutEffect\": ()=>{\n            var _a, _b, _c;\n            if (nodeRef.current && snapshot.current !== undefined && !reduceMotion) {\n                const { keyframes, duration, easing, onfinish } = computeAnimation(snapshot.current, nodeRef.current.getBoundingClientRect(), currentTransformation(nodeRef.current)) || {};\n                if (keyframes && duration) {\n                    (_a = animation.current) === null || _a === void 0 ? void 0 : _a.cancel();\n                    animation.current = undefined;\n                    try {\n                        animation.current = (_c = (_b = nodeRef.current).animate) === null || _c === void 0 ? void 0 : _c.call(_b, keyframes, {\n                            duration,\n                            easing\n                        });\n                    } catch (err) {\n                        console.error(err);\n                    }\n                    if (animation.current) {\n                        animation.current.onfinish = ({\n                            \"useAnimation.useLayoutEffect\": ()=>{\n                                animation.current = undefined;\n                                onfinish === null || onfinish === void 0 ? void 0 : onfinish();\n                            }\n                        })[\"useAnimation.useLayoutEffect\"];\n                    }\n                }\n            }\n            snapshot.current = undefined;\n        }\n    }[\"useAnimation.useLayoutEffect\"]);\n    return {\n        prepareAnimation: (currentSnapshot)=>{\n            snapshot.current = currentSnapshot;\n        },\n        isAnimationPlaying: ()=>{\n            var _a;\n            return ((_a = animation.current) === null || _a === void 0 ? void 0 : _a.playState) === \"running\";\n        }\n    };\n}\nfunction useContainerRect() {\n    const containerRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n    const observerRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef();\n    const [containerRect, setContainerRect] = react__WEBPACK_IMPORTED_MODULE_0__.useState();\n    const setContainerRef = react__WEBPACK_IMPORTED_MODULE_0__.useCallback({\n        \"useContainerRect.useCallback[setContainerRef]\": (node)=>{\n            containerRef.current = node;\n            if (observerRef.current) {\n                observerRef.current.disconnect();\n                observerRef.current = undefined;\n            }\n            const updateContainerRect = {\n                \"useContainerRect.useCallback[setContainerRef].updateContainerRect\": ()=>{\n                    if (node) {\n                        const styles = window.getComputedStyle(node);\n                        const parse = {\n                            \"useContainerRect.useCallback[setContainerRef].updateContainerRect.parse\": (value)=>parseFloat(value) || 0\n                        }[\"useContainerRect.useCallback[setContainerRef].updateContainerRect.parse\"];\n                        setContainerRect({\n                            width: Math.round(node.clientWidth - parse(styles.paddingLeft) - parse(styles.paddingRight)),\n                            height: Math.round(node.clientHeight - parse(styles.paddingTop) - parse(styles.paddingBottom))\n                        });\n                    } else {\n                        setContainerRect(undefined);\n                    }\n                }\n            }[\"useContainerRect.useCallback[setContainerRef].updateContainerRect\"];\n            updateContainerRect();\n            if (node && typeof ResizeObserver !== \"undefined\") {\n                observerRef.current = new ResizeObserver(updateContainerRect);\n                observerRef.current.observe(node);\n            }\n        }\n    }[\"useContainerRect.useCallback[setContainerRef]\"], []);\n    return {\n        setContainerRef,\n        containerRef,\n        containerRect\n    };\n}\nfunction useDelay() {\n    const timeoutId = react__WEBPACK_IMPORTED_MODULE_0__.useRef();\n    const { setTimeout, clearTimeout } = useTimeouts();\n    return react__WEBPACK_IMPORTED_MODULE_0__.useCallback({\n        \"useDelay.useCallback\": (callback, delay)=>{\n            clearTimeout(timeoutId.current);\n            timeoutId.current = setTimeout(callback, delay > 0 ? delay : 0);\n        }\n    }[\"useDelay.useCallback\"], [\n        setTimeout,\n        clearTimeout\n    ]);\n}\nfunction useEventCallback(fn) {\n    const ref = react__WEBPACK_IMPORTED_MODULE_0__.useRef(fn);\n    useLayoutEffect({\n        \"useEventCallback.useLayoutEffect\": ()=>{\n            ref.current = fn;\n        }\n    }[\"useEventCallback.useLayoutEffect\"]);\n    return react__WEBPACK_IMPORTED_MODULE_0__.useCallback({\n        \"useEventCallback.useCallback\": (...args)=>{\n            var _a;\n            return (_a = ref.current) === null || _a === void 0 ? void 0 : _a.call(ref, ...args);\n        }\n    }[\"useEventCallback.useCallback\"], []);\n}\nfunction setRef(ref, value) {\n    if (typeof ref === \"function\") {\n        ref(value);\n    } else if (ref) {\n        ref.current = value;\n    }\n}\nfunction useForkRef(refA, refB) {\n    return react__WEBPACK_IMPORTED_MODULE_0__.useMemo({\n        \"useForkRef.useMemo\": ()=>refA == null && refB == null ? null : ({\n                \"useForkRef.useMemo\": (refValue)=>{\n                    setRef(refA, refValue);\n                    setRef(refB, refValue);\n                }\n            })[\"useForkRef.useMemo\"]\n    }[\"useForkRef.useMemo\"], [\n        refA,\n        refB\n    ]);\n}\nfunction useLoseFocus(focus, disabled = false) {\n    const focused = react__WEBPACK_IMPORTED_MODULE_0__.useRef();\n    useLayoutEffect({\n        \"useLoseFocus.useLayoutEffect\": ()=>{\n            if (disabled && focused.current) {\n                focused.current = false;\n                focus();\n            }\n        }\n    }[\"useLoseFocus.useLayoutEffect\"], [\n        disabled,\n        focus\n    ]);\n    const onFocus = react__WEBPACK_IMPORTED_MODULE_0__.useCallback({\n        \"useLoseFocus.useCallback[onFocus]\": ()=>{\n            focused.current = true;\n        }\n    }[\"useLoseFocus.useCallback[onFocus]\"], []);\n    const onBlur = react__WEBPACK_IMPORTED_MODULE_0__.useCallback({\n        \"useLoseFocus.useCallback[onBlur]\": ()=>{\n            focused.current = false;\n        }\n    }[\"useLoseFocus.useCallback[onBlur]\"], []);\n    return {\n        onFocus,\n        onBlur\n    };\n}\nfunction useRTL() {\n    const [isRTL, setIsRTL] = react__WEBPACK_IMPORTED_MODULE_0__.useState(false);\n    useLayoutEffect({\n        \"useRTL.useLayoutEffect\": ()=>{\n            setIsRTL(window.getComputedStyle(window.document.documentElement).direction === \"rtl\");\n        }\n    }[\"useRTL.useLayoutEffect\"], []);\n    return isRTL;\n}\nfunction useSensors() {\n    const [subscribers] = react__WEBPACK_IMPORTED_MODULE_0__.useState({});\n    const notifySubscribers = react__WEBPACK_IMPORTED_MODULE_0__.useCallback({\n        \"useSensors.useCallback[notifySubscribers]\": (type, event)=>{\n            var _a;\n            (_a = subscribers[type]) === null || _a === void 0 ? void 0 : _a.forEach({\n                \"useSensors.useCallback[notifySubscribers]\": (listener)=>{\n                    if (!event.isPropagationStopped()) listener(event);\n                }\n            }[\"useSensors.useCallback[notifySubscribers]\"]);\n        }\n    }[\"useSensors.useCallback[notifySubscribers]\"], [\n        subscribers\n    ]);\n    const registerSensors = react__WEBPACK_IMPORTED_MODULE_0__.useMemo({\n        \"useSensors.useMemo[registerSensors]\": ()=>({\n                onPointerDown: ({\n                    \"useSensors.useMemo[registerSensors]\": (event)=>notifySubscribers(_types_js__WEBPACK_IMPORTED_MODULE_2__.EVENT_ON_POINTER_DOWN, event)\n                })[\"useSensors.useMemo[registerSensors]\"],\n                onPointerMove: ({\n                    \"useSensors.useMemo[registerSensors]\": (event)=>notifySubscribers(_types_js__WEBPACK_IMPORTED_MODULE_2__.EVENT_ON_POINTER_MOVE, event)\n                })[\"useSensors.useMemo[registerSensors]\"],\n                onPointerUp: ({\n                    \"useSensors.useMemo[registerSensors]\": (event)=>notifySubscribers(_types_js__WEBPACK_IMPORTED_MODULE_2__.EVENT_ON_POINTER_UP, event)\n                })[\"useSensors.useMemo[registerSensors]\"],\n                onPointerLeave: ({\n                    \"useSensors.useMemo[registerSensors]\": (event)=>notifySubscribers(_types_js__WEBPACK_IMPORTED_MODULE_2__.EVENT_ON_POINTER_LEAVE, event)\n                })[\"useSensors.useMemo[registerSensors]\"],\n                onPointerCancel: ({\n                    \"useSensors.useMemo[registerSensors]\": (event)=>notifySubscribers(_types_js__WEBPACK_IMPORTED_MODULE_2__.EVENT_ON_POINTER_CANCEL, event)\n                })[\"useSensors.useMemo[registerSensors]\"],\n                onKeyDown: ({\n                    \"useSensors.useMemo[registerSensors]\": (event)=>notifySubscribers(_types_js__WEBPACK_IMPORTED_MODULE_2__.EVENT_ON_KEY_DOWN, event)\n                })[\"useSensors.useMemo[registerSensors]\"],\n                onKeyUp: ({\n                    \"useSensors.useMemo[registerSensors]\": (event)=>notifySubscribers(_types_js__WEBPACK_IMPORTED_MODULE_2__.EVENT_ON_KEY_UP, event)\n                })[\"useSensors.useMemo[registerSensors]\"],\n                onWheel: ({\n                    \"useSensors.useMemo[registerSensors]\": (event)=>notifySubscribers(_types_js__WEBPACK_IMPORTED_MODULE_2__.EVENT_ON_WHEEL, event)\n                })[\"useSensors.useMemo[registerSensors]\"]\n            })\n    }[\"useSensors.useMemo[registerSensors]\"], [\n        notifySubscribers\n    ]);\n    const subscribeSensors = react__WEBPACK_IMPORTED_MODULE_0__.useCallback({\n        \"useSensors.useCallback[subscribeSensors]\": (type, callback)=>{\n            if (!subscribers[type]) {\n                subscribers[type] = [];\n            }\n            subscribers[type].unshift(callback);\n            return ({\n                \"useSensors.useCallback[subscribeSensors]\": ()=>{\n                    const listeners = subscribers[type];\n                    if (listeners) {\n                        listeners.splice(0, listeners.length, ...listeners.filter({\n                            \"useSensors.useCallback[subscribeSensors]\": (el)=>el !== callback\n                        }[\"useSensors.useCallback[subscribeSensors]\"]));\n                    }\n                }\n            })[\"useSensors.useCallback[subscribeSensors]\"];\n        }\n    }[\"useSensors.useCallback[subscribeSensors]\"], [\n        subscribers\n    ]);\n    return {\n        registerSensors,\n        subscribeSensors\n    };\n}\nfunction useThrottle(callback, delay) {\n    const lastCallbackTime = react__WEBPACK_IMPORTED_MODULE_0__.useRef(0);\n    const delayCallback = useDelay();\n    const executeCallback = useEventCallback({\n        \"useThrottle.useEventCallback[executeCallback]\": (...args)=>{\n            lastCallbackTime.current = Date.now();\n            callback(args);\n        }\n    }[\"useThrottle.useEventCallback[executeCallback]\"]);\n    return react__WEBPACK_IMPORTED_MODULE_0__.useCallback({\n        \"useThrottle.useCallback\": (...args)=>{\n            delayCallback({\n                \"useThrottle.useCallback\": ()=>{\n                    executeCallback(args);\n                }\n            }[\"useThrottle.useCallback\"], delay - (Date.now() - lastCallbackTime.current));\n        }\n    }[\"useThrottle.useCallback\"], [\n        delay,\n        executeCallback,\n        delayCallback\n    ]);\n}\nconst slidePrefix = makeComposePrefix(\"slide\");\nconst slideImagePrefix = makeComposePrefix(\"slide_image\");\nfunction ImageSlide({ slide: image, offset, render, rect, imageFit, imageProps, onClick, onLoad, onError, style }) {\n    var _a, _b, _c, _d, _e, _f, _g;\n    const [status, setStatus] = react__WEBPACK_IMPORTED_MODULE_0__.useState(_types_js__WEBPACK_IMPORTED_MODULE_2__.SLIDE_STATUS_LOADING);\n    const { publish } = useEvents();\n    const { setTimeout } = useTimeouts();\n    const imageRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect({\n        \"ImageSlide.useEffect\": ()=>{\n            if (offset === 0) {\n                publish((0,_types_js__WEBPACK_IMPORTED_MODULE_2__.activeSlideStatus)(status));\n            }\n        }\n    }[\"ImageSlide.useEffect\"], [\n        offset,\n        status,\n        publish\n    ]);\n    const handleLoading = useEventCallback({\n        \"ImageSlide.useEventCallback[handleLoading]\": (img)=>{\n            (\"decode\" in img ? img.decode() : Promise.resolve()).catch({\n                \"ImageSlide.useEventCallback[handleLoading]\": ()=>{}\n            }[\"ImageSlide.useEventCallback[handleLoading]\"]).then({\n                \"ImageSlide.useEventCallback[handleLoading]\": ()=>{\n                    if (!img.parentNode) {\n                        return;\n                    }\n                    setStatus(_types_js__WEBPACK_IMPORTED_MODULE_2__.SLIDE_STATUS_COMPLETE);\n                    setTimeout({\n                        \"ImageSlide.useEventCallback[handleLoading]\": ()=>{\n                            onLoad === null || onLoad === void 0 ? void 0 : onLoad(img);\n                        }\n                    }[\"ImageSlide.useEventCallback[handleLoading]\"], 0);\n                }\n            }[\"ImageSlide.useEventCallback[handleLoading]\"]);\n        }\n    }[\"ImageSlide.useEventCallback[handleLoading]\"]);\n    const setImageRef = react__WEBPACK_IMPORTED_MODULE_0__.useCallback({\n        \"ImageSlide.useCallback[setImageRef]\": (img)=>{\n            imageRef.current = img;\n            if (img === null || img === void 0 ? void 0 : img.complete) {\n                handleLoading(img);\n            }\n        }\n    }[\"ImageSlide.useCallback[setImageRef]\"], [\n        handleLoading\n    ]);\n    const handleOnLoad = react__WEBPACK_IMPORTED_MODULE_0__.useCallback({\n        \"ImageSlide.useCallback[handleOnLoad]\": (event)=>{\n            handleLoading(event.currentTarget);\n        }\n    }[\"ImageSlide.useCallback[handleOnLoad]\"], [\n        handleLoading\n    ]);\n    const handleOnError = useEventCallback({\n        \"ImageSlide.useEventCallback[handleOnError]\": ()=>{\n            setStatus(_types_js__WEBPACK_IMPORTED_MODULE_2__.SLIDE_STATUS_ERROR);\n            onError === null || onError === void 0 ? void 0 : onError();\n        }\n    }[\"ImageSlide.useEventCallback[handleOnError]\"]);\n    const cover = isImageFitCover(image, imageFit);\n    const nonInfinite = (value, fallback)=>Number.isFinite(value) ? value : fallback;\n    const maxWidth = nonInfinite(Math.max(...((_b = (_a = image.srcSet) === null || _a === void 0 ? void 0 : _a.map((x)=>x.width)) !== null && _b !== void 0 ? _b : []).concat(image.width ? [\n        image.width\n    ] : []).filter(Boolean)), ((_c = imageRef.current) === null || _c === void 0 ? void 0 : _c.naturalWidth) || 0);\n    const maxHeight = nonInfinite(Math.max(...((_e = (_d = image.srcSet) === null || _d === void 0 ? void 0 : _d.map((x)=>x.height)) !== null && _e !== void 0 ? _e : []).concat(image.height ? [\n        image.height\n    ] : []).filter(Boolean)), ((_f = imageRef.current) === null || _f === void 0 ? void 0 : _f.naturalHeight) || 0);\n    const defaultStyle = maxWidth && maxHeight ? {\n        maxWidth: `min(${maxWidth}px, 100%)`,\n        maxHeight: `min(${maxHeight}px, 100%)`\n    } : {\n        maxWidth: \"100%\",\n        maxHeight: \"100%\"\n    };\n    const srcSet = (_g = image.srcSet) === null || _g === void 0 ? void 0 : _g.sort((a, b)=>a.width - b.width).map((item)=>`${item.src} ${item.width}w`).join(\", \");\n    const estimateActualWidth = ()=>rect && !cover && image.width && image.height ? rect.height / image.height * image.width : Number.MAX_VALUE;\n    const sizes = srcSet && rect && hasWindow() ? `${Math.round(Math.min(estimateActualWidth(), rect.width))}px` : undefined;\n    const { style: imagePropsStyle, className: imagePropsClassName, ...restImageProps } = imageProps || {};\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"img\", {\n        ref: setImageRef,\n        onLoad: handleOnLoad,\n        onError: handleOnError,\n        onClick: onClick,\n        draggable: false,\n        className: clsx(cssClass(slideImagePrefix()), cover && cssClass(slideImagePrefix(\"cover\")), status !== _types_js__WEBPACK_IMPORTED_MODULE_2__.SLIDE_STATUS_COMPLETE && cssClass(slideImagePrefix(\"loading\")), imagePropsClassName),\n        style: {\n            ...defaultStyle,\n            ...style,\n            ...imagePropsStyle\n        },\n        ...restImageProps,\n        alt: image.alt,\n        sizes: sizes,\n        srcSet: srcSet,\n        src: image.src\n    }), status !== _types_js__WEBPACK_IMPORTED_MODULE_2__.SLIDE_STATUS_COMPLETE && /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        className: cssClass(slidePrefix(_types_js__WEBPACK_IMPORTED_MODULE_2__.SLIDE_STATUS_PLACEHOLDER))\n    }, status === _types_js__WEBPACK_IMPORTED_MODULE_2__.SLIDE_STATUS_LOADING && ((render === null || render === void 0 ? void 0 : render.iconLoading) ? render.iconLoading() : /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(LoadingIcon, {\n        className: clsx(cssClass(_types_js__WEBPACK_IMPORTED_MODULE_2__.ELEMENT_ICON), cssClass(slidePrefix(_types_js__WEBPACK_IMPORTED_MODULE_2__.SLIDE_STATUS_LOADING)))\n    })), status === _types_js__WEBPACK_IMPORTED_MODULE_2__.SLIDE_STATUS_ERROR && ((render === null || render === void 0 ? void 0 : render.iconError) ? render.iconError() : /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(ErrorIcon, {\n        className: clsx(cssClass(_types_js__WEBPACK_IMPORTED_MODULE_2__.ELEMENT_ICON), cssClass(slidePrefix(_types_js__WEBPACK_IMPORTED_MODULE_2__.SLIDE_STATUS_ERROR)))\n    }))));\n}\nconst LightboxRoot = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(function LightboxRoot({ className, children, ...rest }, ref) {\n    const nodeRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(DocumentContextProvider, {\n        nodeRef: nodeRef\n    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        ref: useForkRef(ref, nodeRef),\n        className: clsx(cssClass(\"root\"), className),\n        ...rest\n    }, children));\n});\nvar SwipeState;\n(function(SwipeState) {\n    SwipeState[SwipeState[\"NONE\"] = 0] = \"NONE\";\n    SwipeState[SwipeState[\"SWIPE\"] = 1] = \"SWIPE\";\n    SwipeState[SwipeState[\"PULL\"] = 2] = \"PULL\";\n    SwipeState[SwipeState[\"ANIMATION\"] = 3] = \"ANIMATION\";\n})(SwipeState || (SwipeState = {}));\nfunction usePointerEvents(subscribeSensors, onPointerDown, onPointerMove, onPointerUp, disabled) {\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect({\n        \"usePointerEvents.useEffect\": ()=>!disabled ? cleanup(subscribeSensors(_types_js__WEBPACK_IMPORTED_MODULE_2__.EVENT_ON_POINTER_DOWN, onPointerDown), subscribeSensors(_types_js__WEBPACK_IMPORTED_MODULE_2__.EVENT_ON_POINTER_MOVE, onPointerMove), subscribeSensors(_types_js__WEBPACK_IMPORTED_MODULE_2__.EVENT_ON_POINTER_UP, onPointerUp), subscribeSensors(_types_js__WEBPACK_IMPORTED_MODULE_2__.EVENT_ON_POINTER_LEAVE, onPointerUp), subscribeSensors(_types_js__WEBPACK_IMPORTED_MODULE_2__.EVENT_ON_POINTER_CANCEL, onPointerUp)) : ({\n                \"usePointerEvents.useEffect\": ()=>{}\n            })[\"usePointerEvents.useEffect\"]\n    }[\"usePointerEvents.useEffect\"], [\n        subscribeSensors,\n        onPointerDown,\n        onPointerMove,\n        onPointerUp,\n        disabled\n    ]);\n}\nvar Gesture;\n(function(Gesture) {\n    Gesture[Gesture[\"NONE\"] = 0] = \"NONE\";\n    Gesture[Gesture[\"SWIPE\"] = 1] = \"SWIPE\";\n    Gesture[Gesture[\"PULL\"] = 2] = \"PULL\";\n})(Gesture || (Gesture = {}));\nconst SWIPE_THRESHOLD = 30;\nfunction usePointerSwipe(subscribeSensors, isSwipeValid, containerWidth, swipeAnimationDuration, onSwipeStart, onSwipeProgress, onSwipeFinish, onSwipeCancel, pullUpEnabled, pullDownEnabled, onPullStart, onPullProgress, onPullFinish, onPullCancel) {\n    const offset = react__WEBPACK_IMPORTED_MODULE_0__.useRef(0);\n    const pointers = react__WEBPACK_IMPORTED_MODULE_0__.useRef([]);\n    const activePointer = react__WEBPACK_IMPORTED_MODULE_0__.useRef();\n    const startTime = react__WEBPACK_IMPORTED_MODULE_0__.useRef(0);\n    const gesture = react__WEBPACK_IMPORTED_MODULE_0__.useRef(Gesture.NONE);\n    const clearPointer = react__WEBPACK_IMPORTED_MODULE_0__.useCallback({\n        \"usePointerSwipe.useCallback[clearPointer]\": (event)=>{\n            if (activePointer.current === event.pointerId) {\n                activePointer.current = undefined;\n                gesture.current = Gesture.NONE;\n            }\n            const currentPointers = pointers.current;\n            currentPointers.splice(0, currentPointers.length, ...currentPointers.filter({\n                \"usePointerSwipe.useCallback[clearPointer]\": (p)=>p.pointerId !== event.pointerId\n            }[\"usePointerSwipe.useCallback[clearPointer]\"]));\n        }\n    }[\"usePointerSwipe.useCallback[clearPointer]\"], []);\n    const addPointer = react__WEBPACK_IMPORTED_MODULE_0__.useCallback({\n        \"usePointerSwipe.useCallback[addPointer]\": (event)=>{\n            clearPointer(event);\n            event.persist();\n            pointers.current.push(event);\n        }\n    }[\"usePointerSwipe.useCallback[addPointer]\"], [\n        clearPointer\n    ]);\n    const onPointerDown = useEventCallback({\n        \"usePointerSwipe.useEventCallback[onPointerDown]\": (event)=>{\n            addPointer(event);\n        }\n    }[\"usePointerSwipe.useEventCallback[onPointerDown]\"]);\n    const exceedsPullThreshold = (value, threshold)=>pullDownEnabled && value > threshold || pullUpEnabled && value < -threshold;\n    const onPointerUp = useEventCallback({\n        \"usePointerSwipe.useEventCallback[onPointerUp]\": (event)=>{\n            if (pointers.current.find({\n                \"usePointerSwipe.useEventCallback[onPointerUp]\": (x)=>x.pointerId === event.pointerId\n            }[\"usePointerSwipe.useEventCallback[onPointerUp]\"]) && activePointer.current === event.pointerId) {\n                const duration = Date.now() - startTime.current;\n                const currentOffset = offset.current;\n                if (gesture.current === Gesture.SWIPE) {\n                    if (Math.abs(currentOffset) > 0.3 * containerWidth || Math.abs(currentOffset) > 5 && duration < swipeAnimationDuration) {\n                        onSwipeFinish(currentOffset, duration);\n                    } else {\n                        onSwipeCancel(currentOffset);\n                    }\n                } else if (gesture.current === Gesture.PULL) {\n                    if (exceedsPullThreshold(currentOffset, 2 * SWIPE_THRESHOLD)) {\n                        onPullFinish(currentOffset, duration);\n                    } else {\n                        onPullCancel(currentOffset);\n                    }\n                }\n                offset.current = 0;\n                gesture.current = Gesture.NONE;\n            }\n            clearPointer(event);\n        }\n    }[\"usePointerSwipe.useEventCallback[onPointerUp]\"]);\n    const onPointerMove = useEventCallback({\n        \"usePointerSwipe.useEventCallback[onPointerMove]\": (event)=>{\n            const pointer = pointers.current.find({\n                \"usePointerSwipe.useEventCallback[onPointerMove].pointer\": (p)=>p.pointerId === event.pointerId\n            }[\"usePointerSwipe.useEventCallback[onPointerMove].pointer\"]);\n            if (pointer) {\n                const isCurrentPointer = activePointer.current === event.pointerId;\n                if (event.buttons === 0) {\n                    if (isCurrentPointer && offset.current !== 0) {\n                        onPointerUp(event);\n                    } else {\n                        clearPointer(pointer);\n                    }\n                    return;\n                }\n                const deltaX = event.clientX - pointer.clientX;\n                const deltaY = event.clientY - pointer.clientY;\n                if (activePointer.current === undefined) {\n                    const startGesture = {\n                        \"usePointerSwipe.useEventCallback[onPointerMove].startGesture\": (newGesture)=>{\n                            addPointer(event);\n                            activePointer.current = event.pointerId;\n                            startTime.current = Date.now();\n                            gesture.current = newGesture;\n                        }\n                    }[\"usePointerSwipe.useEventCallback[onPointerMove].startGesture\"];\n                    if (Math.abs(deltaX) > Math.abs(deltaY) && Math.abs(deltaX) > SWIPE_THRESHOLD && isSwipeValid(deltaX)) {\n                        startGesture(Gesture.SWIPE);\n                        onSwipeStart();\n                    } else if (Math.abs(deltaY) > Math.abs(deltaX) && exceedsPullThreshold(deltaY, SWIPE_THRESHOLD)) {\n                        startGesture(Gesture.PULL);\n                        onPullStart();\n                    }\n                } else if (isCurrentPointer) {\n                    if (gesture.current === Gesture.SWIPE) {\n                        offset.current = deltaX;\n                        onSwipeProgress(deltaX);\n                    } else if (gesture.current === Gesture.PULL) {\n                        offset.current = deltaY;\n                        onPullProgress(deltaY);\n                    }\n                }\n            }\n        }\n    }[\"usePointerSwipe.useEventCallback[onPointerMove]\"]);\n    usePointerEvents(subscribeSensors, onPointerDown, onPointerMove, onPointerUp);\n}\nfunction usePreventWheelDefaults({ preventDefaultWheelX, preventDefaultWheelY }) {\n    const ref = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n    const listener = useEventCallback({\n        \"usePreventWheelDefaults.useEventCallback[listener]\": (event)=>{\n            const horizontal = Math.abs(event.deltaX) > Math.abs(event.deltaY);\n            if (horizontal && preventDefaultWheelX || !horizontal && preventDefaultWheelY || event.ctrlKey) {\n                event.preventDefault();\n            }\n        }\n    }[\"usePreventWheelDefaults.useEventCallback[listener]\"]);\n    return react__WEBPACK_IMPORTED_MODULE_0__.useCallback({\n        \"usePreventWheelDefaults.useCallback\": (node)=>{\n            var _a;\n            if (node) {\n                node.addEventListener(\"wheel\", listener, {\n                    passive: false\n                });\n            } else {\n                (_a = ref.current) === null || _a === void 0 ? void 0 : _a.removeEventListener(\"wheel\", listener);\n            }\n            ref.current = node;\n        }\n    }[\"usePreventWheelDefaults.useCallback\"], [\n        listener\n    ]);\n}\nfunction useWheelSwipe(swipeState, subscribeSensors, isSwipeValid, containerWidth, swipeAnimationDuration, onSwipeStart, onSwipeProgress, onSwipeFinish, onSwipeCancel) {\n    const offset = react__WEBPACK_IMPORTED_MODULE_0__.useRef(0);\n    const intent = react__WEBPACK_IMPORTED_MODULE_0__.useRef(0);\n    const intentCleanup = react__WEBPACK_IMPORTED_MODULE_0__.useRef();\n    const resetCleanup = react__WEBPACK_IMPORTED_MODULE_0__.useRef();\n    const wheelInertia = react__WEBPACK_IMPORTED_MODULE_0__.useRef(0);\n    const wheelInertiaCleanup = react__WEBPACK_IMPORTED_MODULE_0__.useRef();\n    const startTime = react__WEBPACK_IMPORTED_MODULE_0__.useRef(0);\n    const { setTimeout, clearTimeout } = useTimeouts();\n    const cancelSwipeIntentCleanup = react__WEBPACK_IMPORTED_MODULE_0__.useCallback({\n        \"useWheelSwipe.useCallback[cancelSwipeIntentCleanup]\": ()=>{\n            if (intentCleanup.current) {\n                clearTimeout(intentCleanup.current);\n                intentCleanup.current = undefined;\n            }\n        }\n    }[\"useWheelSwipe.useCallback[cancelSwipeIntentCleanup]\"], [\n        clearTimeout\n    ]);\n    const cancelSwipeResetCleanup = react__WEBPACK_IMPORTED_MODULE_0__.useCallback({\n        \"useWheelSwipe.useCallback[cancelSwipeResetCleanup]\": ()=>{\n            if (resetCleanup.current) {\n                clearTimeout(resetCleanup.current);\n                resetCleanup.current = undefined;\n            }\n        }\n    }[\"useWheelSwipe.useCallback[cancelSwipeResetCleanup]\"], [\n        clearTimeout\n    ]);\n    const handleCleanup = useEventCallback({\n        \"useWheelSwipe.useEventCallback[handleCleanup]\": ()=>{\n            if (swipeState !== SwipeState.SWIPE) {\n                offset.current = 0;\n                startTime.current = 0;\n                cancelSwipeIntentCleanup();\n                cancelSwipeResetCleanup();\n            }\n        }\n    }[\"useWheelSwipe.useEventCallback[handleCleanup]\"]);\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(handleCleanup, [\n        swipeState,\n        handleCleanup\n    ]);\n    const handleCancelSwipe = useEventCallback({\n        \"useWheelSwipe.useEventCallback[handleCancelSwipe]\": (currentSwipeOffset)=>{\n            resetCleanup.current = undefined;\n            if (offset.current === currentSwipeOffset) {\n                onSwipeCancel(offset.current);\n            }\n        }\n    }[\"useWheelSwipe.useEventCallback[handleCancelSwipe]\"]);\n    const onWheel = useEventCallback({\n        \"useWheelSwipe.useEventCallback[onWheel]\": (event)=>{\n            if (event.ctrlKey) {\n                return;\n            }\n            if (Math.abs(event.deltaY) > Math.abs(event.deltaX)) {\n                return;\n            }\n            const setWheelInertia = {\n                \"useWheelSwipe.useEventCallback[onWheel].setWheelInertia\": (inertia)=>{\n                    wheelInertia.current = inertia;\n                    clearTimeout(wheelInertiaCleanup.current);\n                    wheelInertiaCleanup.current = inertia > 0 ? setTimeout({\n                        \"useWheelSwipe.useEventCallback[onWheel].setWheelInertia\": ()=>{\n                            wheelInertia.current = 0;\n                            wheelInertiaCleanup.current = undefined;\n                        }\n                    }[\"useWheelSwipe.useEventCallback[onWheel].setWheelInertia\"], 300) : undefined;\n                }\n            }[\"useWheelSwipe.useEventCallback[onWheel].setWheelInertia\"];\n            if (swipeState === SwipeState.NONE) {\n                if (Math.abs(event.deltaX) <= 1.2 * Math.abs(wheelInertia.current)) {\n                    setWheelInertia(event.deltaX);\n                    return;\n                }\n                if (!isSwipeValid(-event.deltaX)) {\n                    return;\n                }\n                intent.current += event.deltaX;\n                cancelSwipeIntentCleanup();\n                if (Math.abs(intent.current) > 30) {\n                    intent.current = 0;\n                    setWheelInertia(0);\n                    startTime.current = Date.now();\n                    onSwipeStart();\n                } else {\n                    const currentSwipeIntent = intent.current;\n                    intentCleanup.current = setTimeout({\n                        \"useWheelSwipe.useEventCallback[onWheel]\": ()=>{\n                            intentCleanup.current = undefined;\n                            if (currentSwipeIntent === intent.current) {\n                                intent.current = 0;\n                            }\n                        }\n                    }[\"useWheelSwipe.useEventCallback[onWheel]\"], swipeAnimationDuration);\n                }\n            } else if (swipeState === SwipeState.SWIPE) {\n                let newSwipeOffset = offset.current - event.deltaX;\n                newSwipeOffset = Math.min(Math.abs(newSwipeOffset), containerWidth) * Math.sign(newSwipeOffset);\n                offset.current = newSwipeOffset;\n                onSwipeProgress(newSwipeOffset);\n                cancelSwipeResetCleanup();\n                if (Math.abs(newSwipeOffset) > 0.2 * containerWidth) {\n                    setWheelInertia(event.deltaX);\n                    onSwipeFinish(newSwipeOffset, Date.now() - startTime.current);\n                    return;\n                }\n                resetCleanup.current = setTimeout({\n                    \"useWheelSwipe.useEventCallback[onWheel]\": ()=>handleCancelSwipe(newSwipeOffset)\n                }[\"useWheelSwipe.useEventCallback[onWheel]\"], 2 * swipeAnimationDuration);\n            } else {\n                setWheelInertia(event.deltaX);\n            }\n        }\n    }[\"useWheelSwipe.useEventCallback[onWheel]\"]);\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect({\n        \"useWheelSwipe.useEffect\": ()=>subscribeSensors(_types_js__WEBPACK_IMPORTED_MODULE_2__.EVENT_ON_WHEEL, onWheel)\n    }[\"useWheelSwipe.useEffect\"], [\n        subscribeSensors,\n        onWheel\n    ]);\n}\nconst cssContainerPrefix = makeComposePrefix(\"container\");\nconst ControllerContext = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createContext(null);\nconst useController = makeUseContext(\"useController\", \"ControllerContext\", ControllerContext);\nfunction Controller({ children, ...props }) {\n    var _a;\n    const { carousel, animation, controller, on, styles, render } = props;\n    const { closeOnPullUp, closeOnPullDown, preventDefaultWheelX, preventDefaultWheelY } = controller;\n    const [toolbarWidth, setToolbarWidth] = react__WEBPACK_IMPORTED_MODULE_0__.useState();\n    const state = useLightboxState();\n    const dispatch = useLightboxDispatch();\n    const [swipeState, setSwipeState] = react__WEBPACK_IMPORTED_MODULE_0__.useState(SwipeState.NONE);\n    const swipeOffset = react__WEBPACK_IMPORTED_MODULE_0__.useRef(0);\n    const pullOffset = react__WEBPACK_IMPORTED_MODULE_0__.useRef(0);\n    const pullOpacity = react__WEBPACK_IMPORTED_MODULE_0__.useRef(1);\n    const { registerSensors, subscribeSensors } = useSensors();\n    const { subscribe, publish } = useEvents();\n    const cleanupAnimationIncrement = useDelay();\n    const cleanupSwipeOffset = useDelay();\n    const cleanupPullOffset = useDelay();\n    const { containerRef, setContainerRef, containerRect } = useContainerRect();\n    const handleContainerRef = useForkRef(usePreventWheelDefaults({\n        preventDefaultWheelX,\n        preventDefaultWheelY\n    }), setContainerRef);\n    const carouselRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n    const setCarouselRef = useForkRef(carouselRef, undefined);\n    const { getOwnerDocument } = useDocumentContext();\n    const isRTL = useRTL();\n    const rtl = (value)=>(isRTL ? -1 : 1) * (typeof value === \"number\" ? value : 1);\n    const focus = useEventCallback({\n        \"Controller.useEventCallback[focus]\": ()=>{\n            var _a;\n            return (_a = containerRef.current) === null || _a === void 0 ? void 0 : _a.focus();\n        }\n    }[\"Controller.useEventCallback[focus]\"]);\n    const getLightboxProps = useEventCallback({\n        \"Controller.useEventCallback[getLightboxProps]\": ()=>props\n    }[\"Controller.useEventCallback[getLightboxProps]\"]);\n    const getLightboxState = useEventCallback({\n        \"Controller.useEventCallback[getLightboxState]\": ()=>state\n    }[\"Controller.useEventCallback[getLightboxState]\"]);\n    const prev = react__WEBPACK_IMPORTED_MODULE_0__.useCallback({\n        \"Controller.useCallback[prev]\": (params)=>publish(_types_js__WEBPACK_IMPORTED_MODULE_2__.ACTION_PREV, params)\n    }[\"Controller.useCallback[prev]\"], [\n        publish\n    ]);\n    const next = react__WEBPACK_IMPORTED_MODULE_0__.useCallback({\n        \"Controller.useCallback[next]\": (params)=>publish(_types_js__WEBPACK_IMPORTED_MODULE_2__.ACTION_NEXT, params)\n    }[\"Controller.useCallback[next]\"], [\n        publish\n    ]);\n    const close = react__WEBPACK_IMPORTED_MODULE_0__.useCallback({\n        \"Controller.useCallback[close]\": ()=>publish(_types_js__WEBPACK_IMPORTED_MODULE_2__.ACTION_CLOSE)\n    }[\"Controller.useCallback[close]\"], [\n        publish\n    ]);\n    const isSwipeValid = (offset)=>!(carousel.finite && (rtl(offset) > 0 && state.currentIndex === 0 || rtl(offset) < 0 && state.currentIndex === state.slides.length - 1));\n    const setSwipeOffset = (offset)=>{\n        var _a;\n        swipeOffset.current = offset;\n        (_a = containerRef.current) === null || _a === void 0 ? void 0 : _a.style.setProperty(cssVar(\"swipe_offset\"), `${Math.round(offset)}px`);\n    };\n    const setPullOffset = (offset)=>{\n        var _a, _b;\n        pullOffset.current = offset;\n        pullOpacity.current = (()=>{\n            const threshold = 60;\n            const minOpacity = 0.5;\n            const offsetValue = (()=>{\n                if (closeOnPullDown && offset > 0) return offset;\n                if (closeOnPullUp && offset < 0) return -offset;\n                return 0;\n            })();\n            return Math.min(Math.max(round(1 - offsetValue / threshold * (1 - minOpacity), 2), minOpacity), 1);\n        })();\n        (_a = containerRef.current) === null || _a === void 0 ? void 0 : _a.style.setProperty(cssVar(\"pull_offset\"), `${Math.round(offset)}px`);\n        (_b = containerRef.current) === null || _b === void 0 ? void 0 : _b.style.setProperty(cssVar(\"pull_opacity\"), `${pullOpacity.current}`);\n    };\n    const { prepareAnimation: preparePullAnimation } = useAnimation(carouselRef, {\n        \"Controller.useAnimation\": (snapshot, rect, translate)=>{\n            if (carouselRef.current && containerRect) {\n                return {\n                    keyframes: [\n                        {\n                            transform: `translate(0, ${snapshot.rect.y - rect.y + translate.y}px)`,\n                            opacity: snapshot.opacity\n                        },\n                        {\n                            transform: \"translate(0, 0)\",\n                            opacity: 1\n                        }\n                    ],\n                    duration: snapshot.duration,\n                    easing: animation.easing.fade\n                };\n            }\n            return undefined;\n        }\n    }[\"Controller.useAnimation\"]);\n    const pull = (offset, cancel)=>{\n        if (closeOnPullUp || closeOnPullDown) {\n            setPullOffset(offset);\n            let duration = 0;\n            if (carouselRef.current) {\n                duration = animation.fade * (cancel ? 2 : 1);\n                preparePullAnimation({\n                    rect: carouselRef.current.getBoundingClientRect(),\n                    opacity: pullOpacity.current,\n                    duration\n                });\n            }\n            cleanupPullOffset(()=>{\n                setPullOffset(0);\n                setSwipeState(SwipeState.NONE);\n            }, duration);\n            setSwipeState(SwipeState.ANIMATION);\n            if (!cancel) {\n                close();\n            }\n        }\n    };\n    const { prepareAnimation, isAnimationPlaying } = useAnimation(carouselRef, {\n        \"Controller.useAnimation\": (snapshot, rect, translate)=>{\n            var _a;\n            if (carouselRef.current && containerRect && ((_a = state.animation) === null || _a === void 0 ? void 0 : _a.duration)) {\n                const parsedSpacing = parseLengthPercentage(carousel.spacing);\n                const spacingValue = (parsedSpacing.percent ? parsedSpacing.percent * containerRect.width / 100 : parsedSpacing.pixel) || 0;\n                return {\n                    keyframes: [\n                        {\n                            transform: `translate(${rtl(state.globalIndex - snapshot.index) * (containerRect.width + spacingValue) + snapshot.rect.x - rect.x + translate.x}px, 0)`\n                        },\n                        {\n                            transform: \"translate(0, 0)\"\n                        }\n                    ],\n                    duration: state.animation.duration,\n                    easing: state.animation.easing\n                };\n            }\n            return undefined;\n        }\n    }[\"Controller.useAnimation\"]);\n    const swipe = useEventCallback({\n        \"Controller.useEventCallback[swipe]\": (action)=>{\n            var _a, _b;\n            const currentSwipeOffset = action.offset || 0;\n            const swipeDuration = !currentSwipeOffset ? (_a = animation.navigation) !== null && _a !== void 0 ? _a : animation.swipe : animation.swipe;\n            const swipeEasing = !currentSwipeOffset && !isAnimationPlaying() ? animation.easing.navigation : animation.easing.swipe;\n            let { direction } = action;\n            const count = (_b = action.count) !== null && _b !== void 0 ? _b : 1;\n            let newSwipeState = SwipeState.ANIMATION;\n            let newSwipeAnimationDuration = swipeDuration * count;\n            if (!direction) {\n                const containerWidth = containerRect === null || containerRect === void 0 ? void 0 : containerRect.width;\n                const elapsedTime = action.duration || 0;\n                const expectedTime = containerWidth ? swipeDuration / containerWidth * Math.abs(currentSwipeOffset) : swipeDuration;\n                if (count !== 0) {\n                    if (elapsedTime < expectedTime) {\n                        newSwipeAnimationDuration = newSwipeAnimationDuration / expectedTime * Math.max(elapsedTime, expectedTime / 5);\n                    } else if (containerWidth) {\n                        newSwipeAnimationDuration = swipeDuration / containerWidth * (containerWidth - Math.abs(currentSwipeOffset));\n                    }\n                    direction = rtl(currentSwipeOffset) > 0 ? _types_js__WEBPACK_IMPORTED_MODULE_2__.ACTION_PREV : _types_js__WEBPACK_IMPORTED_MODULE_2__.ACTION_NEXT;\n                } else {\n                    newSwipeAnimationDuration = swipeDuration / 2;\n                }\n            }\n            let increment = 0;\n            if (direction === _types_js__WEBPACK_IMPORTED_MODULE_2__.ACTION_PREV) {\n                if (isSwipeValid(rtl(1))) {\n                    increment = -count;\n                } else {\n                    newSwipeState = SwipeState.NONE;\n                    newSwipeAnimationDuration = swipeDuration;\n                }\n            } else if (direction === _types_js__WEBPACK_IMPORTED_MODULE_2__.ACTION_NEXT) {\n                if (isSwipeValid(rtl(-1))) {\n                    increment = count;\n                } else {\n                    newSwipeState = SwipeState.NONE;\n                    newSwipeAnimationDuration = swipeDuration;\n                }\n            }\n            newSwipeAnimationDuration = Math.round(newSwipeAnimationDuration);\n            cleanupSwipeOffset({\n                \"Controller.useEventCallback[swipe]\": ()=>{\n                    setSwipeOffset(0);\n                    setSwipeState(SwipeState.NONE);\n                }\n            }[\"Controller.useEventCallback[swipe]\"], newSwipeAnimationDuration);\n            if (carouselRef.current) {\n                prepareAnimation({\n                    rect: carouselRef.current.getBoundingClientRect(),\n                    index: state.globalIndex\n                });\n            }\n            setSwipeState(newSwipeState);\n            publish(_types_js__WEBPACK_IMPORTED_MODULE_2__.ACTION_SWIPE, {\n                type: \"swipe\",\n                increment,\n                duration: newSwipeAnimationDuration,\n                easing: swipeEasing\n            });\n        }\n    }[\"Controller.useEventCallback[swipe]\"]);\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect({\n        \"Controller.useEffect\": ()=>{\n            var _a, _b;\n            if (((_a = state.animation) === null || _a === void 0 ? void 0 : _a.increment) && ((_b = state.animation) === null || _b === void 0 ? void 0 : _b.duration)) {\n                cleanupAnimationIncrement({\n                    \"Controller.useEffect\": ()=>dispatch({\n                            type: \"swipe\",\n                            increment: 0\n                        })\n                }[\"Controller.useEffect\"], state.animation.duration);\n            }\n        }\n    }[\"Controller.useEffect\"], [\n        state.animation,\n        dispatch,\n        cleanupAnimationIncrement\n    ]);\n    const swipeParams = [\n        subscribeSensors,\n        isSwipeValid,\n        (containerRect === null || containerRect === void 0 ? void 0 : containerRect.width) || 0,\n        animation.swipe,\n        ()=>setSwipeState(SwipeState.SWIPE),\n        (offset)=>setSwipeOffset(offset),\n        (offset, duration)=>swipe({\n                offset,\n                duration,\n                count: 1\n            }),\n        (offset)=>swipe({\n                offset,\n                count: 0\n            })\n    ];\n    const pullParams = [\n        ()=>{\n            if (closeOnPullDown) {\n                setSwipeState(SwipeState.PULL);\n            }\n        },\n        (offset)=>setPullOffset(offset),\n        (offset)=>pull(offset),\n        (offset)=>pull(offset, true)\n    ];\n    usePointerSwipe(...swipeParams, closeOnPullUp, closeOnPullDown, ...pullParams);\n    useWheelSwipe(swipeState, ...swipeParams);\n    const focusOnMount = useEventCallback({\n        \"Controller.useEventCallback[focusOnMount]\": ()=>{\n            if (controller.focus && getOwnerDocument().querySelector(`.${cssClass(_types_js__WEBPACK_IMPORTED_MODULE_2__.MODULE_PORTAL)} .${cssClass(cssContainerPrefix())}`)) {\n                focus();\n            }\n        }\n    }[\"Controller.useEventCallback[focusOnMount]\"]);\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(focusOnMount, [\n        focusOnMount\n    ]);\n    const onViewCallback = useEventCallback({\n        \"Controller.useEventCallback[onViewCallback]\": ()=>{\n            var _a;\n            (_a = on.view) === null || _a === void 0 ? void 0 : _a.call(on, {\n                index: state.currentIndex\n            });\n        }\n    }[\"Controller.useEventCallback[onViewCallback]\"]);\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(onViewCallback, [\n        state.globalIndex,\n        onViewCallback\n    ]);\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect({\n        \"Controller.useEffect\": ()=>cleanup(subscribe(_types_js__WEBPACK_IMPORTED_MODULE_2__.ACTION_PREV, {\n                \"Controller.useEffect\": (action)=>swipe({\n                        direction: _types_js__WEBPACK_IMPORTED_MODULE_2__.ACTION_PREV,\n                        ...action\n                    })\n            }[\"Controller.useEffect\"]), subscribe(_types_js__WEBPACK_IMPORTED_MODULE_2__.ACTION_NEXT, {\n                \"Controller.useEffect\": (action)=>swipe({\n                        direction: _types_js__WEBPACK_IMPORTED_MODULE_2__.ACTION_NEXT,\n                        ...action\n                    })\n            }[\"Controller.useEffect\"]), subscribe(_types_js__WEBPACK_IMPORTED_MODULE_2__.ACTION_SWIPE, {\n                \"Controller.useEffect\": (action)=>dispatch(action)\n            }[\"Controller.useEffect\"]))\n    }[\"Controller.useEffect\"], [\n        subscribe,\n        swipe,\n        dispatch\n    ]);\n    const context = react__WEBPACK_IMPORTED_MODULE_0__.useMemo({\n        \"Controller.useMemo[context]\": ()=>({\n                prev,\n                next,\n                close,\n                focus,\n                slideRect: containerRect ? computeSlideRect(containerRect, carousel.padding) : {\n                    width: 0,\n                    height: 0\n                },\n                containerRect: containerRect || {\n                    width: 0,\n                    height: 0\n                },\n                subscribeSensors,\n                containerRef,\n                setCarouselRef,\n                toolbarWidth,\n                setToolbarWidth\n            })\n    }[\"Controller.useMemo[context]\"], [\n        prev,\n        next,\n        close,\n        focus,\n        subscribeSensors,\n        containerRect,\n        containerRef,\n        setCarouselRef,\n        toolbarWidth,\n        setToolbarWidth,\n        carousel.padding\n    ]);\n    react__WEBPACK_IMPORTED_MODULE_0__.useImperativeHandle(controller.ref, {\n        \"Controller.useImperativeHandle\": ()=>({\n                prev,\n                next,\n                close,\n                focus,\n                getLightboxProps,\n                getLightboxState\n            })\n    }[\"Controller.useImperativeHandle\"], [\n        prev,\n        next,\n        close,\n        focus,\n        getLightboxProps,\n        getLightboxState\n    ]);\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        ref: handleContainerRef,\n        className: clsx(cssClass(cssContainerPrefix()), cssClass(_types_js__WEBPACK_IMPORTED_MODULE_2__.CLASS_FLEX_CENTER)),\n        style: {\n            ...swipeState === SwipeState.SWIPE ? {\n                [cssVar(\"swipe_offset\")]: `${Math.round(swipeOffset.current)}px`\n            } : null,\n            ...swipeState === SwipeState.PULL ? {\n                [cssVar(\"pull_offset\")]: `${Math.round(pullOffset.current)}px`,\n                [cssVar(\"pull_opacity\")]: `${pullOpacity.current}`\n            } : null,\n            ...controller.touchAction !== \"none\" ? {\n                [cssVar(\"controller_touch_action\")]: controller.touchAction\n            } : null,\n            ...styles.container\n        },\n        ...controller.aria ? {\n            role: \"presentation\",\n            \"aria-live\": \"polite\"\n        } : null,\n        tabIndex: -1,\n        ...registerSensors\n    }, containerRect && /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(ControllerContext.Provider, {\n        value: context\n    }, children, (_a = render.controls) === null || _a === void 0 ? void 0 : _a.call(render)));\n}\nconst ControllerModule = createModule(_types_js__WEBPACK_IMPORTED_MODULE_2__.MODULE_CONTROLLER, Controller);\nfunction cssPrefix$2(value) {\n    return composePrefix(_types_js__WEBPACK_IMPORTED_MODULE_2__.MODULE_CAROUSEL, value);\n}\nfunction cssSlidePrefix(value) {\n    return composePrefix(\"slide\", value);\n}\nfunction CarouselSlide({ slide, offset }) {\n    const containerRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n    const { currentIndex } = useLightboxState();\n    const { slideRect, close, focus } = useController();\n    const { render, carousel: { imageFit, imageProps }, on: { click: onClick }, controller: { closeOnBackdropClick }, styles: { slide: style } } = useLightboxProps();\n    const { getOwnerDocument } = useDocumentContext();\n    const offscreen = offset !== 0;\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect({\n        \"CarouselSlide.useEffect\": ()=>{\n            var _a;\n            if (offscreen && ((_a = containerRef.current) === null || _a === void 0 ? void 0 : _a.contains(getOwnerDocument().activeElement))) {\n                focus();\n            }\n        }\n    }[\"CarouselSlide.useEffect\"], [\n        offscreen,\n        focus,\n        getOwnerDocument\n    ]);\n    const renderSlide = ()=>{\n        var _a, _b, _c, _d;\n        let rendered = (_a = render.slide) === null || _a === void 0 ? void 0 : _a.call(render, {\n            slide,\n            offset,\n            rect: slideRect\n        });\n        if (!rendered && isImageSlide(slide)) {\n            rendered = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(ImageSlide, {\n                slide: slide,\n                offset: offset,\n                render: render,\n                rect: slideRect,\n                imageFit: imageFit,\n                imageProps: imageProps,\n                onClick: !offscreen ? ()=>onClick === null || onClick === void 0 ? void 0 : onClick({\n                        index: currentIndex\n                    }) : undefined\n            });\n        }\n        return rendered ? /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, (_b = render.slideHeader) === null || _b === void 0 ? void 0 : _b.call(render, {\n            slide\n        }), ((_c = render.slideContainer) !== null && _c !== void 0 ? _c : ({ children })=>children)({\n            slide,\n            children: rendered\n        }), (_d = render.slideFooter) === null || _d === void 0 ? void 0 : _d.call(render, {\n            slide\n        })) : null;\n    };\n    const handleBackdropClick = (event)=>{\n        const container = containerRef.current;\n        const target = event.target instanceof HTMLElement ? event.target : undefined;\n        if (closeOnBackdropClick && target && container && (target === container || Array.from(container.children).find((x)=>x === target) && target.classList.contains(cssClass(_types_js__WEBPACK_IMPORTED_MODULE_2__.CLASS_SLIDE_WRAPPER)))) {\n            close();\n        }\n    };\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        ref: containerRef,\n        className: clsx(cssClass(cssSlidePrefix()), !offscreen && cssClass(cssSlidePrefix(\"current\")), cssClass(_types_js__WEBPACK_IMPORTED_MODULE_2__.CLASS_FLEX_CENTER)),\n        ...makeInertWhen(offscreen),\n        onClick: handleBackdropClick,\n        style: style\n    }, renderSlide());\n}\nfunction Placeholder() {\n    const style = useLightboxProps().styles.slide;\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        className: cssClass(\"slide\"),\n        style: style\n    });\n}\nfunction Carousel({ carousel }) {\n    const { slides, currentIndex, globalIndex } = useLightboxState();\n    const { setCarouselRef } = useController();\n    const spacingValue = parseLengthPercentage(carousel.spacing);\n    const paddingValue = parseLengthPercentage(carousel.padding);\n    const preload = calculatePreload(carousel, slides, 1);\n    const items = [];\n    if (hasSlides(slides)) {\n        for(let index = currentIndex - preload; index <= currentIndex + preload; index += 1){\n            const slide = getSlide(slides, index);\n            const key = globalIndex - currentIndex + index;\n            const placeholder = carousel.finite && (index < 0 || index > slides.length - 1);\n            items.push(!placeholder ? {\n                key: [\n                    `${key}`,\n                    getSlideKey(slide)\n                ].filter(Boolean).join(\"|\"),\n                offset: index - currentIndex,\n                slide\n            } : {\n                key\n            });\n        }\n    }\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        ref: setCarouselRef,\n        className: clsx(cssClass(cssPrefix$2()), items.length > 0 && cssClass(cssPrefix$2(\"with_slides\"))),\n        style: {\n            [`${cssVar(cssPrefix$2(\"slides_count\"))}`]: items.length,\n            [`${cssVar(cssPrefix$2(\"spacing_px\"))}`]: spacingValue.pixel || 0,\n            [`${cssVar(cssPrefix$2(\"spacing_percent\"))}`]: spacingValue.percent || 0,\n            [`${cssVar(cssPrefix$2(\"padding_px\"))}`]: paddingValue.pixel || 0,\n            [`${cssVar(cssPrefix$2(\"padding_percent\"))}`]: paddingValue.percent || 0\n        }\n    }, items.map(({ key, slide, offset })=>slide ? /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(CarouselSlide, {\n            key: key,\n            slide: slide,\n            offset: offset\n        }) : /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Placeholder, {\n            key: key\n        })));\n}\nconst CarouselModule = createModule(_types_js__WEBPACK_IMPORTED_MODULE_2__.MODULE_CAROUSEL, Carousel);\nfunction useNavigationState() {\n    const { carousel } = useLightboxProps();\n    const { slides, currentIndex } = useLightboxState();\n    const prevDisabled = slides.length === 0 || carousel.finite && currentIndex === 0;\n    const nextDisabled = slides.length === 0 || carousel.finite && currentIndex === slides.length - 1;\n    return {\n        prevDisabled,\n        nextDisabled\n    };\n}\nfunction useKeyboardNavigation(subscribeSensors) {\n    var _a;\n    const isRTL = useRTL();\n    const { publish } = useEvents();\n    const { animation } = useLightboxProps();\n    const { prevDisabled, nextDisabled } = useNavigationState();\n    const throttle = ((_a = animation.navigation) !== null && _a !== void 0 ? _a : animation.swipe) / 2;\n    const prev = useThrottle({\n        \"useKeyboardNavigation.useThrottle[prev]\": ()=>publish(_types_js__WEBPACK_IMPORTED_MODULE_2__.ACTION_PREV)\n    }[\"useKeyboardNavigation.useThrottle[prev]\"], throttle);\n    const next = useThrottle({\n        \"useKeyboardNavigation.useThrottle[next]\": ()=>publish(_types_js__WEBPACK_IMPORTED_MODULE_2__.ACTION_NEXT)\n    }[\"useKeyboardNavigation.useThrottle[next]\"], throttle);\n    const handleKeyDown = useEventCallback({\n        \"useKeyboardNavigation.useEventCallback[handleKeyDown]\": (event)=>{\n            switch(event.key){\n                case _types_js__WEBPACK_IMPORTED_MODULE_2__.VK_ESCAPE:\n                    publish(_types_js__WEBPACK_IMPORTED_MODULE_2__.ACTION_CLOSE);\n                    break;\n                case _types_js__WEBPACK_IMPORTED_MODULE_2__.VK_ARROW_LEFT:\n                    if (!(isRTL ? nextDisabled : prevDisabled)) (isRTL ? next : prev)();\n                    break;\n                case _types_js__WEBPACK_IMPORTED_MODULE_2__.VK_ARROW_RIGHT:\n                    if (!(isRTL ? prevDisabled : nextDisabled)) (isRTL ? prev : next)();\n                    break;\n                default:\n            }\n        }\n    }[\"useKeyboardNavigation.useEventCallback[handleKeyDown]\"]);\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect({\n        \"useKeyboardNavigation.useEffect\": ()=>subscribeSensors(_types_js__WEBPACK_IMPORTED_MODULE_2__.EVENT_ON_KEY_DOWN, handleKeyDown)\n    }[\"useKeyboardNavigation.useEffect\"], [\n        subscribeSensors,\n        handleKeyDown\n    ]);\n}\nfunction NavigationButton({ label, icon, renderIcon, action, onClick, disabled, style }) {\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(IconButton, {\n        label: label,\n        icon: icon,\n        renderIcon: renderIcon,\n        className: cssClass(`navigation_${action}`),\n        disabled: disabled,\n        onClick: onClick,\n        style: style,\n        ...useLoseFocus(useController().focus, disabled)\n    });\n}\nfunction Navigation({ render: { buttonPrev, buttonNext, iconPrev, iconNext }, styles }) {\n    const { prev, next, subscribeSensors } = useController();\n    const { prevDisabled, nextDisabled } = useNavigationState();\n    useKeyboardNavigation(subscribeSensors);\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, buttonPrev ? buttonPrev() : /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(NavigationButton, {\n        label: \"Previous\",\n        action: _types_js__WEBPACK_IMPORTED_MODULE_2__.ACTION_PREV,\n        icon: PreviousIcon,\n        renderIcon: iconPrev,\n        style: styles.navigationPrev,\n        disabled: prevDisabled,\n        onClick: prev\n    }), buttonNext ? buttonNext() : /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(NavigationButton, {\n        label: \"Next\",\n        action: _types_js__WEBPACK_IMPORTED_MODULE_2__.ACTION_NEXT,\n        icon: NextIcon,\n        renderIcon: iconNext,\n        style: styles.navigationNext,\n        disabled: nextDisabled,\n        onClick: next\n    }));\n}\nconst NavigationModule = createModule(_types_js__WEBPACK_IMPORTED_MODULE_2__.MODULE_NAVIGATION, Navigation);\nconst noScroll = cssClass(_types_js__WEBPACK_IMPORTED_MODULE_2__.CLASS_NO_SCROLL);\nconst noScrollPadding = cssClass(_types_js__WEBPACK_IMPORTED_MODULE_2__.CLASS_NO_SCROLL_PADDING);\nfunction isHTMLElement(element) {\n    return \"style\" in element;\n}\nfunction padScrollbar(element, padding, rtl) {\n    const styles = window.getComputedStyle(element);\n    const property = rtl ? \"padding-left\" : \"padding-right\";\n    const computedValue = rtl ? styles.paddingLeft : styles.paddingRight;\n    const originalValue = element.style.getPropertyValue(property);\n    element.style.setProperty(property, `${(parseInt(computedValue) || 0) + padding}px`);\n    return ()=>{\n        if (originalValue) {\n            element.style.setProperty(property, originalValue);\n        } else {\n            element.style.removeProperty(property);\n        }\n    };\n}\nfunction NoScroll({ noScroll: { disabled }, children }) {\n    const rtl = useRTL();\n    const { getOwnerDocument, getOwnerWindow } = useDocumentContext();\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect({\n        \"NoScroll.useEffect\": ()=>{\n            if (disabled) return ({\n                \"NoScroll.useEffect\": ()=>{}\n            })[\"NoScroll.useEffect\"];\n            const cleanup = [];\n            const ownerWindow = getOwnerWindow();\n            const { body, documentElement } = getOwnerDocument();\n            const scrollbar = Math.round(ownerWindow.innerWidth - documentElement.clientWidth);\n            if (scrollbar > 0) {\n                cleanup.push(padScrollbar(body, scrollbar, rtl));\n                const elements = body.getElementsByTagName(\"*\");\n                for(let i = 0; i < elements.length; i += 1){\n                    const element = elements[i];\n                    if (isHTMLElement(element) && ownerWindow.getComputedStyle(element).getPropertyValue(\"position\") === \"fixed\" && !element.classList.contains(noScrollPadding)) {\n                        cleanup.push(padScrollbar(element, scrollbar, rtl));\n                    }\n                }\n            }\n            body.classList.add(noScroll);\n            return ({\n                \"NoScroll.useEffect\": ()=>{\n                    body.classList.remove(noScroll);\n                    cleanup.forEach({\n                        \"NoScroll.useEffect\": (clean)=>clean()\n                    }[\"NoScroll.useEffect\"]);\n                }\n            })[\"NoScroll.useEffect\"];\n        }\n    }[\"NoScroll.useEffect\"], [\n        rtl,\n        disabled,\n        getOwnerDocument,\n        getOwnerWindow\n    ]);\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, children);\n}\nconst NoScrollModule = createModule(_types_js__WEBPACK_IMPORTED_MODULE_2__.MODULE_NO_SCROLL, NoScroll);\nfunction cssPrefix$1(value) {\n    return composePrefix(_types_js__WEBPACK_IMPORTED_MODULE_2__.MODULE_PORTAL, value);\n}\nfunction setAttribute(element, attribute, value) {\n    const previousValue = element.getAttribute(attribute);\n    element.setAttribute(attribute, value);\n    return ()=>{\n        if (previousValue) {\n            element.setAttribute(attribute, previousValue);\n        } else {\n            element.removeAttribute(attribute);\n        }\n    };\n}\nfunction Portal({ children, animation, styles, className, on, portal, close }) {\n    const [mounted, setMounted] = react__WEBPACK_IMPORTED_MODULE_0__.useState(false);\n    const [visible, setVisible] = react__WEBPACK_IMPORTED_MODULE_0__.useState(false);\n    const cleanup = react__WEBPACK_IMPORTED_MODULE_0__.useRef([]);\n    const restoreFocus = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n    const { setTimeout } = useTimeouts();\n    const { subscribe } = useEvents();\n    const reduceMotion = useMotionPreference();\n    const animationDuration = !reduceMotion ? animation.fade : 0;\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect({\n        \"Portal.useEffect\": ()=>{\n            setMounted(true);\n            return ({\n                \"Portal.useEffect\": ()=>{\n                    setMounted(false);\n                    setVisible(false);\n                }\n            })[\"Portal.useEffect\"];\n        }\n    }[\"Portal.useEffect\"], []);\n    const handleCleanup = useEventCallback({\n        \"Portal.useEventCallback[handleCleanup]\": ()=>{\n            cleanup.current.forEach({\n                \"Portal.useEventCallback[handleCleanup]\": (clean)=>clean()\n            }[\"Portal.useEventCallback[handleCleanup]\"]);\n            cleanup.current = [];\n        }\n    }[\"Portal.useEventCallback[handleCleanup]\"]);\n    const handleClose = useEventCallback({\n        \"Portal.useEventCallback[handleClose]\": ()=>{\n            var _a;\n            setVisible(false);\n            handleCleanup();\n            (_a = on.exiting) === null || _a === void 0 ? void 0 : _a.call(on);\n            setTimeout({\n                \"Portal.useEventCallback[handleClose]\": ()=>{\n                    var _a;\n                    (_a = on.exited) === null || _a === void 0 ? void 0 : _a.call(on);\n                    close();\n                }\n            }[\"Portal.useEventCallback[handleClose]\"], animationDuration);\n        }\n    }[\"Portal.useEventCallback[handleClose]\"]);\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect({\n        \"Portal.useEffect\": ()=>subscribe(_types_js__WEBPACK_IMPORTED_MODULE_2__.ACTION_CLOSE, handleClose)\n    }[\"Portal.useEffect\"], [\n        subscribe,\n        handleClose\n    ]);\n    const handleEnter = useEventCallback({\n        \"Portal.useEventCallback[handleEnter]\": (node)=>{\n            var _a, _b, _c;\n            node.scrollTop;\n            setVisible(true);\n            (_a = on.entering) === null || _a === void 0 ? void 0 : _a.call(on);\n            const elements = (_c = (_b = node.parentNode) === null || _b === void 0 ? void 0 : _b.children) !== null && _c !== void 0 ? _c : [];\n            for(let i = 0; i < elements.length; i += 1){\n                const element = elements[i];\n                if ([\n                    \"TEMPLATE\",\n                    \"SCRIPT\",\n                    \"STYLE\"\n                ].indexOf(element.tagName) === -1 && element !== node) {\n                    cleanup.current.push(setAttribute(element, \"inert\", \"\"));\n                    cleanup.current.push(setAttribute(element, \"aria-hidden\", \"true\"));\n                }\n            }\n            cleanup.current.push({\n                \"Portal.useEventCallback[handleEnter]\": ()=>{\n                    var _a, _b;\n                    (_b = (_a = restoreFocus.current) === null || _a === void 0 ? void 0 : _a.focus) === null || _b === void 0 ? void 0 : _b.call(_a);\n                }\n            }[\"Portal.useEventCallback[handleEnter]\"]);\n            setTimeout({\n                \"Portal.useEventCallback[handleEnter]\": ()=>{\n                    var _a;\n                    (_a = on.entered) === null || _a === void 0 ? void 0 : _a.call(on);\n                }\n            }[\"Portal.useEventCallback[handleEnter]\"], animationDuration);\n        }\n    }[\"Portal.useEventCallback[handleEnter]\"]);\n    const handleRef = react__WEBPACK_IMPORTED_MODULE_0__.useCallback({\n        \"Portal.useCallback[handleRef]\": (node)=>{\n            if (node) {\n                handleEnter(node);\n            } else {\n                handleCleanup();\n            }\n        }\n    }[\"Portal.useCallback[handleRef]\"], [\n        handleEnter,\n        handleCleanup\n    ]);\n    return mounted ? /*#__PURE__*/ (0,react_dom__WEBPACK_IMPORTED_MODULE_1__.createPortal)(/*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(LightboxRoot, {\n        ref: handleRef,\n        className: clsx(className, cssClass(cssPrefix$1()), cssClass(_types_js__WEBPACK_IMPORTED_MODULE_2__.CLASS_NO_SCROLL_PADDING), visible && cssClass(cssPrefix$1(\"open\"))),\n        role: \"presentation\",\n        \"aria-live\": \"polite\",\n        style: {\n            ...animation.fade !== LightboxDefaultProps.animation.fade ? {\n                [cssVar(\"fade_animation_duration\")]: `${animationDuration}ms`\n            } : null,\n            ...animation.easing.fade !== LightboxDefaultProps.animation.easing.fade ? {\n                [cssVar(\"fade_animation_timing_function\")]: animation.easing.fade\n            } : null,\n            ...styles.root\n        },\n        onFocus: (event)=>{\n            if (!restoreFocus.current) {\n                restoreFocus.current = event.relatedTarget;\n            }\n        }\n    }, children), portal.root || document.body) : null;\n}\nconst PortalModule = createModule(_types_js__WEBPACK_IMPORTED_MODULE_2__.MODULE_PORTAL, Portal);\nfunction Root({ children }) {\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, children);\n}\nconst RootModule = createModule(_types_js__WEBPACK_IMPORTED_MODULE_2__.MODULE_ROOT, Root);\nfunction cssPrefix(value) {\n    return composePrefix(_types_js__WEBPACK_IMPORTED_MODULE_2__.MODULE_TOOLBAR, value);\n}\nfunction Toolbar({ toolbar: { buttons }, render: { buttonClose, iconClose }, styles }) {\n    const { close, setToolbarWidth } = useController();\n    const { setContainerRef, containerRect } = useContainerRect();\n    useLayoutEffect({\n        \"Toolbar.useLayoutEffect\": ()=>{\n            setToolbarWidth(containerRect === null || containerRect === void 0 ? void 0 : containerRect.width);\n        }\n    }[\"Toolbar.useLayoutEffect\"], [\n        setToolbarWidth,\n        containerRect === null || containerRect === void 0 ? void 0 : containerRect.width\n    ]);\n    const renderCloseButton = ()=>{\n        if (buttonClose) return buttonClose();\n        return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(IconButton, {\n            key: _types_js__WEBPACK_IMPORTED_MODULE_2__.ACTION_CLOSE,\n            label: \"Close\",\n            icon: CloseIcon,\n            renderIcon: iconClose,\n            onClick: close\n        });\n    };\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        ref: setContainerRef,\n        style: styles.toolbar,\n        className: cssClass(cssPrefix())\n    }, buttons === null || buttons === void 0 ? void 0 : buttons.map((button)=>button === _types_js__WEBPACK_IMPORTED_MODULE_2__.ACTION_CLOSE ? renderCloseButton() : button));\n}\nconst ToolbarModule = createModule(_types_js__WEBPACK_IMPORTED_MODULE_2__.MODULE_TOOLBAR, Toolbar);\nfunction renderNode(node, props) {\n    var _a;\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(node.module.component, {\n        key: node.module.name,\n        ...props\n    }, (_a = node.children) === null || _a === void 0 ? void 0 : _a.map((child)=>renderNode(child, props)));\n}\nfunction mergeAnimation(defaultAnimation, animation = {}) {\n    const { easing: defaultAnimationEasing, ...restDefaultAnimation } = defaultAnimation;\n    const { easing, ...restAnimation } = animation;\n    return {\n        easing: {\n            ...defaultAnimationEasing,\n            ...easing\n        },\n        ...restDefaultAnimation,\n        ...restAnimation\n    };\n}\nfunction Lightbox({ carousel, animation, render, toolbar, controller, noScroll, on, plugins, slides, index, ...restProps }) {\n    const { animation: defaultAnimation, carousel: defaultCarousel, render: defaultRender, toolbar: defaultToolbar, controller: defaultController, noScroll: defaultNoScroll, on: defaultOn, slides: defaultSlides, index: defaultIndex, plugins: defaultPlugins, ...restDefaultProps } = LightboxDefaultProps;\n    const { config, augmentation } = withPlugins([\n        createNode(PortalModule, [\n            createNode(NoScrollModule, [\n                createNode(ControllerModule, [\n                    createNode(CarouselModule),\n                    createNode(ToolbarModule),\n                    createNode(NavigationModule)\n                ])\n            ])\n        ])\n    ], plugins || defaultPlugins);\n    const props = augmentation({\n        animation: mergeAnimation(defaultAnimation, animation),\n        carousel: {\n            ...defaultCarousel,\n            ...carousel\n        },\n        render: {\n            ...defaultRender,\n            ...render\n        },\n        toolbar: {\n            ...defaultToolbar,\n            ...toolbar\n        },\n        controller: {\n            ...defaultController,\n            ...controller\n        },\n        noScroll: {\n            ...defaultNoScroll,\n            ...noScroll\n        },\n        on: {\n            ...defaultOn,\n            ...on\n        },\n        ...restDefaultProps,\n        ...restProps\n    });\n    if (!props.open) return null;\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(LightboxPropsProvider, {\n        ...props\n    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(LightboxStateProvider, {\n        slides: slides || defaultSlides,\n        index: parseInt(index || defaultIndex)\n    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(TimeoutsProvider, null, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(EventsProvider, null, renderNode(createNode(RootModule, config), props)))));\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMveWV0LWFub3RoZXItcmVhY3QtbGlnaHRib3gvZGlzdC9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztpdkVBQytCO0FBQ2lwQjtBQUN2b0I7QUFDcVM7QUFFOVUsTUFBTXNELGNBQWM7QUFDcEIsU0FBU0MsS0FBSyxHQUFHQyxPQUFPO0lBQ3BCLE9BQU87V0FBSUE7S0FBUSxDQUFDQyxNQUFNLENBQUNDLFNBQVNDLElBQUksQ0FBQztBQUM3QztBQUNBLFNBQVNDLFNBQVNDLElBQUk7SUFDbEIsT0FBTyxHQUFHUCxjQUFjTyxNQUFNO0FBQ2xDO0FBQ0EsU0FBU0MsT0FBT0QsSUFBSTtJQUNoQixPQUFPLENBQUMsRUFBRSxFQUFFUCxjQUFjTyxNQUFNO0FBQ3BDO0FBQ0EsU0FBU0UsY0FBY0MsSUFBSSxFQUFFQyxNQUFNO0lBQy9CLE9BQU8sR0FBR0QsT0FBT0MsU0FBUyxDQUFDLENBQUMsRUFBRUEsUUFBUSxHQUFHLElBQUk7QUFDakQ7QUFDQSxTQUFTQyxrQkFBa0JGLElBQUk7SUFDM0IsT0FBTyxDQUFDQyxTQUFXRixjQUFjQyxNQUFNQztBQUMzQztBQUNBLFNBQVNFLE1BQU1DLE1BQU0sRUFBRUMsWUFBWTtJQUMvQixJQUFJQztJQUNKLE9BQU8sQ0FBQ0EsS0FBS0YsV0FBVyxRQUFRQSxXQUFXLEtBQUssSUFBSSxLQUFLLElBQUlBLE1BQU0sQ0FBQ0MsYUFBYSxNQUFNLFFBQVFDLE9BQU8sS0FBSyxJQUFJQSxLQUFLRDtBQUN4SDtBQUNBLFNBQVNFLFFBQVEsR0FBR0MsUUFBUTtJQUN4QixPQUFPO1FBQ0hBLFNBQVNDLE9BQU8sQ0FBQyxDQUFDQztZQUNkQTtR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QUFlO1lBQUUsR0FBR3hmLFFBQVE7UUFBQztRQUM1Q0UsSUFBSTtZQUFFLEdBQUd1ZixTQUFTO1lBQUUsR0FBR3ZmLEVBQUU7UUFBQztRQUMxQixHQUFHMmYsZ0JBQWdCO1FBQ25CLEdBQUdWLFNBQVM7SUFDaEI7SUFDQSxJQUFJLENBQUMvYyxNQUFNMUQsSUFBSSxFQUNYLE9BQU87SUFDWCxxQkFBUTVKLGdEQUFtQixDQUFDdVAsdUJBQXVCO1FBQUUsR0FBR2pDLEtBQUs7SUFBQyxpQkFDMUR0TixnREFBbUIsQ0FBQ29RLHVCQUF1QjtRQUFFaEosUUFBUUEsVUFBVXdqQjtRQUFlM2pCLE9BQU9qQixTQUFTaUIsU0FBUzRqQjtJQUFjLGlCQUNqSDdxQixnREFBbUIsQ0FBQ3lRLGtCQUFrQixvQkFDbEN6USxnREFBbUIsQ0FBQ3lPLGdCQUFnQixNQUFNb2IsV0FBV3BlLFdBQVc2ZCxZQUFZL2MsU0FBU2U7QUFDckc7QUFFa2pFIiwic291cmNlcyI6WyJFOlxcQ29kaW5nXFxTb2hhblNpclxcWVBfVkVSU0lPTl8yXFxmcm9udGVuZFxcbm9kZV9tb2R1bGVzXFx5ZXQtYW5vdGhlci1yZWFjdC1saWdodGJveFxcZGlzdFxcaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBjbGllbnQnO1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgSU1BR0VfRklUX0NPVkVSLCBJTUFHRV9GSVRfQ09OVEFJTiwgQUNUSU9OX0NMT1NFLCBNT0RVTEVfQ09OVFJPTExFUiwgVU5LTk9XTl9BQ1RJT05fVFlQRSwgRUxFTUVOVF9CVVRUT04sIEVMRU1FTlRfSUNPTiwgRVZFTlRfT05fUE9JTlRFUl9ET1dOLCBFVkVOVF9PTl9QT0lOVEVSX01PVkUsIEVWRU5UX09OX1BPSU5URVJfVVAsIEVWRU5UX09OX1BPSU5URVJfTEVBVkUsIEVWRU5UX09OX1BPSU5URVJfQ0FOQ0VMLCBFVkVOVF9PTl9LRVlfRE9XTiwgRVZFTlRfT05fS0VZX1VQLCBFVkVOVF9PTl9XSEVFTCwgU0xJREVfU1RBVFVTX0xPQURJTkcsIGFjdGl2ZVNsaWRlU3RhdHVzLCBTTElERV9TVEFUVVNfQ09NUExFVEUsIFNMSURFX1NUQVRVU19FUlJPUiwgU0xJREVfU1RBVFVTX1BMQUNFSE9MREVSLCBBQ1RJT05fUFJFViwgQUNUSU9OX05FWFQsIEFDVElPTl9TV0lQRSwgTU9EVUxFX1BPUlRBTCwgQ0xBU1NfRkxFWF9DRU5URVIsIE1PRFVMRV9DQVJPVVNFTCwgQ0xBU1NfU0xJREVfV1JBUFBFUiwgVktfQVJST1dfUklHSFQsIFZLX0FSUk9XX0xFRlQsIFZLX0VTQ0FQRSwgTU9EVUxFX05BVklHQVRJT04sIENMQVNTX05PX1NDUk9MTCwgQ0xBU1NfTk9fU0NST0xMX1BBRERJTkcsIE1PRFVMRV9OT19TQ1JPTEwsIE1PRFVMRV9ST09ULCBNT0RVTEVfVE9PTEJBUiB9IGZyb20gJy4vdHlwZXMuanMnO1xuaW1wb3J0IHsgY3JlYXRlUG9ydGFsIH0gZnJvbSAncmVhY3QtZG9tJztcbmV4cG9ydCB7IEFDVElWRV9TTElERV9DT01QTEVURSwgQUNUSVZFX1NMSURFX0VSUk9SLCBBQ1RJVkVfU0xJREVfTE9BRElORywgQUNUSVZFX1NMSURFX1BMQVlJTkcsIENMQVNTX0ZVTExTSVpFLCBDTEFTU19TTElERV9XUkFQUEVSX0lOVEVSQUNUSVZFLCBQTFVHSU5fQ0FQVElPTlMsIFBMVUdJTl9DT1VOVEVSLCBQTFVHSU5fRE9XTkxPQUQsIFBMVUdJTl9GVUxMU0NSRUVOLCBQTFVHSU5fSU5MSU5FLCBQTFVHSU5fU0hBUkUsIFBMVUdJTl9TTElERVNIT1csIFBMVUdJTl9USFVNQk5BSUxTLCBQTFVHSU5fWk9PTSwgU0xJREVfU1RBVFVTX1BMQVlJTkcgfSBmcm9tICcuL3R5cGVzLmpzJztcblxuY29uc3QgY3NzUHJlZml4JDMgPSBcInlhcmxfX1wiO1xuZnVuY3Rpb24gY2xzeCguLi5jbGFzc2VzKSB7XG4gICAgcmV0dXJuIFsuLi5jbGFzc2VzXS5maWx0ZXIoQm9vbGVhbikuam9pbihcIiBcIik7XG59XG5mdW5jdGlvbiBjc3NDbGFzcyhuYW1lKSB7XG4gICAgcmV0dXJuIGAke2Nzc1ByZWZpeCQzfSR7bmFtZX1gO1xufVxuZnVuY3Rpb24gY3NzVmFyKG5hbWUpIHtcbiAgICByZXR1cm4gYC0tJHtjc3NQcmVmaXgkM30ke25hbWV9YDtcbn1cbmZ1bmN0aW9uIGNvbXBvc2VQcmVmaXgoYmFzZSwgcHJlZml4KSB7XG4gICAgcmV0dXJuIGAke2Jhc2V9JHtwcmVmaXggPyBgXyR7cHJlZml4fWAgOiBcIlwifWA7XG59XG5mdW5jdGlvbiBtYWtlQ29tcG9zZVByZWZpeChiYXNlKSB7XG4gICAgcmV0dXJuIChwcmVmaXgpID0+IGNvbXBvc2VQcmVmaXgoYmFzZSwgcHJlZml4KTtcbn1cbmZ1bmN0aW9uIGxhYmVsKGxhYmVscywgZGVmYXVsdExhYmVsKSB7XG4gICAgdmFyIF9hO1xuICAgIHJldHVybiAoX2EgPSBsYWJlbHMgPT09IG51bGwgfHwgbGFiZWxzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBsYWJlbHNbZGVmYXVsdExhYmVsXSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogZGVmYXVsdExhYmVsO1xufVxuZnVuY3Rpb24gY2xlYW51cCguLi5jbGVhbmVycykge1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIGNsZWFuZXJzLmZvckVhY2goKGNsZWFuZXIpID0+IHtcbiAgICAgICAgICAgIGNsZWFuZXIoKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbn1cbmZ1bmN0aW9uIG1ha2VVc2VDb250ZXh0KG5hbWUsIGNvbnRleHROYW1lLCBjb250ZXh0KSB7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgY29uc3QgY3R4ID0gUmVhY3QudXNlQ29udGV4dChjb250ZXh0KTtcbiAgICAgICAgaWYgKCFjdHgpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgJHtuYW1lfSBtdXN0IGJlIHVzZWQgd2l0aGluIGEgJHtjb250ZXh0TmFtZX0uUHJvdmlkZXJgKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY3R4O1xuICAgIH07XG59XG5mdW5jdGlvbiBoYXNXaW5kb3coKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCI7XG59XG5mdW5jdGlvbiByb3VuZCh2YWx1ZSwgZGVjaW1hbHMgPSAwKSB7XG4gICAgY29uc3QgZmFjdG9yID0gMTAgKiogZGVjaW1hbHM7XG4gICAgcmV0dXJuIE1hdGgucm91bmQoKHZhbHVlICsgTnVtYmVyLkVQU0lMT04pICogZmFjdG9yKSAvIGZhY3Rvcjtcbn1cbmZ1bmN0aW9uIGlzSW1hZ2VTbGlkZShzbGlkZSkge1xuICAgIHJldHVybiBzbGlkZS50eXBlID09PSB1bmRlZmluZWQgfHwgc2xpZGUudHlwZSA9PT0gXCJpbWFnZVwiO1xufVxuZnVuY3Rpb24gaXNJbWFnZUZpdENvdmVyKGltYWdlLCBpbWFnZUZpdCkge1xuICAgIHJldHVybiBpbWFnZS5pbWFnZUZpdCA9PT0gSU1BR0VfRklUX0NPVkVSIHx8IChpbWFnZS5pbWFnZUZpdCAhPT0gSU1BR0VfRklUX0NPTlRBSU4gJiYgaW1hZ2VGaXQgPT09IElNQUdFX0ZJVF9DT1ZFUik7XG59XG5mdW5jdGlvbiBwYXJzZUludCh2YWx1ZSkge1xuICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIgPyBOdW1iZXIucGFyc2VJbnQodmFsdWUsIDEwKSA6IHZhbHVlO1xufVxuZnVuY3Rpb24gcGFyc2VMZW5ndGhQZXJjZW50YWdlKGlucHV0KSB7XG4gICAgaWYgKHR5cGVvZiBpbnB1dCA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICByZXR1cm4geyBwaXhlbDogaW5wdXQgfTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBpbnB1dCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHBhcnNlSW50KGlucHV0KTtcbiAgICAgICAgcmV0dXJuIGlucHV0LmVuZHNXaXRoKFwiJVwiKSA/IHsgcGVyY2VudDogdmFsdWUgfSA6IHsgcGl4ZWw6IHZhbHVlIH07XG4gICAgfVxuICAgIHJldHVybiB7IHBpeGVsOiAwIH07XG59XG5mdW5jdGlvbiBjb21wdXRlU2xpZGVSZWN0KGNvbnRhaW5lclJlY3QsIHBhZGRpbmcpIHtcbiAgICBjb25zdCBwYWRkaW5nVmFsdWUgPSBwYXJzZUxlbmd0aFBlcmNlbnRhZ2UocGFkZGluZyk7XG4gICAgY29uc3QgcGFkZGluZ1BpeGVscyA9IHBhZGRpbmdWYWx1ZS5wZXJjZW50ICE9PSB1bmRlZmluZWQgPyAoY29udGFpbmVyUmVjdC53aWR0aCAvIDEwMCkgKiBwYWRkaW5nVmFsdWUucGVyY2VudCA6IHBhZGRpbmdWYWx1ZS5waXhlbDtcbiAgICByZXR1cm4ge1xuICAgICAgICB3aWR0aDogTWF0aC5tYXgoY29udGFpbmVyUmVjdC53aWR0aCAtIDIgKiBwYWRkaW5nUGl4ZWxzLCAwKSxcbiAgICAgICAgaGVpZ2h0OiBNYXRoLm1heChjb250YWluZXJSZWN0LmhlaWdodCAtIDIgKiBwYWRkaW5nUGl4ZWxzLCAwKSxcbiAgICB9O1xufVxuZnVuY3Rpb24gZGV2aWNlUGl4ZWxSYXRpbygpIHtcbiAgICByZXR1cm4gKGhhc1dpbmRvdygpID8gd2luZG93ID09PSBudWxsIHx8IHdpbmRvdyA9PT0gdm9pZCAwID8gdm9pZCAwIDogd2luZG93LmRldmljZVBpeGVsUmF0aW8gOiB1bmRlZmluZWQpIHx8IDE7XG59XG5mdW5jdGlvbiBnZXRTbGlkZUluZGV4KGluZGV4LCBzbGlkZXNDb3VudCkge1xuICAgIHJldHVybiBzbGlkZXNDb3VudCA+IDAgPyAoKGluZGV4ICUgc2xpZGVzQ291bnQpICsgc2xpZGVzQ291bnQpICUgc2xpZGVzQ291bnQgOiAwO1xufVxuZnVuY3Rpb24gaGFzU2xpZGVzKHNsaWRlcykge1xuICAgIHJldHVybiBzbGlkZXMubGVuZ3RoID4gMDtcbn1cbmZ1bmN0aW9uIGdldFNsaWRlKHNsaWRlcywgaW5kZXgpIHtcbiAgICByZXR1cm4gc2xpZGVzW2dldFNsaWRlSW5kZXgoaW5kZXgsIHNsaWRlcy5sZW5ndGgpXTtcbn1cbmZ1bmN0aW9uIGdldFNsaWRlSWZQcmVzZW50KHNsaWRlcywgaW5kZXgpIHtcbiAgICByZXR1cm4gaGFzU2xpZGVzKHNsaWRlcykgPyBnZXRTbGlkZShzbGlkZXMsIGluZGV4KSA6IHVuZGVmaW5lZDtcbn1cbmZ1bmN0aW9uIGdldFNsaWRlS2V5KHNsaWRlKSB7XG4gICAgcmV0dXJuIGlzSW1hZ2VTbGlkZShzbGlkZSkgPyBzbGlkZS5zcmMgOiB1bmRlZmluZWQ7XG59XG5mdW5jdGlvbiBhZGRUb29sYmFyQnV0dG9uKHRvb2xiYXIsIGtleSwgYnV0dG9uKSB7XG4gICAgaWYgKCFidXR0b24pXG4gICAgICAgIHJldHVybiB0b29sYmFyO1xuICAgIGNvbnN0IHsgYnV0dG9ucywgLi4ucmVzdFRvb2xiYXIgfSA9IHRvb2xiYXI7XG4gICAgY29uc3QgaW5kZXggPSBidXR0b25zLmZpbmRJbmRleCgoaXRlbSkgPT4gaXRlbSA9PT0ga2V5KTtcbiAgICBjb25zdCBidXR0b25XaXRoS2V5ID0gUmVhY3QuaXNWYWxpZEVsZW1lbnQoYnV0dG9uKSA/IFJlYWN0LmNsb25lRWxlbWVudChidXR0b24sIHsga2V5IH0sIG51bGwpIDogYnV0dG9uO1xuICAgIGlmIChpbmRleCA+PSAwKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IFsuLi5idXR0b25zXTtcbiAgICAgICAgcmVzdWx0LnNwbGljZShpbmRleCwgMSwgYnV0dG9uV2l0aEtleSk7XG4gICAgICAgIHJldHVybiB7IGJ1dHRvbnM6IHJlc3VsdCwgLi4ucmVzdFRvb2xiYXIgfTtcbiAgICB9XG4gICAgcmV0dXJuIHsgYnV0dG9uczogW2J1dHRvbldpdGhLZXksIC4uLmJ1dHRvbnNdLCAuLi5yZXN0VG9vbGJhciB9O1xufVxuZnVuY3Rpb24gc3RvcE5hdmlnYXRpb25FdmVudHNQcm9wYWdhdGlvbigpIHtcbiAgICBjb25zdCBzdG9wUHJvcGFnYXRpb24gPSAoZXZlbnQpID0+IHtcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgfTtcbiAgICByZXR1cm4geyBvblBvaW50ZXJEb3duOiBzdG9wUHJvcGFnYXRpb24sIG9uS2V5RG93bjogc3RvcFByb3BhZ2F0aW9uLCBvbldoZWVsOiBzdG9wUHJvcGFnYXRpb24gfTtcbn1cbmZ1bmN0aW9uIGNhbGN1bGF0ZVByZWxvYWQoY2Fyb3VzZWwsIHNsaWRlcywgbWluaW11bSA9IDApIHtcbiAgICByZXR1cm4gTWF0aC5taW4oY2Fyb3VzZWwucHJlbG9hZCwgTWF0aC5tYXgoY2Fyb3VzZWwuZmluaXRlID8gc2xpZGVzLmxlbmd0aCAtIDEgOiBNYXRoLmZsb29yKHNsaWRlcy5sZW5ndGggLyAyKSwgbWluaW11bSkpO1xufVxuY29uc3QgaXNSZWFjdDE5ID0gTnVtYmVyKFJlYWN0LnZlcnNpb24uc3BsaXQoXCIuXCIpWzBdKSA+PSAxOTtcbmZ1bmN0aW9uIG1ha2VJbmVydFdoZW4oY29uZGl0aW9uKSB7XG4gICAgY29uc3QgbGVnYWN5VmFsdWUgPSBjb25kaXRpb24gPyBcIlwiIDogdW5kZWZpbmVkO1xuICAgIHJldHVybiB7IGluZXJ0OiBpc1JlYWN0MTkgPyBjb25kaXRpb24gOiBsZWdhY3lWYWx1ZSB9O1xufVxuXG5jb25zdCBMaWdodGJveERlZmF1bHRQcm9wcyA9IHtcbiAgICBvcGVuOiBmYWxzZSxcbiAgICBjbG9zZTogKCkgPT4geyB9LFxuICAgIGluZGV4OiAwLFxuICAgIHNsaWRlczogW10sXG4gICAgcmVuZGVyOiB7fSxcbiAgICBwbHVnaW5zOiBbXSxcbiAgICB0b29sYmFyOiB7IGJ1dHRvbnM6IFtBQ1RJT05fQ0xPU0VdIH0sXG4gICAgbGFiZWxzOiB7fSxcbiAgICBhbmltYXRpb246IHtcbiAgICAgICAgZmFkZTogMjUwLFxuICAgICAgICBzd2lwZTogNTAwLFxuICAgICAgICBlYXNpbmc6IHtcbiAgICAgICAgICAgIGZhZGU6IFwiZWFzZVwiLFxuICAgICAgICAgICAgc3dpcGU6IFwiZWFzZS1vdXRcIixcbiAgICAgICAgICAgIG5hdmlnYXRpb246IFwiZWFzZS1pbi1vdXRcIixcbiAgICAgICAgfSxcbiAgICB9LFxuICAgIGNhcm91c2VsOiB7XG4gICAgICAgIGZpbml0ZTogZmFsc2UsXG4gICAgICAgIHByZWxvYWQ6IDIsXG4gICAgICAgIHBhZGRpbmc6IFwiMTZweFwiLFxuICAgICAgICBzcGFjaW5nOiBcIjMwJVwiLFxuICAgICAgICBpbWFnZUZpdDogSU1BR0VfRklUX0NPTlRBSU4sXG4gICAgICAgIGltYWdlUHJvcHM6IHt9LFxuICAgIH0sXG4gICAgY29udHJvbGxlcjoge1xuICAgICAgICByZWY6IG51bGwsXG4gICAgICAgIGZvY3VzOiB0cnVlLFxuICAgICAgICBhcmlhOiBmYWxzZSxcbiAgICAgICAgdG91Y2hBY3Rpb246IFwibm9uZVwiLFxuICAgICAgICBjbG9zZU9uUHVsbFVwOiBmYWxzZSxcbiAgICAgICAgY2xvc2VPblB1bGxEb3duOiBmYWxzZSxcbiAgICAgICAgY2xvc2VPbkJhY2tkcm9wQ2xpY2s6IGZhbHNlLFxuICAgICAgICBwcmV2ZW50RGVmYXVsdFdoZWVsWDogdHJ1ZSxcbiAgICAgICAgcHJldmVudERlZmF1bHRXaGVlbFk6IGZhbHNlLFxuICAgIH0sXG4gICAgcG9ydGFsOiB7fSxcbiAgICBub1Njcm9sbDoge1xuICAgICAgICBkaXNhYmxlZDogZmFsc2UsXG4gICAgfSxcbiAgICBvbjoge30sXG4gICAgc3R5bGVzOiB7fSxcbiAgICBjbGFzc05hbWU6IFwiXCIsXG59O1xuXG5mdW5jdGlvbiBjcmVhdGVNb2R1bGUobmFtZSwgY29tcG9uZW50KSB7XG4gICAgcmV0dXJuIHsgbmFtZSwgY29tcG9uZW50IH07XG59XG5mdW5jdGlvbiBjcmVhdGVOb2RlKG1vZHVsZSwgY2hpbGRyZW4pIHtcbiAgICByZXR1cm4geyBtb2R1bGUsIGNoaWxkcmVuIH07XG59XG5mdW5jdGlvbiB0cmF2ZXJzZU5vZGUobm9kZSwgdGFyZ2V0LCBhcHBseSkge1xuICAgIGlmIChub2RlLm1vZHVsZS5uYW1lID09PSB0YXJnZXQpIHtcbiAgICAgICAgcmV0dXJuIGFwcGx5KG5vZGUpO1xuICAgIH1cbiAgICBpZiAobm9kZS5jaGlsZHJlbikge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgY3JlYXRlTm9kZShub2RlLm1vZHVsZSwgbm9kZS5jaGlsZHJlbi5mbGF0TWFwKChuKSA9PiB7IHZhciBfYTsgcmV0dXJuIChfYSA9IHRyYXZlcnNlTm9kZShuLCB0YXJnZXQsIGFwcGx5KSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogW107IH0pKSxcbiAgICAgICAgXTtcbiAgICB9XG4gICAgcmV0dXJuIFtub2RlXTtcbn1cbmZ1bmN0aW9uIHRyYXZlcnNlKG5vZGVzLCB0YXJnZXQsIGFwcGx5KSB7XG4gICAgcmV0dXJuIG5vZGVzLmZsYXRNYXAoKG5vZGUpID0+IHsgdmFyIF9hOyByZXR1cm4gKF9hID0gdHJhdmVyc2VOb2RlKG5vZGUsIHRhcmdldCwgYXBwbHkpKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBbXTsgfSk7XG59XG5mdW5jdGlvbiB3aXRoUGx1Z2lucyhyb290LCBwbHVnaW5zID0gW10sIGF1Z21lbnRhdGlvbnMgPSBbXSkge1xuICAgIGxldCBjb25maWcgPSByb290O1xuICAgIGNvbnN0IGNvbnRhaW5zID0gKHRhcmdldCkgPT4ge1xuICAgICAgICBjb25zdCBub2RlcyA9IFsuLi5jb25maWddO1xuICAgICAgICB3aGlsZSAobm9kZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY29uc3Qgbm9kZSA9IG5vZGVzLnBvcCgpO1xuICAgICAgICAgICAgaWYgKChub2RlID09PSBudWxsIHx8IG5vZGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG5vZGUubW9kdWxlLm5hbWUpID09PSB0YXJnZXQpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICBpZiAobm9kZSA9PT0gbnVsbCB8fCBub2RlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBub2RlLmNoaWxkcmVuKVxuICAgICAgICAgICAgICAgIG5vZGVzLnB1c2goLi4ubm9kZS5jaGlsZHJlbik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgY29uc3QgYWRkUGFyZW50ID0gKHRhcmdldCwgbW9kdWxlKSA9PiB7XG4gICAgICAgIGlmICh0YXJnZXQgPT09IFwiXCIpIHtcbiAgICAgICAgICAgIGNvbmZpZyA9IFtjcmVhdGVOb2RlKG1vZHVsZSwgY29uZmlnKV07XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uZmlnID0gdHJhdmVyc2UoY29uZmlnLCB0YXJnZXQsIChub2RlKSA9PiBbY3JlYXRlTm9kZShtb2R1bGUsIFtub2RlXSldKTtcbiAgICB9O1xuICAgIGNvbnN0IGFwcGVuZCA9ICh0YXJnZXQsIG1vZHVsZSkgPT4ge1xuICAgICAgICBjb25maWcgPSB0cmF2ZXJzZShjb25maWcsIHRhcmdldCwgKG5vZGUpID0+IFtjcmVhdGVOb2RlKG5vZGUubW9kdWxlLCBbY3JlYXRlTm9kZShtb2R1bGUsIG5vZGUuY2hpbGRyZW4pXSldKTtcbiAgICB9O1xuICAgIGNvbnN0IGFkZENoaWxkID0gKHRhcmdldCwgbW9kdWxlLCBwcmVjZWRlKSA9PiB7XG4gICAgICAgIGNvbmZpZyA9IHRyYXZlcnNlKGNvbmZpZywgdGFyZ2V0LCAobm9kZSkgPT4ge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICBjcmVhdGVOb2RlKG5vZGUubW9kdWxlLCBbXG4gICAgICAgICAgICAgICAgICAgIC4uLihwcmVjZWRlID8gW2NyZWF0ZU5vZGUobW9kdWxlKV0gOiBbXSksXG4gICAgICAgICAgICAgICAgICAgIC4uLigoX2EgPSBub2RlLmNoaWxkcmVuKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBbXSksXG4gICAgICAgICAgICAgICAgICAgIC4uLighcHJlY2VkZSA/IFtjcmVhdGVOb2RlKG1vZHVsZSldIDogW10pLFxuICAgICAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgXTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBjb25zdCBhZGRTaWJsaW5nID0gKHRhcmdldCwgbW9kdWxlLCBwcmVjZWRlKSA9PiB7XG4gICAgICAgIGNvbmZpZyA9IHRyYXZlcnNlKGNvbmZpZywgdGFyZ2V0LCAobm9kZSkgPT4gW1xuICAgICAgICAgICAgLi4uKHByZWNlZGUgPyBbY3JlYXRlTm9kZShtb2R1bGUpXSA6IFtdKSxcbiAgICAgICAgICAgIG5vZGUsXG4gICAgICAgICAgICAuLi4oIXByZWNlZGUgPyBbY3JlYXRlTm9kZShtb2R1bGUpXSA6IFtdKSxcbiAgICAgICAgXSk7XG4gICAgfTtcbiAgICBjb25zdCBhZGRNb2R1bGUgPSAobW9kdWxlKSA9PiB7XG4gICAgICAgIGFwcGVuZChNT0RVTEVfQ09OVFJPTExFUiwgbW9kdWxlKTtcbiAgICB9O1xuICAgIGNvbnN0IHJlcGxhY2UgPSAodGFyZ2V0LCBtb2R1bGUpID0+IHtcbiAgICAgICAgY29uZmlnID0gdHJhdmVyc2UoY29uZmlnLCB0YXJnZXQsIChub2RlKSA9PiBbY3JlYXRlTm9kZShtb2R1bGUsIG5vZGUuY2hpbGRyZW4pXSk7XG4gICAgfTtcbiAgICBjb25zdCByZW1vdmUgPSAodGFyZ2V0KSA9PiB7XG4gICAgICAgIGNvbmZpZyA9IHRyYXZlcnNlKGNvbmZpZywgdGFyZ2V0LCAobm9kZSkgPT4gbm9kZS5jaGlsZHJlbik7XG4gICAgfTtcbiAgICBjb25zdCBhdWdtZW50ID0gKGF1Z21lbnRhdGlvbikgPT4ge1xuICAgICAgICBhdWdtZW50YXRpb25zLnB1c2goYXVnbWVudGF0aW9uKTtcbiAgICB9O1xuICAgIHBsdWdpbnMuZm9yRWFjaCgocGx1Z2luKSA9PiB7XG4gICAgICAgIHBsdWdpbih7XG4gICAgICAgICAgICBjb250YWlucyxcbiAgICAgICAgICAgIGFkZFBhcmVudCxcbiAgICAgICAgICAgIGFwcGVuZCxcbiAgICAgICAgICAgIGFkZENoaWxkLFxuICAgICAgICAgICAgYWRkU2libGluZyxcbiAgICAgICAgICAgIGFkZE1vZHVsZSxcbiAgICAgICAgICAgIHJlcGxhY2UsXG4gICAgICAgICAgICByZW1vdmUsXG4gICAgICAgICAgICBhdWdtZW50LFxuICAgICAgICB9KTtcbiAgICB9KTtcbiAgICByZXR1cm4ge1xuICAgICAgICBjb25maWcsXG4gICAgICAgIGF1Z21lbnRhdGlvbjogKHByb3BzKSA9PiBhdWdtZW50YXRpb25zLnJlZHVjZSgoYWNjLCBhdWdtZW50YXRpb24pID0+IGF1Z21lbnRhdGlvbihhY2MpLCBwcm9wcyksXG4gICAgfTtcbn1cblxuY29uc3QgRG9jdW1lbnRDb250ZXh0ID0gUmVhY3QuY3JlYXRlQ29udGV4dChudWxsKTtcbmNvbnN0IHVzZURvY3VtZW50Q29udGV4dCA9IG1ha2VVc2VDb250ZXh0KFwidXNlRG9jdW1lbnRcIiwgXCJEb2N1bWVudENvbnRleHRcIiwgRG9jdW1lbnRDb250ZXh0KTtcbmZ1bmN0aW9uIERvY3VtZW50Q29udGV4dFByb3ZpZGVyKHsgbm9kZVJlZiwgY2hpbGRyZW4gfSkge1xuICAgIGNvbnN0IGNvbnRleHQgPSBSZWFjdC51c2VNZW1vKCgpID0+IHtcbiAgICAgICAgY29uc3QgZ2V0T3duZXJEb2N1bWVudCA9IChub2RlKSA9PiB7IHZhciBfYTsgcmV0dXJuICgoX2EgPSAobm9kZSB8fCBub2RlUmVmLmN1cnJlbnQpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Eub3duZXJEb2N1bWVudCkgfHwgZG9jdW1lbnQ7IH07XG4gICAgICAgIGNvbnN0IGdldE93bmVyV2luZG93ID0gKG5vZGUpID0+IHsgdmFyIF9hOyByZXR1cm4gKChfYSA9IGdldE93bmVyRG9jdW1lbnQobm9kZSkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5kZWZhdWx0VmlldykgfHwgd2luZG93OyB9O1xuICAgICAgICByZXR1cm4geyBnZXRPd25lckRvY3VtZW50LCBnZXRPd25lcldpbmRvdyB9O1xuICAgIH0sIFtub2RlUmVmXSk7XG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoRG9jdW1lbnRDb250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlOiBjb250ZXh0IH0sIGNoaWxkcmVuKTtcbn1cblxuY29uc3QgRXZlbnRzQ29udGV4dCA9IFJlYWN0LmNyZWF0ZUNvbnRleHQobnVsbCk7XG5jb25zdCB1c2VFdmVudHMgPSBtYWtlVXNlQ29udGV4dChcInVzZUV2ZW50c1wiLCBcIkV2ZW50c0NvbnRleHRcIiwgRXZlbnRzQ29udGV4dCk7XG5mdW5jdGlvbiBFdmVudHNQcm92aWRlcih7IGNoaWxkcmVuIH0pIHtcbiAgICBjb25zdCBbc3Vic2NyaXB0aW9uc10gPSBSZWFjdC51c2VTdGF0ZSh7fSk7XG4gICAgUmVhY3QudXNlRWZmZWN0KCgpID0+ICgpID0+IHtcbiAgICAgICAgT2JqZWN0LmtleXMoc3Vic2NyaXB0aW9ucykuZm9yRWFjaCgodG9waWMpID0+IGRlbGV0ZSBzdWJzY3JpcHRpb25zW3RvcGljXSk7XG4gICAgfSwgW3N1YnNjcmlwdGlvbnNdKTtcbiAgICBjb25zdCBjb250ZXh0ID0gUmVhY3QudXNlTWVtbygoKSA9PiB7XG4gICAgICAgIGNvbnN0IHVuc3Vic2NyaWJlID0gKHRvcGljLCBjYWxsYmFjaykgPT4ge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgKF9hID0gc3Vic2NyaXB0aW9uc1t0b3BpY10pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zcGxpY2UoMCwgc3Vic2NyaXB0aW9uc1t0b3BpY10ubGVuZ3RoLCAuLi5zdWJzY3JpcHRpb25zW3RvcGljXS5maWx0ZXIoKGNiKSA9PiBjYiAhPT0gY2FsbGJhY2spKTtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3Qgc3Vic2NyaWJlID0gKHRvcGljLCBjYWxsYmFjaykgPT4ge1xuICAgICAgICAgICAgaWYgKCFzdWJzY3JpcHRpb25zW3RvcGljXSkge1xuICAgICAgICAgICAgICAgIHN1YnNjcmlwdGlvbnNbdG9waWNdID0gW107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdWJzY3JpcHRpb25zW3RvcGljXS5wdXNoKGNhbGxiYWNrKTtcbiAgICAgICAgICAgIHJldHVybiAoKSA9PiB1bnN1YnNjcmliZSh0b3BpYywgY2FsbGJhY2spO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCBwdWJsaXNoID0gKC4uLlt0b3BpYywgZXZlbnRdKSA9PiB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAoX2EgPSBzdWJzY3JpcHRpb25zW3RvcGljXSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmZvckVhY2goKGNhbGxiYWNrKSA9PiBjYWxsYmFjayhldmVudCkpO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4geyBwdWJsaXNoLCBzdWJzY3JpYmUsIHVuc3Vic2NyaWJlIH07XG4gICAgfSwgW3N1YnNjcmlwdGlvbnNdKTtcbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChFdmVudHNDb250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlOiBjb250ZXh0IH0sIGNoaWxkcmVuKTtcbn1cblxuY29uc3QgTGlnaHRib3hQcm9wc0NvbnRleHQgPSBSZWFjdC5jcmVhdGVDb250ZXh0KG51bGwpO1xuY29uc3QgdXNlTGlnaHRib3hQcm9wcyA9IG1ha2VVc2VDb250ZXh0KFwidXNlTGlnaHRib3hQcm9wc1wiLCBcIkxpZ2h0Ym94UHJvcHNDb250ZXh0XCIsIExpZ2h0Ym94UHJvcHNDb250ZXh0KTtcbmZ1bmN0aW9uIExpZ2h0Ym94UHJvcHNQcm92aWRlcih7IGNoaWxkcmVuLCAuLi5wcm9wcyB9KSB7XG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoTGlnaHRib3hQcm9wc0NvbnRleHQuUHJvdmlkZXIsIHsgdmFsdWU6IHByb3BzIH0sIGNoaWxkcmVuKTtcbn1cblxuY29uc3QgTGlnaHRib3hTdGF0ZUNvbnRleHQgPSBSZWFjdC5jcmVhdGVDb250ZXh0KG51bGwpO1xuY29uc3QgdXNlTGlnaHRib3hTdGF0ZSA9IG1ha2VVc2VDb250ZXh0KFwidXNlTGlnaHRib3hTdGF0ZVwiLCBcIkxpZ2h0Ym94U3RhdGVDb250ZXh0XCIsIExpZ2h0Ym94U3RhdGVDb250ZXh0KTtcbmNvbnN0IExpZ2h0Ym94RGlzcGF0Y2hDb250ZXh0ID0gUmVhY3QuY3JlYXRlQ29udGV4dChudWxsKTtcbmNvbnN0IHVzZUxpZ2h0Ym94RGlzcGF0Y2ggPSBtYWtlVXNlQ29udGV4dChcInVzZUxpZ2h0Ym94RGlzcGF0Y2hcIiwgXCJMaWdodGJveERpc3BhdGNoQ29udGV4dFwiLCBMaWdodGJveERpc3BhdGNoQ29udGV4dCk7XG5mdW5jdGlvbiByZWR1Y2VyKHN0YXRlLCBhY3Rpb24pIHtcbiAgICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgICAgIGNhc2UgXCJzd2lwZVwiOiB7XG4gICAgICAgICAgICBjb25zdCB7IHNsaWRlcyB9ID0gc3RhdGU7XG4gICAgICAgICAgICBjb25zdCBpbmNyZW1lbnQgPSAoYWN0aW9uID09PSBudWxsIHx8IGFjdGlvbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogYWN0aW9uLmluY3JlbWVudCkgfHwgMDtcbiAgICAgICAgICAgIGNvbnN0IGdsb2JhbEluZGV4ID0gc3RhdGUuZ2xvYmFsSW5kZXggKyBpbmNyZW1lbnQ7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50SW5kZXggPSBnZXRTbGlkZUluZGV4KGdsb2JhbEluZGV4LCBzbGlkZXMubGVuZ3RoKTtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRTbGlkZSA9IGdldFNsaWRlSWZQcmVzZW50KHNsaWRlcywgY3VycmVudEluZGV4KTtcbiAgICAgICAgICAgIGNvbnN0IGFuaW1hdGlvbiA9IGluY3JlbWVudCB8fCBhY3Rpb24uZHVyYXRpb25cbiAgICAgICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICAgICAgaW5jcmVtZW50LFxuICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogYWN0aW9uLmR1cmF0aW9uLFxuICAgICAgICAgICAgICAgICAgICBlYXNpbmc6IGFjdGlvbi5lYXNpbmcsXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgcmV0dXJuIHsgc2xpZGVzLCBjdXJyZW50SW5kZXgsIGdsb2JhbEluZGV4LCBjdXJyZW50U2xpZGUsIGFuaW1hdGlvbiB9O1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJ1cGRhdGVcIjpcbiAgICAgICAgICAgIGlmIChhY3Rpb24uc2xpZGVzICE9PSBzdGF0ZS5zbGlkZXMgfHwgYWN0aW9uLmluZGV4ICE9PSBzdGF0ZS5jdXJyZW50SW5kZXgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBzbGlkZXM6IGFjdGlvbi5zbGlkZXMsXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRJbmRleDogYWN0aW9uLmluZGV4LFxuICAgICAgICAgICAgICAgICAgICBnbG9iYWxJbmRleDogYWN0aW9uLmluZGV4LFxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50U2xpZGU6IGdldFNsaWRlSWZQcmVzZW50KGFjdGlvbi5zbGlkZXMsIGFjdGlvbi5pbmRleCksXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihVTktOT1dOX0FDVElPTl9UWVBFKTtcbiAgICB9XG59XG5mdW5jdGlvbiBMaWdodGJveFN0YXRlUHJvdmlkZXIoeyBzbGlkZXMsIGluZGV4LCBjaGlsZHJlbiB9KSB7XG4gICAgY29uc3QgW3N0YXRlLCBkaXNwYXRjaF0gPSBSZWFjdC51c2VSZWR1Y2VyKHJlZHVjZXIsIHtcbiAgICAgICAgc2xpZGVzLFxuICAgICAgICBjdXJyZW50SW5kZXg6IGluZGV4LFxuICAgICAgICBnbG9iYWxJbmRleDogaW5kZXgsXG4gICAgICAgIGN1cnJlbnRTbGlkZTogZ2V0U2xpZGVJZlByZXNlbnQoc2xpZGVzLCBpbmRleCksXG4gICAgfSk7XG4gICAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgZGlzcGF0Y2goeyB0eXBlOiBcInVwZGF0ZVwiLCBzbGlkZXMsIGluZGV4IH0pO1xuICAgIH0sIFtzbGlkZXMsIGluZGV4XSk7XG4gICAgY29uc3QgY29udGV4dCA9IFJlYWN0LnVzZU1lbW8oKCkgPT4gKHsgLi4uc3RhdGUsIHN0YXRlLCBkaXNwYXRjaCB9KSwgW3N0YXRlLCBkaXNwYXRjaF0pO1xuICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChMaWdodGJveERpc3BhdGNoQ29udGV4dC5Qcm92aWRlciwgeyB2YWx1ZTogZGlzcGF0Y2ggfSxcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChMaWdodGJveFN0YXRlQ29udGV4dC5Qcm92aWRlciwgeyB2YWx1ZTogY29udGV4dCB9LCBjaGlsZHJlbikpKTtcbn1cblxuY29uc3QgVGltZW91dHNDb250ZXh0ID0gUmVhY3QuY3JlYXRlQ29udGV4dChudWxsKTtcbmNvbnN0IHVzZVRpbWVvdXRzID0gbWFrZVVzZUNvbnRleHQoXCJ1c2VUaW1lb3V0c1wiLCBcIlRpbWVvdXRzQ29udGV4dFwiLCBUaW1lb3V0c0NvbnRleHQpO1xuZnVuY3Rpb24gVGltZW91dHNQcm92aWRlcih7IGNoaWxkcmVuIH0pIHtcbiAgICBjb25zdCBbdGltZW91dHNdID0gUmVhY3QudXNlU3RhdGUoW10pO1xuICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiAoKSA9PiB7XG4gICAgICAgIHRpbWVvdXRzLmZvckVhY2goKHRpZCkgPT4gd2luZG93LmNsZWFyVGltZW91dCh0aWQpKTtcbiAgICAgICAgdGltZW91dHMuc3BsaWNlKDAsIHRpbWVvdXRzLmxlbmd0aCk7XG4gICAgfSwgW3RpbWVvdXRzXSk7XG4gICAgY29uc3QgY29udGV4dCA9IFJlYWN0LnVzZU1lbW8oKCkgPT4ge1xuICAgICAgICBjb25zdCByZW1vdmVUaW1lb3V0ID0gKGlkKSA9PiB7XG4gICAgICAgICAgICB0aW1lb3V0cy5zcGxpY2UoMCwgdGltZW91dHMubGVuZ3RoLCAuLi50aW1lb3V0cy5maWx0ZXIoKHRpZCkgPT4gdGlkICE9PSBpZCkpO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCBzZXRUaW1lb3V0ID0gKGZuLCBkZWxheSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgaWQgPSB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgcmVtb3ZlVGltZW91dChpZCk7XG4gICAgICAgICAgICAgICAgZm4oKTtcbiAgICAgICAgICAgIH0sIGRlbGF5KTtcbiAgICAgICAgICAgIHRpbWVvdXRzLnB1c2goaWQpO1xuICAgICAgICAgICAgcmV0dXJuIGlkO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCBjbGVhclRpbWVvdXQgPSAoaWQpID0+IHtcbiAgICAgICAgICAgIGlmIChpZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcmVtb3ZlVGltZW91dChpZCk7XG4gICAgICAgICAgICAgICAgd2luZG93LmNsZWFyVGltZW91dChpZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB7IHNldFRpbWVvdXQsIGNsZWFyVGltZW91dCB9O1xuICAgIH0sIFt0aW1lb3V0c10pO1xuICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFRpbWVvdXRzQ29udGV4dC5Qcm92aWRlciwgeyB2YWx1ZTogY29udGV4dCB9LCBjaGlsZHJlbik7XG59XG5cbmNvbnN0IEljb25CdXR0b24gPSBSZWFjdC5mb3J3YXJkUmVmKGZ1bmN0aW9uIEljb25CdXR0b24oeyBsYWJlbDogbGFiZWwkMSwgY2xhc3NOYW1lLCBpY29uOiBJY29uLCByZW5kZXJJY29uLCBvbkNsaWNrLCBzdHlsZSwgLi4ucmVzdCB9LCByZWYpIHtcbiAgICBjb25zdCB7IHN0eWxlcywgbGFiZWxzIH0gPSB1c2VMaWdodGJveFByb3BzKCk7XG4gICAgY29uc3QgYnV0dG9uTGFiZWwgPSBsYWJlbChsYWJlbHMsIGxhYmVsJDEpO1xuICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiLCB7IHJlZjogcmVmLCB0eXBlOiBcImJ1dHRvblwiLCB0aXRsZTogYnV0dG9uTGFiZWwsIFwiYXJpYS1sYWJlbFwiOiBidXR0b25MYWJlbCwgY2xhc3NOYW1lOiBjbHN4KGNzc0NsYXNzKEVMRU1FTlRfQlVUVE9OKSwgY2xhc3NOYW1lKSwgb25DbGljazogb25DbGljaywgc3R5bGU6IHsgLi4uc3R5bGUsIC4uLnN0eWxlcy5idXR0b24gfSwgLi4ucmVzdCB9LCByZW5kZXJJY29uID8gcmVuZGVySWNvbigpIDogUmVhY3QuY3JlYXRlRWxlbWVudChJY29uLCB7IGNsYXNzTmFtZTogY3NzQ2xhc3MoRUxFTUVOVF9JQ09OKSwgc3R5bGU6IHN0eWxlcy5pY29uIH0pKSk7XG59KTtcblxuZnVuY3Rpb24gc3ZnSWNvbihuYW1lLCBjaGlsZHJlbikge1xuICAgIGNvbnN0IGljb24gPSAocHJvcHMpID0+IChSZWFjdC5jcmVhdGVFbGVtZW50KFwic3ZnXCIsIHsgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgdmlld0JveDogXCIwIDAgMjQgMjRcIiwgd2lkdGg6IFwiMjRcIiwgaGVpZ2h0OiBcIjI0XCIsIFwiYXJpYS1oaWRkZW5cIjogXCJ0cnVlXCIsIGZvY3VzYWJsZTogXCJmYWxzZVwiLCAuLi5wcm9wcyB9LCBjaGlsZHJlbikpO1xuICAgIGljb24uZGlzcGxheU5hbWUgPSBuYW1lO1xuICAgIHJldHVybiBpY29uO1xufVxuZnVuY3Rpb24gY3JlYXRlSWNvbihuYW1lLCBnbHlwaCkge1xuICAgIHJldHVybiBzdmdJY29uKG5hbWUsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJnXCIsIHsgZmlsbDogXCJjdXJyZW50Q29sb3JcIiB9LFxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7IGQ6IFwiTTAgMGgyNHYyNEgwelwiLCBmaWxsOiBcIm5vbmVcIiB9KSxcbiAgICAgICAgZ2x5cGgpKTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUljb25EaXNhYmxlZChuYW1lLCBnbHlwaCkge1xuICAgIHJldHVybiBzdmdJY29uKG5hbWUsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIG51bGwsXG4gICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkZWZzXCIsIG51bGwsXG4gICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwibWFza1wiLCB7IGlkOiBcInN0cmlrZVwiIH0sXG4gICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcInBhdGhcIiwgeyBkOiBcIk0wIDBoMjR2MjRIMHpcIiwgZmlsbDogXCJ3aGl0ZVwiIH0pLFxuICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHsgZDogXCJNMCAwTDI0IDI0XCIsIHN0cm9rZTogXCJibGFja1wiLCBzdHJva2VXaWR0aDogNCB9KSkpLFxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7IGQ6IFwiTTAuNzA3MDcgMi4xMjEzMjBMMjEuODc4NjgwIDIzLjI5Mjg4M1wiLCBzdHJva2U6IFwiY3VycmVudENvbG9yXCIsIHN0cm9rZVdpZHRoOiAyIH0pLFxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZ1wiLCB7IGZpbGw6IFwiY3VycmVudENvbG9yXCIsIG1hc2s6IFwidXJsKCNzdHJpa2UpXCIgfSxcbiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHsgZDogXCJNMCAwaDI0djI0SDB6XCIsIGZpbGw6IFwibm9uZVwiIH0pLFxuICAgICAgICAgICAgZ2x5cGgpKSk7XG59XG5jb25zdCBDbG9zZUljb24gPSBjcmVhdGVJY29uKFwiQ2xvc2VcIiwgUmVhY3QuY3JlYXRlRWxlbWVudChcInBhdGhcIiwgeyBkOiBcIk0xOSA2LjQxTDE3LjU5IDUgMTIgMTAuNTkgNi40MSA1IDUgNi40MSAxMC41OSAxMiA1IDE3LjU5IDYuNDEgMTkgMTIgMTMuNDEgMTcuNTkgMTkgMTkgMTcuNTkgMTMuNDEgMTJ6XCIgfSkpO1xuY29uc3QgUHJldmlvdXNJY29uID0gY3JlYXRlSWNvbihcIlByZXZpb3VzXCIsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHsgZDogXCJNMTUuNDEgNy40MUwxNCA2bC02IDYgNiA2IDEuNDEtMS40MUwxMC44MyAxMnpcIiB9KSk7XG5jb25zdCBOZXh0SWNvbiA9IGNyZWF0ZUljb24oXCJOZXh0XCIsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHsgZDogXCJNMTAgNkw4LjU5IDcuNDEgMTMuMTcgMTJsLTQuNTggNC41OUwxMCAxOGw2LTZ6XCIgfSkpO1xuY29uc3QgTG9hZGluZ0ljb24gPSBjcmVhdGVJY29uKFwiTG9hZGluZ1wiLCBSZWFjdC5jcmVhdGVFbGVtZW50KFJlYWN0LkZyYWdtZW50LCBudWxsLCBBcnJheS5mcm9tKHsgbGVuZ3RoOiA4IH0pLm1hcCgoXywgaW5kZXgsIGFycmF5KSA9PiAoUmVhY3QuY3JlYXRlRWxlbWVudChcImxpbmVcIiwgeyBrZXk6IGluZGV4LCB4MTogXCIxMlwiLCB5MTogXCI2LjVcIiwgeDI6IFwiMTJcIiwgeTI6IFwiMS44XCIsIHN0cm9rZUxpbmVjYXA6IFwicm91bmRcIiwgc3Ryb2tlV2lkdGg6IFwiMi42XCIsIHN0cm9rZTogXCJjdXJyZW50Q29sb3JcIiwgc3Ryb2tlT3BhY2l0eTogKDEgLyBhcnJheS5sZW5ndGgpICogKGluZGV4ICsgMSksIHRyYW5zZm9ybTogYHJvdGF0ZSgkeygzNjAgLyBhcnJheS5sZW5ndGgpICogaW5kZXh9LCAxMiwgMTIpYCB9KSkpKSk7XG5jb25zdCBFcnJvckljb24gPSBjcmVhdGVJY29uKFwiRXJyb3JcIiwgUmVhY3QuY3JlYXRlRWxlbWVudChcInBhdGhcIiwgeyBkOiBcIk0yMS45LDIxLjlsLTguNDktOC40OWwwLDBMMy41OSwzLjU5bDAsMEwyLjEsMi4xTDAuNjksMy41MUwzLDUuODNWMTljMCwxLjEsMC45LDIsMiwyaDEzLjE3bDIuMzEsMi4zMUwyMS45LDIxLjl6IE01LDE4IGwzLjUtNC41bDIuNSwzLjAxTDEyLjE3LDE1bDMsM0g1eiBNMjEsMTguMTdMNS44MywzSDE5YzEuMSwwLDIsMC45LDIsMlYxOC4xN3pcIiB9KSk7XG5cbmNvbnN0IHVzZUxheW91dEVmZmVjdCA9IGhhc1dpbmRvdygpID8gUmVhY3QudXNlTGF5b3V0RWZmZWN0IDogUmVhY3QudXNlRWZmZWN0O1xuXG5mdW5jdGlvbiB1c2VNb3Rpb25QcmVmZXJlbmNlKCkge1xuICAgIGNvbnN0IFtyZWR1Y2VNb3Rpb24sIHNldFJlZHVjZU1vdGlvbl0gPSBSZWFjdC51c2VTdGF0ZShmYWxzZSk7XG4gICAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgY29uc3QgbWVkaWFRdWVyeSA9IChfYSA9IHdpbmRvdy5tYXRjaE1lZGlhKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbCh3aW5kb3csIFwiKHByZWZlcnMtcmVkdWNlZC1tb3Rpb246IHJlZHVjZSlcIik7XG4gICAgICAgIHNldFJlZHVjZU1vdGlvbihtZWRpYVF1ZXJ5ID09PSBudWxsIHx8IG1lZGlhUXVlcnkgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG1lZGlhUXVlcnkubWF0Y2hlcyk7XG4gICAgICAgIGNvbnN0IGxpc3RlbmVyID0gKGV2ZW50KSA9PiBzZXRSZWR1Y2VNb3Rpb24oZXZlbnQubWF0Y2hlcyk7XG4gICAgICAgIChfYiA9IG1lZGlhUXVlcnkgPT09IG51bGwgfHwgbWVkaWFRdWVyeSA9PT0gdm9pZCAwID8gdm9pZCAwIDogbWVkaWFRdWVyeS5hZGRFdmVudExpc3RlbmVyKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2FsbChtZWRpYVF1ZXJ5LCBcImNoYW5nZVwiLCBsaXN0ZW5lcik7XG4gICAgICAgIHJldHVybiAoKSA9PiB7IHZhciBfYTsgcmV0dXJuIChfYSA9IG1lZGlhUXVlcnkgPT09IG51bGwgfHwgbWVkaWFRdWVyeSA9PT0gdm9pZCAwID8gdm9pZCAwIDogbWVkaWFRdWVyeS5yZW1vdmVFdmVudExpc3RlbmVyKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbChtZWRpYVF1ZXJ5LCBcImNoYW5nZVwiLCBsaXN0ZW5lcik7IH07XG4gICAgfSwgW10pO1xuICAgIHJldHVybiByZWR1Y2VNb3Rpb247XG59XG5cbmZ1bmN0aW9uIGN1cnJlbnRUcmFuc2Zvcm1hdGlvbihub2RlKSB7XG4gICAgbGV0IHggPSAwO1xuICAgIGxldCB5ID0gMDtcbiAgICBsZXQgeiA9IDA7XG4gICAgY29uc3QgbWF0cml4ID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUobm9kZSkudHJhbnNmb3JtO1xuICAgIGNvbnN0IG1hdGNoZXIgPSBtYXRyaXgubWF0Y2goL21hdHJpeC4qXFwoKC4rKVxcKS8pO1xuICAgIGlmIChtYXRjaGVyKSB7XG4gICAgICAgIGNvbnN0IHZhbHVlcyA9IG1hdGNoZXJbMV0uc3BsaXQoXCIsXCIpLm1hcChwYXJzZUludCk7XG4gICAgICAgIGlmICh2YWx1ZXMubGVuZ3RoID09PSA2KSB7XG4gICAgICAgICAgICB4ID0gdmFsdWVzWzRdO1xuICAgICAgICAgICAgeSA9IHZhbHVlc1s1XTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh2YWx1ZXMubGVuZ3RoID09PSAxNikge1xuICAgICAgICAgICAgeCA9IHZhbHVlc1sxMl07XG4gICAgICAgICAgICB5ID0gdmFsdWVzWzEzXTtcbiAgICAgICAgICAgIHogPSB2YWx1ZXNbMTRdO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7IHgsIHksIHogfTtcbn1cbmZ1bmN0aW9uIHVzZUFuaW1hdGlvbihub2RlUmVmLCBjb21wdXRlQW5pbWF0aW9uKSB7XG4gICAgY29uc3Qgc25hcHNob3QgPSBSZWFjdC51c2VSZWYoKTtcbiAgICBjb25zdCBhbmltYXRpb24gPSBSZWFjdC51c2VSZWYoKTtcbiAgICBjb25zdCByZWR1Y2VNb3Rpb24gPSB1c2VNb3Rpb25QcmVmZXJlbmNlKCk7XG4gICAgdXNlTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgICAgIGlmIChub2RlUmVmLmN1cnJlbnQgJiYgc25hcHNob3QuY3VycmVudCAhPT0gdW5kZWZpbmVkICYmICFyZWR1Y2VNb3Rpb24pIHtcbiAgICAgICAgICAgIGNvbnN0IHsga2V5ZnJhbWVzLCBkdXJhdGlvbiwgZWFzaW5nLCBvbmZpbmlzaCB9ID0gY29tcHV0ZUFuaW1hdGlvbihzbmFwc2hvdC5jdXJyZW50LCBub2RlUmVmLmN1cnJlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksIGN1cnJlbnRUcmFuc2Zvcm1hdGlvbihub2RlUmVmLmN1cnJlbnQpKSB8fCB7fTtcbiAgICAgICAgICAgIGlmIChrZXlmcmFtZXMgJiYgZHVyYXRpb24pIHtcbiAgICAgICAgICAgICAgICAoX2EgPSBhbmltYXRpb24uY3VycmVudCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbmNlbCgpO1xuICAgICAgICAgICAgICAgIGFuaW1hdGlvbi5jdXJyZW50ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbi5jdXJyZW50ID0gKF9jID0gKF9iID0gbm9kZVJlZi5jdXJyZW50KS5hbmltYXRlKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MuY2FsbChfYiwga2V5ZnJhbWVzLCB7IGR1cmF0aW9uLCBlYXNpbmcgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoYW5pbWF0aW9uLmN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uLmN1cnJlbnQub25maW5pc2ggPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhbmltYXRpb24uY3VycmVudCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uZmluaXNoID09PSBudWxsIHx8IG9uZmluaXNoID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvbmZpbmlzaCgpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBzbmFwc2hvdC5jdXJyZW50ID0gdW5kZWZpbmVkO1xuICAgIH0pO1xuICAgIHJldHVybiB7XG4gICAgICAgIHByZXBhcmVBbmltYXRpb246IChjdXJyZW50U25hcHNob3QpID0+IHtcbiAgICAgICAgICAgIHNuYXBzaG90LmN1cnJlbnQgPSBjdXJyZW50U25hcHNob3Q7XG4gICAgICAgIH0sXG4gICAgICAgIGlzQW5pbWF0aW9uUGxheWluZzogKCkgPT4geyB2YXIgX2E7IHJldHVybiAoKF9hID0gYW5pbWF0aW9uLmN1cnJlbnQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5wbGF5U3RhdGUpID09PSBcInJ1bm5pbmdcIjsgfSxcbiAgICB9O1xufVxuXG5mdW5jdGlvbiB1c2VDb250YWluZXJSZWN0KCkge1xuICAgIGNvbnN0IGNvbnRhaW5lclJlZiA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgICBjb25zdCBvYnNlcnZlclJlZiA9IFJlYWN0LnVzZVJlZigpO1xuICAgIGNvbnN0IFtjb250YWluZXJSZWN0LCBzZXRDb250YWluZXJSZWN0XSA9IFJlYWN0LnVzZVN0YXRlKCk7XG4gICAgY29uc3Qgc2V0Q29udGFpbmVyUmVmID0gUmVhY3QudXNlQ2FsbGJhY2soKG5vZGUpID0+IHtcbiAgICAgICAgY29udGFpbmVyUmVmLmN1cnJlbnQgPSBub2RlO1xuICAgICAgICBpZiAob2JzZXJ2ZXJSZWYuY3VycmVudCkge1xuICAgICAgICAgICAgb2JzZXJ2ZXJSZWYuY3VycmVudC5kaXNjb25uZWN0KCk7XG4gICAgICAgICAgICBvYnNlcnZlclJlZi5jdXJyZW50ID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHVwZGF0ZUNvbnRhaW5lclJlY3QgPSAoKSA9PiB7XG4gICAgICAgICAgICBpZiAobm9kZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0eWxlcyA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKG5vZGUpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhcnNlID0gKHZhbHVlKSA9PiBwYXJzZUZsb2F0KHZhbHVlKSB8fCAwO1xuICAgICAgICAgICAgICAgIHNldENvbnRhaW5lclJlY3Qoe1xuICAgICAgICAgICAgICAgICAgICB3aWR0aDogTWF0aC5yb3VuZChub2RlLmNsaWVudFdpZHRoIC0gcGFyc2Uoc3R5bGVzLnBhZGRpbmdMZWZ0KSAtIHBhcnNlKHN0eWxlcy5wYWRkaW5nUmlnaHQpKSxcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBNYXRoLnJvdW5kKG5vZGUuY2xpZW50SGVpZ2h0IC0gcGFyc2Uoc3R5bGVzLnBhZGRpbmdUb3ApIC0gcGFyc2Uoc3R5bGVzLnBhZGRpbmdCb3R0b20pKSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHNldENvbnRhaW5lclJlY3QodW5kZWZpbmVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdXBkYXRlQ29udGFpbmVyUmVjdCgpO1xuICAgICAgICBpZiAobm9kZSAmJiB0eXBlb2YgUmVzaXplT2JzZXJ2ZXIgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgIG9ic2VydmVyUmVmLmN1cnJlbnQgPSBuZXcgUmVzaXplT2JzZXJ2ZXIodXBkYXRlQ29udGFpbmVyUmVjdCk7XG4gICAgICAgICAgICBvYnNlcnZlclJlZi5jdXJyZW50Lm9ic2VydmUobm9kZSk7XG4gICAgICAgIH1cbiAgICB9LCBbXSk7XG4gICAgcmV0dXJuIHsgc2V0Q29udGFpbmVyUmVmLCBjb250YWluZXJSZWYsIGNvbnRhaW5lclJlY3QgfTtcbn1cblxuZnVuY3Rpb24gdXNlRGVsYXkoKSB7XG4gICAgY29uc3QgdGltZW91dElkID0gUmVhY3QudXNlUmVmKCk7XG4gICAgY29uc3QgeyBzZXRUaW1lb3V0LCBjbGVhclRpbWVvdXQgfSA9IHVzZVRpbWVvdXRzKCk7XG4gICAgcmV0dXJuIFJlYWN0LnVzZUNhbGxiYWNrKChjYWxsYmFjaywgZGVsYXkpID0+IHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXRJZC5jdXJyZW50KTtcbiAgICAgICAgdGltZW91dElkLmN1cnJlbnQgPSBzZXRUaW1lb3V0KGNhbGxiYWNrLCBkZWxheSA+IDAgPyBkZWxheSA6IDApO1xuICAgIH0sIFtzZXRUaW1lb3V0LCBjbGVhclRpbWVvdXRdKTtcbn1cblxuZnVuY3Rpb24gdXNlRXZlbnRDYWxsYmFjayhmbikge1xuICAgIGNvbnN0IHJlZiA9IFJlYWN0LnVzZVJlZihmbik7XG4gICAgdXNlTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICAgICAgcmVmLmN1cnJlbnQgPSBmbjtcbiAgICB9KTtcbiAgICByZXR1cm4gUmVhY3QudXNlQ2FsbGJhY2soKC4uLmFyZ3MpID0+IHsgdmFyIF9hOyByZXR1cm4gKF9hID0gcmVmLmN1cnJlbnQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKHJlZiwgLi4uYXJncyk7IH0sIFtdKTtcbn1cblxuZnVuY3Rpb24gc2V0UmVmKHJlZiwgdmFsdWUpIHtcbiAgICBpZiAodHlwZW9mIHJlZiA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHJlZih2YWx1ZSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHJlZikge1xuICAgICAgICByZWYuY3VycmVudCA9IHZhbHVlO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHVzZUZvcmtSZWYocmVmQSwgcmVmQikge1xuICAgIHJldHVybiBSZWFjdC51c2VNZW1vKCgpID0+IHJlZkEgPT0gbnVsbCAmJiByZWZCID09IG51bGxcbiAgICAgICAgPyBudWxsXG4gICAgICAgIDogKHJlZlZhbHVlKSA9PiB7XG4gICAgICAgICAgICBzZXRSZWYocmVmQSwgcmVmVmFsdWUpO1xuICAgICAgICAgICAgc2V0UmVmKHJlZkIsIHJlZlZhbHVlKTtcbiAgICAgICAgfSwgW3JlZkEsIHJlZkJdKTtcbn1cblxuZnVuY3Rpb24gdXNlTG9zZUZvY3VzKGZvY3VzLCBkaXNhYmxlZCA9IGZhbHNlKSB7XG4gICAgY29uc3QgZm9jdXNlZCA9IFJlYWN0LnVzZVJlZigpO1xuICAgIHVzZUxheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChkaXNhYmxlZCAmJiBmb2N1c2VkLmN1cnJlbnQpIHtcbiAgICAgICAgICAgIGZvY3VzZWQuY3VycmVudCA9IGZhbHNlO1xuICAgICAgICAgICAgZm9jdXMoKTtcbiAgICAgICAgfVxuICAgIH0sIFtkaXNhYmxlZCwgZm9jdXNdKTtcbiAgICBjb25zdCBvbkZvY3VzID0gUmVhY3QudXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgICAgICBmb2N1c2VkLmN1cnJlbnQgPSB0cnVlO1xuICAgIH0sIFtdKTtcbiAgICBjb25zdCBvbkJsdXIgPSBSZWFjdC51c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgICAgIGZvY3VzZWQuY3VycmVudCA9IGZhbHNlO1xuICAgIH0sIFtdKTtcbiAgICByZXR1cm4geyBvbkZvY3VzLCBvbkJsdXIgfTtcbn1cblxuZnVuY3Rpb24gdXNlUlRMKCkge1xuICAgIGNvbnN0IFtpc1JUTCwgc2V0SXNSVExdID0gUmVhY3QudXNlU3RhdGUoZmFsc2UpO1xuICAgIHVzZUxheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgICAgIHNldElzUlRMKHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHdpbmRvdy5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpLmRpcmVjdGlvbiA9PT0gXCJydGxcIik7XG4gICAgfSwgW10pO1xuICAgIHJldHVybiBpc1JUTDtcbn1cblxuZnVuY3Rpb24gdXNlU2Vuc29ycygpIHtcbiAgICBjb25zdCBbc3Vic2NyaWJlcnNdID0gUmVhY3QudXNlU3RhdGUoe30pO1xuICAgIGNvbnN0IG5vdGlmeVN1YnNjcmliZXJzID0gUmVhY3QudXNlQ2FsbGJhY2soKHR5cGUsIGV2ZW50KSA9PiB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgKF9hID0gc3Vic2NyaWJlcnNbdHlwZV0pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5mb3JFYWNoKChsaXN0ZW5lcikgPT4ge1xuICAgICAgICAgICAgaWYgKCFldmVudC5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpKVxuICAgICAgICAgICAgICAgIGxpc3RlbmVyKGV2ZW50KTtcbiAgICAgICAgfSk7XG4gICAgfSwgW3N1YnNjcmliZXJzXSk7XG4gICAgY29uc3QgcmVnaXN0ZXJTZW5zb3JzID0gUmVhY3QudXNlTWVtbygoKSA9PiAoe1xuICAgICAgICBvblBvaW50ZXJEb3duOiAoZXZlbnQpID0+IG5vdGlmeVN1YnNjcmliZXJzKEVWRU5UX09OX1BPSU5URVJfRE9XTiwgZXZlbnQpLFxuICAgICAgICBvblBvaW50ZXJNb3ZlOiAoZXZlbnQpID0+IG5vdGlmeVN1YnNjcmliZXJzKEVWRU5UX09OX1BPSU5URVJfTU9WRSwgZXZlbnQpLFxuICAgICAgICBvblBvaW50ZXJVcDogKGV2ZW50KSA9PiBub3RpZnlTdWJzY3JpYmVycyhFVkVOVF9PTl9QT0lOVEVSX1VQLCBldmVudCksXG4gICAgICAgIG9uUG9pbnRlckxlYXZlOiAoZXZlbnQpID0+IG5vdGlmeVN1YnNjcmliZXJzKEVWRU5UX09OX1BPSU5URVJfTEVBVkUsIGV2ZW50KSxcbiAgICAgICAgb25Qb2ludGVyQ2FuY2VsOiAoZXZlbnQpID0+IG5vdGlmeVN1YnNjcmliZXJzKEVWRU5UX09OX1BPSU5URVJfQ0FOQ0VMLCBldmVudCksXG4gICAgICAgIG9uS2V5RG93bjogKGV2ZW50KSA9PiBub3RpZnlTdWJzY3JpYmVycyhFVkVOVF9PTl9LRVlfRE9XTiwgZXZlbnQpLFxuICAgICAgICBvbktleVVwOiAoZXZlbnQpID0+IG5vdGlmeVN1YnNjcmliZXJzKEVWRU5UX09OX0tFWV9VUCwgZXZlbnQpLFxuICAgICAgICBvbldoZWVsOiAoZXZlbnQpID0+IG5vdGlmeVN1YnNjcmliZXJzKEVWRU5UX09OX1dIRUVMLCBldmVudCksXG4gICAgfSksIFtub3RpZnlTdWJzY3JpYmVyc10pO1xuICAgIGNvbnN0IHN1YnNjcmliZVNlbnNvcnMgPSBSZWFjdC51c2VDYWxsYmFjaygodHlwZSwgY2FsbGJhY2spID0+IHtcbiAgICAgICAgaWYgKCFzdWJzY3JpYmVyc1t0eXBlXSkge1xuICAgICAgICAgICAgc3Vic2NyaWJlcnNbdHlwZV0gPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBzdWJzY3JpYmVyc1t0eXBlXS51bnNoaWZ0KGNhbGxiYWNrKTtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxpc3RlbmVycyA9IHN1YnNjcmliZXJzW3R5cGVdO1xuICAgICAgICAgICAgaWYgKGxpc3RlbmVycykge1xuICAgICAgICAgICAgICAgIGxpc3RlbmVycy5zcGxpY2UoMCwgbGlzdGVuZXJzLmxlbmd0aCwgLi4ubGlzdGVuZXJzLmZpbHRlcigoZWwpID0+IGVsICE9PSBjYWxsYmFjaykpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH0sIFtzdWJzY3JpYmVyc10pO1xuICAgIHJldHVybiB7IHJlZ2lzdGVyU2Vuc29ycywgc3Vic2NyaWJlU2Vuc29ycyB9O1xufVxuXG5mdW5jdGlvbiB1c2VUaHJvdHRsZShjYWxsYmFjaywgZGVsYXkpIHtcbiAgICBjb25zdCBsYXN0Q2FsbGJhY2tUaW1lID0gUmVhY3QudXNlUmVmKDApO1xuICAgIGNvbnN0IGRlbGF5Q2FsbGJhY2sgPSB1c2VEZWxheSgpO1xuICAgIGNvbnN0IGV4ZWN1dGVDYWxsYmFjayA9IHVzZUV2ZW50Q2FsbGJhY2soKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgbGFzdENhbGxiYWNrVGltZS5jdXJyZW50ID0gRGF0ZS5ub3coKTtcbiAgICAgICAgY2FsbGJhY2soYXJncyk7XG4gICAgfSk7XG4gICAgcmV0dXJuIFJlYWN0LnVzZUNhbGxiYWNrKCguLi5hcmdzKSA9PiB7XG4gICAgICAgIGRlbGF5Q2FsbGJhY2soKCkgPT4ge1xuICAgICAgICAgICAgZXhlY3V0ZUNhbGxiYWNrKGFyZ3MpO1xuICAgICAgICB9LCBkZWxheSAtIChEYXRlLm5vdygpIC0gbGFzdENhbGxiYWNrVGltZS5jdXJyZW50KSk7XG4gICAgfSwgW2RlbGF5LCBleGVjdXRlQ2FsbGJhY2ssIGRlbGF5Q2FsbGJhY2tdKTtcbn1cblxuY29uc3Qgc2xpZGVQcmVmaXggPSBtYWtlQ29tcG9zZVByZWZpeChcInNsaWRlXCIpO1xuY29uc3Qgc2xpZGVJbWFnZVByZWZpeCA9IG1ha2VDb21wb3NlUHJlZml4KFwic2xpZGVfaW1hZ2VcIik7XG5mdW5jdGlvbiBJbWFnZVNsaWRlKHsgc2xpZGU6IGltYWdlLCBvZmZzZXQsIHJlbmRlciwgcmVjdCwgaW1hZ2VGaXQsIGltYWdlUHJvcHMsIG9uQ2xpY2ssIG9uTG9hZCwgb25FcnJvciwgc3R5bGUsIH0pIHtcbiAgICB2YXIgX2EsIF9iLCBfYywgX2QsIF9lLCBfZiwgX2c7XG4gICAgY29uc3QgW3N0YXR1cywgc2V0U3RhdHVzXSA9IFJlYWN0LnVzZVN0YXRlKFNMSURFX1NUQVRVU19MT0FESU5HKTtcbiAgICBjb25zdCB7IHB1Ymxpc2ggfSA9IHVzZUV2ZW50cygpO1xuICAgIGNvbnN0IHsgc2V0VGltZW91dCB9ID0gdXNlVGltZW91dHMoKTtcbiAgICBjb25zdCBpbWFnZVJlZiA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAob2Zmc2V0ID09PSAwKSB7XG4gICAgICAgICAgICBwdWJsaXNoKGFjdGl2ZVNsaWRlU3RhdHVzKHN0YXR1cykpO1xuICAgICAgICB9XG4gICAgfSwgW29mZnNldCwgc3RhdHVzLCBwdWJsaXNoXSk7XG4gICAgY29uc3QgaGFuZGxlTG9hZGluZyA9IHVzZUV2ZW50Q2FsbGJhY2soKGltZykgPT4ge1xuICAgICAgICAoXCJkZWNvZGVcIiBpbiBpbWcgPyBpbWcuZGVjb2RlKCkgOiBQcm9taXNlLnJlc29sdmUoKSlcbiAgICAgICAgICAgIC5jYXRjaCgoKSA9PiB7IH0pXG4gICAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICBpZiAoIWltZy5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2V0U3RhdHVzKFNMSURFX1NUQVRVU19DT01QTEVURSk7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICBvbkxvYWQgPT09IG51bGwgfHwgb25Mb2FkID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvbkxvYWQoaW1nKTtcbiAgICAgICAgICAgIH0sIDApO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgICBjb25zdCBzZXRJbWFnZVJlZiA9IFJlYWN0LnVzZUNhbGxiYWNrKChpbWcpID0+IHtcbiAgICAgICAgaW1hZ2VSZWYuY3VycmVudCA9IGltZztcbiAgICAgICAgaWYgKGltZyA9PT0gbnVsbCB8fCBpbWcgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGltZy5jb21wbGV0ZSkge1xuICAgICAgICAgICAgaGFuZGxlTG9hZGluZyhpbWcpO1xuICAgICAgICB9XG4gICAgfSwgW2hhbmRsZUxvYWRpbmddKTtcbiAgICBjb25zdCBoYW5kbGVPbkxvYWQgPSBSZWFjdC51c2VDYWxsYmFjaygoZXZlbnQpID0+IHtcbiAgICAgICAgaGFuZGxlTG9hZGluZyhldmVudC5jdXJyZW50VGFyZ2V0KTtcbiAgICB9LCBbaGFuZGxlTG9hZGluZ10pO1xuICAgIGNvbnN0IGhhbmRsZU9uRXJyb3IgPSB1c2VFdmVudENhbGxiYWNrKCgpID0+IHtcbiAgICAgICAgc2V0U3RhdHVzKFNMSURFX1NUQVRVU19FUlJPUik7XG4gICAgICAgIG9uRXJyb3IgPT09IG51bGwgfHwgb25FcnJvciA9PT0gdm9pZCAwID8gdm9pZCAwIDogb25FcnJvcigpO1xuICAgIH0pO1xuICAgIGNvbnN0IGNvdmVyID0gaXNJbWFnZUZpdENvdmVyKGltYWdlLCBpbWFnZUZpdCk7XG4gICAgY29uc3Qgbm9uSW5maW5pdGUgPSAodmFsdWUsIGZhbGxiYWNrKSA9PiAoTnVtYmVyLmlzRmluaXRlKHZhbHVlKSA/IHZhbHVlIDogZmFsbGJhY2spO1xuICAgIGNvbnN0IG1heFdpZHRoID0gbm9uSW5maW5pdGUoTWF0aC5tYXgoLi4uKChfYiA9IChfYSA9IGltYWdlLnNyY1NldCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLm1hcCgoeCkgPT4geC53aWR0aCkpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IFtdKS5jb25jYXQoaW1hZ2Uud2lkdGggPyBbaW1hZ2Uud2lkdGhdIDogW10pLmZpbHRlcihCb29sZWFuKSksICgoX2MgPSBpbWFnZVJlZi5jdXJyZW50KSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MubmF0dXJhbFdpZHRoKSB8fCAwKTtcbiAgICBjb25zdCBtYXhIZWlnaHQgPSBub25JbmZpbml0ZShNYXRoLm1heCguLi4oKF9lID0gKF9kID0gaW1hZ2Uuc3JjU2V0KSA9PT0gbnVsbCB8fCBfZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2QubWFwKCh4KSA9PiB4LmhlaWdodCkpICE9PSBudWxsICYmIF9lICE9PSB2b2lkIDAgPyBfZSA6IFtdKS5jb25jYXQoaW1hZ2UuaGVpZ2h0ID8gW2ltYWdlLmhlaWdodF0gOiBbXSkuZmlsdGVyKEJvb2xlYW4pKSwgKChfZiA9IGltYWdlUmVmLmN1cnJlbnQpID09PSBudWxsIHx8IF9mID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZi5uYXR1cmFsSGVpZ2h0KSB8fCAwKTtcbiAgICBjb25zdCBkZWZhdWx0U3R5bGUgPSBtYXhXaWR0aCAmJiBtYXhIZWlnaHRcbiAgICAgICAgPyB7XG4gICAgICAgICAgICBtYXhXaWR0aDogYG1pbigke21heFdpZHRofXB4LCAxMDAlKWAsXG4gICAgICAgICAgICBtYXhIZWlnaHQ6IGBtaW4oJHttYXhIZWlnaHR9cHgsIDEwMCUpYCxcbiAgICAgICAgfVxuICAgICAgICA6IHtcbiAgICAgICAgICAgIG1heFdpZHRoOiBcIjEwMCVcIixcbiAgICAgICAgICAgIG1heEhlaWdodDogXCIxMDAlXCIsXG4gICAgICAgIH07XG4gICAgY29uc3Qgc3JjU2V0ID0gKF9nID0gaW1hZ2Uuc3JjU2V0KSA9PT0gbnVsbCB8fCBfZyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2cuc29ydCgoYSwgYikgPT4gYS53aWR0aCAtIGIud2lkdGgpLm1hcCgoaXRlbSkgPT4gYCR7aXRlbS5zcmN9ICR7aXRlbS53aWR0aH13YCkuam9pbihcIiwgXCIpO1xuICAgIGNvbnN0IGVzdGltYXRlQWN0dWFsV2lkdGggPSAoKSA9PiByZWN0ICYmICFjb3ZlciAmJiBpbWFnZS53aWR0aCAmJiBpbWFnZS5oZWlnaHQgPyAocmVjdC5oZWlnaHQgLyBpbWFnZS5oZWlnaHQpICogaW1hZ2Uud2lkdGggOiBOdW1iZXIuTUFYX1ZBTFVFO1xuICAgIGNvbnN0IHNpemVzID0gc3JjU2V0ICYmIHJlY3QgJiYgaGFzV2luZG93KCkgPyBgJHtNYXRoLnJvdW5kKE1hdGgubWluKGVzdGltYXRlQWN0dWFsV2lkdGgoKSwgcmVjdC53aWR0aCkpfXB4YCA6IHVuZGVmaW5lZDtcbiAgICBjb25zdCB7IHN0eWxlOiBpbWFnZVByb3BzU3R5bGUsIGNsYXNzTmFtZTogaW1hZ2VQcm9wc0NsYXNzTmFtZSwgLi4ucmVzdEltYWdlUHJvcHMgfSA9IGltYWdlUHJvcHMgfHwge307XG4gICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFJlYWN0LkZyYWdtZW50LCBudWxsLFxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwiaW1nXCIsIHsgcmVmOiBzZXRJbWFnZVJlZiwgb25Mb2FkOiBoYW5kbGVPbkxvYWQsIG9uRXJyb3I6IGhhbmRsZU9uRXJyb3IsIG9uQ2xpY2s6IG9uQ2xpY2ssIGRyYWdnYWJsZTogZmFsc2UsIGNsYXNzTmFtZTogY2xzeChjc3NDbGFzcyhzbGlkZUltYWdlUHJlZml4KCkpLCBjb3ZlciAmJiBjc3NDbGFzcyhzbGlkZUltYWdlUHJlZml4KFwiY292ZXJcIikpLCBzdGF0dXMgIT09IFNMSURFX1NUQVRVU19DT01QTEVURSAmJiBjc3NDbGFzcyhzbGlkZUltYWdlUHJlZml4KFwibG9hZGluZ1wiKSksIGltYWdlUHJvcHNDbGFzc05hbWUpLCBzdHlsZTogeyAuLi5kZWZhdWx0U3R5bGUsIC4uLnN0eWxlLCAuLi5pbWFnZVByb3BzU3R5bGUgfSwgLi4ucmVzdEltYWdlUHJvcHMsIGFsdDogaW1hZ2UuYWx0LCBzaXplczogc2l6ZXMsIHNyY1NldDogc3JjU2V0LCBzcmM6IGltYWdlLnNyYyB9KSxcbiAgICAgICAgc3RhdHVzICE9PSBTTElERV9TVEFUVVNfQ09NUExFVEUgJiYgKFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IGNzc0NsYXNzKHNsaWRlUHJlZml4KFNMSURFX1NUQVRVU19QTEFDRUhPTERFUikpIH0sXG4gICAgICAgICAgICBzdGF0dXMgPT09IFNMSURFX1NUQVRVU19MT0FESU5HICYmXG4gICAgICAgICAgICAgICAgKChyZW5kZXIgPT09IG51bGwgfHwgcmVuZGVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZW5kZXIuaWNvbkxvYWRpbmcpID8gKHJlbmRlci5pY29uTG9hZGluZygpKSA6IChSZWFjdC5jcmVhdGVFbGVtZW50KExvYWRpbmdJY29uLCB7IGNsYXNzTmFtZTogY2xzeChjc3NDbGFzcyhFTEVNRU5UX0lDT04pLCBjc3NDbGFzcyhzbGlkZVByZWZpeChTTElERV9TVEFUVVNfTE9BRElORykpKSB9KSkpLFxuICAgICAgICAgICAgc3RhdHVzID09PSBTTElERV9TVEFUVVNfRVJST1IgJiZcbiAgICAgICAgICAgICAgICAoKHJlbmRlciA9PT0gbnVsbCB8fCByZW5kZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlbmRlci5pY29uRXJyb3IpID8gKHJlbmRlci5pY29uRXJyb3IoKSkgOiAoUmVhY3QuY3JlYXRlRWxlbWVudChFcnJvckljb24sIHsgY2xhc3NOYW1lOiBjbHN4KGNzc0NsYXNzKEVMRU1FTlRfSUNPTiksIGNzc0NsYXNzKHNsaWRlUHJlZml4KFNMSURFX1NUQVRVU19FUlJPUikpKSB9KSkpKSkpKTtcbn1cblxuY29uc3QgTGlnaHRib3hSb290ID0gUmVhY3QuZm9yd2FyZFJlZihmdW5jdGlvbiBMaWdodGJveFJvb3QoeyBjbGFzc05hbWUsIGNoaWxkcmVuLCAuLi5yZXN0IH0sIHJlZikge1xuICAgIGNvbnN0IG5vZGVSZWYgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KERvY3VtZW50Q29udGV4dFByb3ZpZGVyLCB7IG5vZGVSZWY6IG5vZGVSZWYgfSxcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IHJlZjogdXNlRm9ya1JlZihyZWYsIG5vZGVSZWYpLCBjbGFzc05hbWU6IGNsc3goY3NzQ2xhc3MoXCJyb290XCIpLCBjbGFzc05hbWUpLCAuLi5yZXN0IH0sIGNoaWxkcmVuKSkpO1xufSk7XG5cbnZhciBTd2lwZVN0YXRlO1xuKGZ1bmN0aW9uIChTd2lwZVN0YXRlKSB7XG4gICAgU3dpcGVTdGF0ZVtTd2lwZVN0YXRlW1wiTk9ORVwiXSA9IDBdID0gXCJOT05FXCI7XG4gICAgU3dpcGVTdGF0ZVtTd2lwZVN0YXRlW1wiU1dJUEVcIl0gPSAxXSA9IFwiU1dJUEVcIjtcbiAgICBTd2lwZVN0YXRlW1N3aXBlU3RhdGVbXCJQVUxMXCJdID0gMl0gPSBcIlBVTExcIjtcbiAgICBTd2lwZVN0YXRlW1N3aXBlU3RhdGVbXCJBTklNQVRJT05cIl0gPSAzXSA9IFwiQU5JTUFUSU9OXCI7XG59KShTd2lwZVN0YXRlIHx8IChTd2lwZVN0YXRlID0ge30pKTtcblxuZnVuY3Rpb24gdXNlUG9pbnRlckV2ZW50cyhzdWJzY3JpYmVTZW5zb3JzLCBvblBvaW50ZXJEb3duLCBvblBvaW50ZXJNb3ZlLCBvblBvaW50ZXJVcCwgZGlzYWJsZWQpIHtcbiAgICBSZWFjdC51c2VFZmZlY3QoKCkgPT4gIWRpc2FibGVkXG4gICAgICAgID8gY2xlYW51cChzdWJzY3JpYmVTZW5zb3JzKEVWRU5UX09OX1BPSU5URVJfRE9XTiwgb25Qb2ludGVyRG93biksIHN1YnNjcmliZVNlbnNvcnMoRVZFTlRfT05fUE9JTlRFUl9NT1ZFLCBvblBvaW50ZXJNb3ZlKSwgc3Vic2NyaWJlU2Vuc29ycyhFVkVOVF9PTl9QT0lOVEVSX1VQLCBvblBvaW50ZXJVcCksIHN1YnNjcmliZVNlbnNvcnMoRVZFTlRfT05fUE9JTlRFUl9MRUFWRSwgb25Qb2ludGVyVXApLCBzdWJzY3JpYmVTZW5zb3JzKEVWRU5UX09OX1BPSU5URVJfQ0FOQ0VMLCBvblBvaW50ZXJVcCkpXG4gICAgICAgIDogKCkgPT4geyB9LCBbc3Vic2NyaWJlU2Vuc29ycywgb25Qb2ludGVyRG93biwgb25Qb2ludGVyTW92ZSwgb25Qb2ludGVyVXAsIGRpc2FibGVkXSk7XG59XG5cbnZhciBHZXN0dXJlO1xuKGZ1bmN0aW9uIChHZXN0dXJlKSB7XG4gICAgR2VzdHVyZVtHZXN0dXJlW1wiTk9ORVwiXSA9IDBdID0gXCJOT05FXCI7XG4gICAgR2VzdHVyZVtHZXN0dXJlW1wiU1dJUEVcIl0gPSAxXSA9IFwiU1dJUEVcIjtcbiAgICBHZXN0dXJlW0dlc3R1cmVbXCJQVUxMXCJdID0gMl0gPSBcIlBVTExcIjtcbn0pKEdlc3R1cmUgfHwgKEdlc3R1cmUgPSB7fSkpO1xuY29uc3QgU1dJUEVfVEhSRVNIT0xEID0gMzA7XG5mdW5jdGlvbiB1c2VQb2ludGVyU3dpcGUoc3Vic2NyaWJlU2Vuc29ycywgaXNTd2lwZVZhbGlkLCBjb250YWluZXJXaWR0aCwgc3dpcGVBbmltYXRpb25EdXJhdGlvbiwgb25Td2lwZVN0YXJ0LCBvblN3aXBlUHJvZ3Jlc3MsIG9uU3dpcGVGaW5pc2gsIG9uU3dpcGVDYW5jZWwsIHB1bGxVcEVuYWJsZWQsIHB1bGxEb3duRW5hYmxlZCwgb25QdWxsU3RhcnQsIG9uUHVsbFByb2dyZXNzLCBvblB1bGxGaW5pc2gsIG9uUHVsbENhbmNlbCkge1xuICAgIGNvbnN0IG9mZnNldCA9IFJlYWN0LnVzZVJlZigwKTtcbiAgICBjb25zdCBwb2ludGVycyA9IFJlYWN0LnVzZVJlZihbXSk7XG4gICAgY29uc3QgYWN0aXZlUG9pbnRlciA9IFJlYWN0LnVzZVJlZigpO1xuICAgIGNvbnN0IHN0YXJ0VGltZSA9IFJlYWN0LnVzZVJlZigwKTtcbiAgICBjb25zdCBnZXN0dXJlID0gUmVhY3QudXNlUmVmKEdlc3R1cmUuTk9ORSk7XG4gICAgY29uc3QgY2xlYXJQb2ludGVyID0gUmVhY3QudXNlQ2FsbGJhY2soKGV2ZW50KSA9PiB7XG4gICAgICAgIGlmIChhY3RpdmVQb2ludGVyLmN1cnJlbnQgPT09IGV2ZW50LnBvaW50ZXJJZCkge1xuICAgICAgICAgICAgYWN0aXZlUG9pbnRlci5jdXJyZW50ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgZ2VzdHVyZS5jdXJyZW50ID0gR2VzdHVyZS5OT05FO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGN1cnJlbnRQb2ludGVycyA9IHBvaW50ZXJzLmN1cnJlbnQ7XG4gICAgICAgIGN1cnJlbnRQb2ludGVycy5zcGxpY2UoMCwgY3VycmVudFBvaW50ZXJzLmxlbmd0aCwgLi4uY3VycmVudFBvaW50ZXJzLmZpbHRlcigocCkgPT4gcC5wb2ludGVySWQgIT09IGV2ZW50LnBvaW50ZXJJZCkpO1xuICAgIH0sIFtdKTtcbiAgICBjb25zdCBhZGRQb2ludGVyID0gUmVhY3QudXNlQ2FsbGJhY2soKGV2ZW50KSA9PiB7XG4gICAgICAgIGNsZWFyUG9pbnRlcihldmVudCk7XG4gICAgICAgIGV2ZW50LnBlcnNpc3QoKTtcbiAgICAgICAgcG9pbnRlcnMuY3VycmVudC5wdXNoKGV2ZW50KTtcbiAgICB9LCBbY2xlYXJQb2ludGVyXSk7XG4gICAgY29uc3Qgb25Qb2ludGVyRG93biA9IHVzZUV2ZW50Q2FsbGJhY2soKGV2ZW50KSA9PiB7XG4gICAgICAgIGFkZFBvaW50ZXIoZXZlbnQpO1xuICAgIH0pO1xuICAgIGNvbnN0IGV4Y2VlZHNQdWxsVGhyZXNob2xkID0gKHZhbHVlLCB0aHJlc2hvbGQpID0+IChwdWxsRG93bkVuYWJsZWQgJiYgdmFsdWUgPiB0aHJlc2hvbGQpIHx8IChwdWxsVXBFbmFibGVkICYmIHZhbHVlIDwgLXRocmVzaG9sZCk7XG4gICAgY29uc3Qgb25Qb2ludGVyVXAgPSB1c2VFdmVudENhbGxiYWNrKChldmVudCkgPT4ge1xuICAgICAgICBpZiAocG9pbnRlcnMuY3VycmVudC5maW5kKCh4KSA9PiB4LnBvaW50ZXJJZCA9PT0gZXZlbnQucG9pbnRlcklkKSAmJiBhY3RpdmVQb2ludGVyLmN1cnJlbnQgPT09IGV2ZW50LnBvaW50ZXJJZCkge1xuICAgICAgICAgICAgY29uc3QgZHVyYXRpb24gPSBEYXRlLm5vdygpIC0gc3RhcnRUaW1lLmN1cnJlbnQ7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50T2Zmc2V0ID0gb2Zmc2V0LmN1cnJlbnQ7XG4gICAgICAgICAgICBpZiAoZ2VzdHVyZS5jdXJyZW50ID09PSBHZXN0dXJlLlNXSVBFKSB7XG4gICAgICAgICAgICAgICAgaWYgKE1hdGguYWJzKGN1cnJlbnRPZmZzZXQpID4gMC4zICogY29udGFpbmVyV2lkdGggfHxcbiAgICAgICAgICAgICAgICAgICAgKE1hdGguYWJzKGN1cnJlbnRPZmZzZXQpID4gNSAmJiBkdXJhdGlvbiA8IHN3aXBlQW5pbWF0aW9uRHVyYXRpb24pKSB7XG4gICAgICAgICAgICAgICAgICAgIG9uU3dpcGVGaW5pc2goY3VycmVudE9mZnNldCwgZHVyYXRpb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgb25Td2lwZUNhbmNlbChjdXJyZW50T2Zmc2V0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChnZXN0dXJlLmN1cnJlbnQgPT09IEdlc3R1cmUuUFVMTCkge1xuICAgICAgICAgICAgICAgIGlmIChleGNlZWRzUHVsbFRocmVzaG9sZChjdXJyZW50T2Zmc2V0LCAyICogU1dJUEVfVEhSRVNIT0xEKSkge1xuICAgICAgICAgICAgICAgICAgICBvblB1bGxGaW5pc2goY3VycmVudE9mZnNldCwgZHVyYXRpb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgb25QdWxsQ2FuY2VsKGN1cnJlbnRPZmZzZXQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9mZnNldC5jdXJyZW50ID0gMDtcbiAgICAgICAgICAgIGdlc3R1cmUuY3VycmVudCA9IEdlc3R1cmUuTk9ORTtcbiAgICAgICAgfVxuICAgICAgICBjbGVhclBvaW50ZXIoZXZlbnQpO1xuICAgIH0pO1xuICAgIGNvbnN0IG9uUG9pbnRlck1vdmUgPSB1c2VFdmVudENhbGxiYWNrKChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCBwb2ludGVyID0gcG9pbnRlcnMuY3VycmVudC5maW5kKChwKSA9PiBwLnBvaW50ZXJJZCA9PT0gZXZlbnQucG9pbnRlcklkKTtcbiAgICAgICAgaWYgKHBvaW50ZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IGlzQ3VycmVudFBvaW50ZXIgPSBhY3RpdmVQb2ludGVyLmN1cnJlbnQgPT09IGV2ZW50LnBvaW50ZXJJZDtcbiAgICAgICAgICAgIGlmIChldmVudC5idXR0b25zID09PSAwKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzQ3VycmVudFBvaW50ZXIgJiYgb2Zmc2V0LmN1cnJlbnQgIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgb25Qb2ludGVyVXAoZXZlbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJQb2ludGVyKHBvaW50ZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBkZWx0YVggPSBldmVudC5jbGllbnRYIC0gcG9pbnRlci5jbGllbnRYO1xuICAgICAgICAgICAgY29uc3QgZGVsdGFZID0gZXZlbnQuY2xpZW50WSAtIHBvaW50ZXIuY2xpZW50WTtcbiAgICAgICAgICAgIGlmIChhY3RpdmVQb2ludGVyLmN1cnJlbnQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0YXJ0R2VzdHVyZSA9IChuZXdHZXN0dXJlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGFkZFBvaW50ZXIoZXZlbnQpO1xuICAgICAgICAgICAgICAgICAgICBhY3RpdmVQb2ludGVyLmN1cnJlbnQgPSBldmVudC5wb2ludGVySWQ7XG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0VGltZS5jdXJyZW50ID0gRGF0ZS5ub3coKTtcbiAgICAgICAgICAgICAgICAgICAgZ2VzdHVyZS5jdXJyZW50ID0gbmV3R2VzdHVyZTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGlmIChNYXRoLmFicyhkZWx0YVgpID4gTWF0aC5hYnMoZGVsdGFZKSAmJiBNYXRoLmFicyhkZWx0YVgpID4gU1dJUEVfVEhSRVNIT0xEICYmIGlzU3dpcGVWYWxpZChkZWx0YVgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0R2VzdHVyZShHZXN0dXJlLlNXSVBFKTtcbiAgICAgICAgICAgICAgICAgICAgb25Td2lwZVN0YXJ0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKE1hdGguYWJzKGRlbHRhWSkgPiBNYXRoLmFicyhkZWx0YVgpICYmIGV4Y2VlZHNQdWxsVGhyZXNob2xkKGRlbHRhWSwgU1dJUEVfVEhSRVNIT0xEKSkge1xuICAgICAgICAgICAgICAgICAgICBzdGFydEdlc3R1cmUoR2VzdHVyZS5QVUxMKTtcbiAgICAgICAgICAgICAgICAgICAgb25QdWxsU3RhcnQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChpc0N1cnJlbnRQb2ludGVyKSB7XG4gICAgICAgICAgICAgICAgaWYgKGdlc3R1cmUuY3VycmVudCA9PT0gR2VzdHVyZS5TV0lQRSkge1xuICAgICAgICAgICAgICAgICAgICBvZmZzZXQuY3VycmVudCA9IGRlbHRhWDtcbiAgICAgICAgICAgICAgICAgICAgb25Td2lwZVByb2dyZXNzKGRlbHRhWCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGdlc3R1cmUuY3VycmVudCA9PT0gR2VzdHVyZS5QVUxMKSB7XG4gICAgICAgICAgICAgICAgICAgIG9mZnNldC5jdXJyZW50ID0gZGVsdGFZO1xuICAgICAgICAgICAgICAgICAgICBvblB1bGxQcm9ncmVzcyhkZWx0YVkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHVzZVBvaW50ZXJFdmVudHMoc3Vic2NyaWJlU2Vuc29ycywgb25Qb2ludGVyRG93biwgb25Qb2ludGVyTW92ZSwgb25Qb2ludGVyVXApO1xufVxuXG5mdW5jdGlvbiB1c2VQcmV2ZW50V2hlZWxEZWZhdWx0cyh7IHByZXZlbnREZWZhdWx0V2hlZWxYLCBwcmV2ZW50RGVmYXVsdFdoZWVsWSwgfSkge1xuICAgIGNvbnN0IHJlZiA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgICBjb25zdCBsaXN0ZW5lciA9IHVzZUV2ZW50Q2FsbGJhY2soKGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IGhvcml6b250YWwgPSBNYXRoLmFicyhldmVudC5kZWx0YVgpID4gTWF0aC5hYnMoZXZlbnQuZGVsdGFZKTtcbiAgICAgICAgaWYgKChob3Jpem9udGFsICYmIHByZXZlbnREZWZhdWx0V2hlZWxYKSB8fCAoIWhvcml6b250YWwgJiYgcHJldmVudERlZmF1bHRXaGVlbFkpIHx8IGV2ZW50LmN0cmxLZXkpIHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gUmVhY3QudXNlQ2FsbGJhY2soKG5vZGUpID0+IHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAobm9kZSkge1xuICAgICAgICAgICAgbm9kZS5hZGRFdmVudExpc3RlbmVyKFwid2hlZWxcIiwgbGlzdGVuZXIsIHsgcGFzc2l2ZTogZmFsc2UgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAoX2EgPSByZWYuY3VycmVudCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ3aGVlbFwiLCBsaXN0ZW5lcik7XG4gICAgICAgIH1cbiAgICAgICAgcmVmLmN1cnJlbnQgPSBub2RlO1xuICAgIH0sIFtsaXN0ZW5lcl0pO1xufVxuXG5mdW5jdGlvbiB1c2VXaGVlbFN3aXBlKHN3aXBlU3RhdGUsIHN1YnNjcmliZVNlbnNvcnMsIGlzU3dpcGVWYWxpZCwgY29udGFpbmVyV2lkdGgsIHN3aXBlQW5pbWF0aW9uRHVyYXRpb24sIG9uU3dpcGVTdGFydCwgb25Td2lwZVByb2dyZXNzLCBvblN3aXBlRmluaXNoLCBvblN3aXBlQ2FuY2VsKSB7XG4gICAgY29uc3Qgb2Zmc2V0ID0gUmVhY3QudXNlUmVmKDApO1xuICAgIGNvbnN0IGludGVudCA9IFJlYWN0LnVzZVJlZigwKTtcbiAgICBjb25zdCBpbnRlbnRDbGVhbnVwID0gUmVhY3QudXNlUmVmKCk7XG4gICAgY29uc3QgcmVzZXRDbGVhbnVwID0gUmVhY3QudXNlUmVmKCk7XG4gICAgY29uc3Qgd2hlZWxJbmVydGlhID0gUmVhY3QudXNlUmVmKDApO1xuICAgIGNvbnN0IHdoZWVsSW5lcnRpYUNsZWFudXAgPSBSZWFjdC51c2VSZWYoKTtcbiAgICBjb25zdCBzdGFydFRpbWUgPSBSZWFjdC51c2VSZWYoMCk7XG4gICAgY29uc3QgeyBzZXRUaW1lb3V0LCBjbGVhclRpbWVvdXQgfSA9IHVzZVRpbWVvdXRzKCk7XG4gICAgY29uc3QgY2FuY2VsU3dpcGVJbnRlbnRDbGVhbnVwID0gUmVhY3QudXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgICAgICBpZiAoaW50ZW50Q2xlYW51cC5jdXJyZW50KSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQoaW50ZW50Q2xlYW51cC5jdXJyZW50KTtcbiAgICAgICAgICAgIGludGVudENsZWFudXAuY3VycmVudCA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH0sIFtjbGVhclRpbWVvdXRdKTtcbiAgICBjb25zdCBjYW5jZWxTd2lwZVJlc2V0Q2xlYW51cCA9IFJlYWN0LnVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICAgICAgaWYgKHJlc2V0Q2xlYW51cC5jdXJyZW50KSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQocmVzZXRDbGVhbnVwLmN1cnJlbnQpO1xuICAgICAgICAgICAgcmVzZXRDbGVhbnVwLmN1cnJlbnQgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICB9LCBbY2xlYXJUaW1lb3V0XSk7XG4gICAgY29uc3QgaGFuZGxlQ2xlYW51cCA9IHVzZUV2ZW50Q2FsbGJhY2soKCkgPT4ge1xuICAgICAgICBpZiAoc3dpcGVTdGF0ZSAhPT0gU3dpcGVTdGF0ZS5TV0lQRSkge1xuICAgICAgICAgICAgb2Zmc2V0LmN1cnJlbnQgPSAwO1xuICAgICAgICAgICAgc3RhcnRUaW1lLmN1cnJlbnQgPSAwO1xuICAgICAgICAgICAgY2FuY2VsU3dpcGVJbnRlbnRDbGVhbnVwKCk7XG4gICAgICAgICAgICBjYW5jZWxTd2lwZVJlc2V0Q2xlYW51cCgpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgUmVhY3QudXNlRWZmZWN0KGhhbmRsZUNsZWFudXAsIFtzd2lwZVN0YXRlLCBoYW5kbGVDbGVhbnVwXSk7XG4gICAgY29uc3QgaGFuZGxlQ2FuY2VsU3dpcGUgPSB1c2VFdmVudENhbGxiYWNrKChjdXJyZW50U3dpcGVPZmZzZXQpID0+IHtcbiAgICAgICAgcmVzZXRDbGVhbnVwLmN1cnJlbnQgPSB1bmRlZmluZWQ7XG4gICAgICAgIGlmIChvZmZzZXQuY3VycmVudCA9PT0gY3VycmVudFN3aXBlT2Zmc2V0KSB7XG4gICAgICAgICAgICBvblN3aXBlQ2FuY2VsKG9mZnNldC5jdXJyZW50KTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIGNvbnN0IG9uV2hlZWwgPSB1c2VFdmVudENhbGxiYWNrKChldmVudCkgPT4ge1xuICAgICAgICBpZiAoZXZlbnQuY3RybEtleSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChNYXRoLmFicyhldmVudC5kZWx0YVkpID4gTWF0aC5hYnMoZXZlbnQuZGVsdGFYKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNldFdoZWVsSW5lcnRpYSA9IChpbmVydGlhKSA9PiB7XG4gICAgICAgICAgICB3aGVlbEluZXJ0aWEuY3VycmVudCA9IGluZXJ0aWE7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQod2hlZWxJbmVydGlhQ2xlYW51cC5jdXJyZW50KTtcbiAgICAgICAgICAgIHdoZWVsSW5lcnRpYUNsZWFudXAuY3VycmVudCA9XG4gICAgICAgICAgICAgICAgaW5lcnRpYSA+IDBcbiAgICAgICAgICAgICAgICAgICAgPyBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoZWVsSW5lcnRpYS5jdXJyZW50ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoZWVsSW5lcnRpYUNsZWFudXAuY3VycmVudCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgfSwgMzAwKVxuICAgICAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKHN3aXBlU3RhdGUgPT09IFN3aXBlU3RhdGUuTk9ORSkge1xuICAgICAgICAgICAgaWYgKE1hdGguYWJzKGV2ZW50LmRlbHRhWCkgPD0gMS4yICogTWF0aC5hYnMod2hlZWxJbmVydGlhLmN1cnJlbnQpKSB7XG4gICAgICAgICAgICAgICAgc2V0V2hlZWxJbmVydGlhKGV2ZW50LmRlbHRhWCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFpc1N3aXBlVmFsaWQoLWV2ZW50LmRlbHRhWCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpbnRlbnQuY3VycmVudCArPSBldmVudC5kZWx0YVg7XG4gICAgICAgICAgICBjYW5jZWxTd2lwZUludGVudENsZWFudXAoKTtcbiAgICAgICAgICAgIGlmIChNYXRoLmFicyhpbnRlbnQuY3VycmVudCkgPiAzMCkge1xuICAgICAgICAgICAgICAgIGludGVudC5jdXJyZW50ID0gMDtcbiAgICAgICAgICAgICAgICBzZXRXaGVlbEluZXJ0aWEoMCk7XG4gICAgICAgICAgICAgICAgc3RhcnRUaW1lLmN1cnJlbnQgPSBEYXRlLm5vdygpO1xuICAgICAgICAgICAgICAgIG9uU3dpcGVTdGFydCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY3VycmVudFN3aXBlSW50ZW50ID0gaW50ZW50LmN1cnJlbnQ7XG4gICAgICAgICAgICAgICAgaW50ZW50Q2xlYW51cC5jdXJyZW50ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGludGVudENsZWFudXAuY3VycmVudCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRTd2lwZUludGVudCA9PT0gaW50ZW50LmN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGludGVudC5jdXJyZW50ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sIHN3aXBlQW5pbWF0aW9uRHVyYXRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHN3aXBlU3RhdGUgPT09IFN3aXBlU3RhdGUuU1dJUEUpIHtcbiAgICAgICAgICAgIGxldCBuZXdTd2lwZU9mZnNldCA9IG9mZnNldC5jdXJyZW50IC0gZXZlbnQuZGVsdGFYO1xuICAgICAgICAgICAgbmV3U3dpcGVPZmZzZXQgPSBNYXRoLm1pbihNYXRoLmFicyhuZXdTd2lwZU9mZnNldCksIGNvbnRhaW5lcldpZHRoKSAqIE1hdGguc2lnbihuZXdTd2lwZU9mZnNldCk7XG4gICAgICAgICAgICBvZmZzZXQuY3VycmVudCA9IG5ld1N3aXBlT2Zmc2V0O1xuICAgICAgICAgICAgb25Td2lwZVByb2dyZXNzKG5ld1N3aXBlT2Zmc2V0KTtcbiAgICAgICAgICAgIGNhbmNlbFN3aXBlUmVzZXRDbGVhbnVwKCk7XG4gICAgICAgICAgICBpZiAoTWF0aC5hYnMobmV3U3dpcGVPZmZzZXQpID4gMC4yICogY29udGFpbmVyV2lkdGgpIHtcbiAgICAgICAgICAgICAgICBzZXRXaGVlbEluZXJ0aWEoZXZlbnQuZGVsdGFYKTtcbiAgICAgICAgICAgICAgICBvblN3aXBlRmluaXNoKG5ld1N3aXBlT2Zmc2V0LCBEYXRlLm5vdygpIC0gc3RhcnRUaW1lLmN1cnJlbnQpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlc2V0Q2xlYW51cC5jdXJyZW50ID0gc2V0VGltZW91dCgoKSA9PiBoYW5kbGVDYW5jZWxTd2lwZShuZXdTd2lwZU9mZnNldCksIDIgKiBzd2lwZUFuaW1hdGlvbkR1cmF0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHNldFdoZWVsSW5lcnRpYShldmVudC5kZWx0YVgpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHN1YnNjcmliZVNlbnNvcnMoRVZFTlRfT05fV0hFRUwsIG9uV2hlZWwpLCBbc3Vic2NyaWJlU2Vuc29ycywgb25XaGVlbF0pO1xufVxuXG5jb25zdCBjc3NDb250YWluZXJQcmVmaXggPSBtYWtlQ29tcG9zZVByZWZpeChcImNvbnRhaW5lclwiKTtcbmNvbnN0IENvbnRyb2xsZXJDb250ZXh0ID0gUmVhY3QuY3JlYXRlQ29udGV4dChudWxsKTtcbmNvbnN0IHVzZUNvbnRyb2xsZXIgPSBtYWtlVXNlQ29udGV4dChcInVzZUNvbnRyb2xsZXJcIiwgXCJDb250cm9sbGVyQ29udGV4dFwiLCBDb250cm9sbGVyQ29udGV4dCk7XG5mdW5jdGlvbiBDb250cm9sbGVyKHsgY2hpbGRyZW4sIC4uLnByb3BzIH0pIHtcbiAgICB2YXIgX2E7XG4gICAgY29uc3QgeyBjYXJvdXNlbCwgYW5pbWF0aW9uLCBjb250cm9sbGVyLCBvbiwgc3R5bGVzLCByZW5kZXIgfSA9IHByb3BzO1xuICAgIGNvbnN0IHsgY2xvc2VPblB1bGxVcCwgY2xvc2VPblB1bGxEb3duLCBwcmV2ZW50RGVmYXVsdFdoZWVsWCwgcHJldmVudERlZmF1bHRXaGVlbFkgfSA9IGNvbnRyb2xsZXI7XG4gICAgY29uc3QgW3Rvb2xiYXJXaWR0aCwgc2V0VG9vbGJhcldpZHRoXSA9IFJlYWN0LnVzZVN0YXRlKCk7XG4gICAgY29uc3Qgc3RhdGUgPSB1c2VMaWdodGJveFN0YXRlKCk7XG4gICAgY29uc3QgZGlzcGF0Y2ggPSB1c2VMaWdodGJveERpc3BhdGNoKCk7XG4gICAgY29uc3QgW3N3aXBlU3RhdGUsIHNldFN3aXBlU3RhdGVdID0gUmVhY3QudXNlU3RhdGUoU3dpcGVTdGF0ZS5OT05FKTtcbiAgICBjb25zdCBzd2lwZU9mZnNldCA9IFJlYWN0LnVzZVJlZigwKTtcbiAgICBjb25zdCBwdWxsT2Zmc2V0ID0gUmVhY3QudXNlUmVmKDApO1xuICAgIGNvbnN0IHB1bGxPcGFjaXR5ID0gUmVhY3QudXNlUmVmKDEpO1xuICAgIGNvbnN0IHsgcmVnaXN0ZXJTZW5zb3JzLCBzdWJzY3JpYmVTZW5zb3JzIH0gPSB1c2VTZW5zb3JzKCk7XG4gICAgY29uc3QgeyBzdWJzY3JpYmUsIHB1Ymxpc2ggfSA9IHVzZUV2ZW50cygpO1xuICAgIGNvbnN0IGNsZWFudXBBbmltYXRpb25JbmNyZW1lbnQgPSB1c2VEZWxheSgpO1xuICAgIGNvbnN0IGNsZWFudXBTd2lwZU9mZnNldCA9IHVzZURlbGF5KCk7XG4gICAgY29uc3QgY2xlYW51cFB1bGxPZmZzZXQgPSB1c2VEZWxheSgpO1xuICAgIGNvbnN0IHsgY29udGFpbmVyUmVmLCBzZXRDb250YWluZXJSZWYsIGNvbnRhaW5lclJlY3QgfSA9IHVzZUNvbnRhaW5lclJlY3QoKTtcbiAgICBjb25zdCBoYW5kbGVDb250YWluZXJSZWYgPSB1c2VGb3JrUmVmKHVzZVByZXZlbnRXaGVlbERlZmF1bHRzKHsgcHJldmVudERlZmF1bHRXaGVlbFgsIHByZXZlbnREZWZhdWx0V2hlZWxZIH0pLCBzZXRDb250YWluZXJSZWYpO1xuICAgIGNvbnN0IGNhcm91c2VsUmVmID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICAgIGNvbnN0IHNldENhcm91c2VsUmVmID0gdXNlRm9ya1JlZihjYXJvdXNlbFJlZiwgdW5kZWZpbmVkKTtcbiAgICBjb25zdCB7IGdldE93bmVyRG9jdW1lbnQgfSA9IHVzZURvY3VtZW50Q29udGV4dCgpO1xuICAgIGNvbnN0IGlzUlRMID0gdXNlUlRMKCk7XG4gICAgY29uc3QgcnRsID0gKHZhbHVlKSA9PiAoaXNSVEwgPyAtMSA6IDEpICogKHR5cGVvZiB2YWx1ZSA9PT0gXCJudW1iZXJcIiA/IHZhbHVlIDogMSk7XG4gICAgY29uc3QgZm9jdXMgPSB1c2VFdmVudENhbGxiYWNrKCgpID0+IHsgdmFyIF9hOyByZXR1cm4gKF9hID0gY29udGFpbmVyUmVmLmN1cnJlbnQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5mb2N1cygpOyB9KTtcbiAgICBjb25zdCBnZXRMaWdodGJveFByb3BzID0gdXNlRXZlbnRDYWxsYmFjaygoKSA9PiBwcm9wcyk7XG4gICAgY29uc3QgZ2V0TGlnaHRib3hTdGF0ZSA9IHVzZUV2ZW50Q2FsbGJhY2soKCkgPT4gc3RhdGUpO1xuICAgIGNvbnN0IHByZXYgPSBSZWFjdC51c2VDYWxsYmFjaygocGFyYW1zKSA9PiBwdWJsaXNoKEFDVElPTl9QUkVWLCBwYXJhbXMpLCBbcHVibGlzaF0pO1xuICAgIGNvbnN0IG5leHQgPSBSZWFjdC51c2VDYWxsYmFjaygocGFyYW1zKSA9PiBwdWJsaXNoKEFDVElPTl9ORVhULCBwYXJhbXMpLCBbcHVibGlzaF0pO1xuICAgIGNvbnN0IGNsb3NlID0gUmVhY3QudXNlQ2FsbGJhY2soKCkgPT4gcHVibGlzaChBQ1RJT05fQ0xPU0UpLCBbcHVibGlzaF0pO1xuICAgIGNvbnN0IGlzU3dpcGVWYWxpZCA9IChvZmZzZXQpID0+ICEoY2Fyb3VzZWwuZmluaXRlICYmXG4gICAgICAgICgocnRsKG9mZnNldCkgPiAwICYmIHN0YXRlLmN1cnJlbnRJbmRleCA9PT0gMCkgfHxcbiAgICAgICAgICAgIChydGwob2Zmc2V0KSA8IDAgJiYgc3RhdGUuY3VycmVudEluZGV4ID09PSBzdGF0ZS5zbGlkZXMubGVuZ3RoIC0gMSkpKTtcbiAgICBjb25zdCBzZXRTd2lwZU9mZnNldCA9IChvZmZzZXQpID0+IHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBzd2lwZU9mZnNldC5jdXJyZW50ID0gb2Zmc2V0O1xuICAgICAgICAoX2EgPSBjb250YWluZXJSZWYuY3VycmVudCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnN0eWxlLnNldFByb3BlcnR5KGNzc1ZhcihcInN3aXBlX29mZnNldFwiKSwgYCR7TWF0aC5yb3VuZChvZmZzZXQpfXB4YCk7XG4gICAgfTtcbiAgICBjb25zdCBzZXRQdWxsT2Zmc2V0ID0gKG9mZnNldCkgPT4ge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICBwdWxsT2Zmc2V0LmN1cnJlbnQgPSBvZmZzZXQ7XG4gICAgICAgIHB1bGxPcGFjaXR5LmN1cnJlbnQgPSAoKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgdGhyZXNob2xkID0gNjA7XG4gICAgICAgICAgICBjb25zdCBtaW5PcGFjaXR5ID0gMC41O1xuICAgICAgICAgICAgY29uc3Qgb2Zmc2V0VmFsdWUgPSAoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChjbG9zZU9uUHVsbERvd24gJiYgb2Zmc2V0ID4gMClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9mZnNldDtcbiAgICAgICAgICAgICAgICBpZiAoY2xvc2VPblB1bGxVcCAmJiBvZmZzZXQgPCAwKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gLW9mZnNldDtcbiAgICAgICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgICAgIH0pKCk7XG4gICAgICAgICAgICByZXR1cm4gTWF0aC5taW4oTWF0aC5tYXgocm91bmQoMSAtIChvZmZzZXRWYWx1ZSAvIHRocmVzaG9sZCkgKiAoMSAtIG1pbk9wYWNpdHkpLCAyKSwgbWluT3BhY2l0eSksIDEpO1xuICAgICAgICB9KSgpO1xuICAgICAgICAoX2EgPSBjb250YWluZXJSZWYuY3VycmVudCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnN0eWxlLnNldFByb3BlcnR5KGNzc1ZhcihcInB1bGxfb2Zmc2V0XCIpLCBgJHtNYXRoLnJvdW5kKG9mZnNldCl9cHhgKTtcbiAgICAgICAgKF9iID0gY29udGFpbmVyUmVmLmN1cnJlbnQpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5zdHlsZS5zZXRQcm9wZXJ0eShjc3NWYXIoXCJwdWxsX29wYWNpdHlcIiksIGAke3B1bGxPcGFjaXR5LmN1cnJlbnR9YCk7XG4gICAgfTtcbiAgICBjb25zdCB7IHByZXBhcmVBbmltYXRpb246IHByZXBhcmVQdWxsQW5pbWF0aW9uIH0gPSB1c2VBbmltYXRpb24oY2Fyb3VzZWxSZWYsIChzbmFwc2hvdCwgcmVjdCwgdHJhbnNsYXRlKSA9PiB7XG4gICAgICAgIGlmIChjYXJvdXNlbFJlZi5jdXJyZW50ICYmIGNvbnRhaW5lclJlY3QpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAga2V5ZnJhbWVzOiBbXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogYHRyYW5zbGF0ZSgwLCAke3NuYXBzaG90LnJlY3QueSAtIHJlY3QueSArIHRyYW5zbGF0ZS55fXB4KWAsXG4gICAgICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiBzbmFwc2hvdC5vcGFjaXR5LFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB7IHRyYW5zZm9ybTogXCJ0cmFuc2xhdGUoMCwgMClcIiwgb3BhY2l0eTogMSB9LFxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgZHVyYXRpb246IHNuYXBzaG90LmR1cmF0aW9uLFxuICAgICAgICAgICAgICAgIGVhc2luZzogYW5pbWF0aW9uLmVhc2luZy5mYWRlLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH0pO1xuICAgIGNvbnN0IHB1bGwgPSAob2Zmc2V0LCBjYW5jZWwpID0+IHtcbiAgICAgICAgaWYgKGNsb3NlT25QdWxsVXAgfHwgY2xvc2VPblB1bGxEb3duKSB7XG4gICAgICAgICAgICBzZXRQdWxsT2Zmc2V0KG9mZnNldCk7XG4gICAgICAgICAgICBsZXQgZHVyYXRpb24gPSAwO1xuICAgICAgICAgICAgaWYgKGNhcm91c2VsUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICBkdXJhdGlvbiA9IGFuaW1hdGlvbi5mYWRlICogKGNhbmNlbCA/IDIgOiAxKTtcbiAgICAgICAgICAgICAgICBwcmVwYXJlUHVsbEFuaW1hdGlvbih7XG4gICAgICAgICAgICAgICAgICAgIHJlY3Q6IGNhcm91c2VsUmVmLmN1cnJlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksXG4gICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IHB1bGxPcGFjaXR5LmN1cnJlbnQsXG4gICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2xlYW51cFB1bGxPZmZzZXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHNldFB1bGxPZmZzZXQoMCk7XG4gICAgICAgICAgICAgICAgc2V0U3dpcGVTdGF0ZShTd2lwZVN0YXRlLk5PTkUpO1xuICAgICAgICAgICAgfSwgZHVyYXRpb24pO1xuICAgICAgICAgICAgc2V0U3dpcGVTdGF0ZShTd2lwZVN0YXRlLkFOSU1BVElPTik7XG4gICAgICAgICAgICBpZiAoIWNhbmNlbCkge1xuICAgICAgICAgICAgICAgIGNsb3NlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IHsgcHJlcGFyZUFuaW1hdGlvbiwgaXNBbmltYXRpb25QbGF5aW5nIH0gPSB1c2VBbmltYXRpb24oY2Fyb3VzZWxSZWYsIChzbmFwc2hvdCwgcmVjdCwgdHJhbnNsYXRlKSA9PiB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKGNhcm91c2VsUmVmLmN1cnJlbnQgJiYgY29udGFpbmVyUmVjdCAmJiAoKF9hID0gc3RhdGUuYW5pbWF0aW9uKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZHVyYXRpb24pKSB7XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRTcGFjaW5nID0gcGFyc2VMZW5ndGhQZXJjZW50YWdlKGNhcm91c2VsLnNwYWNpbmcpO1xuICAgICAgICAgICAgY29uc3Qgc3BhY2luZ1ZhbHVlID0gKHBhcnNlZFNwYWNpbmcucGVyY2VudCA/IChwYXJzZWRTcGFjaW5nLnBlcmNlbnQgKiBjb250YWluZXJSZWN0LndpZHRoKSAvIDEwMCA6IHBhcnNlZFNwYWNpbmcucGl4ZWwpIHx8IDA7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGtleWZyYW1lczogW1xuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm06IGB0cmFuc2xhdGUoJHtydGwoc3RhdGUuZ2xvYmFsSW5kZXggLSBzbmFwc2hvdC5pbmRleCkgKiAoY29udGFpbmVyUmVjdC53aWR0aCArIHNwYWNpbmdWYWx1ZSkgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNuYXBzaG90LnJlY3QueCAtXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVjdC54ICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2xhdGUueH1weCwgMClgLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB7IHRyYW5zZm9ybTogXCJ0cmFuc2xhdGUoMCwgMClcIiB9LFxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgZHVyYXRpb246IHN0YXRlLmFuaW1hdGlvbi5kdXJhdGlvbixcbiAgICAgICAgICAgICAgICBlYXNpbmc6IHN0YXRlLmFuaW1hdGlvbi5lYXNpbmcsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfSk7XG4gICAgY29uc3Qgc3dpcGUgPSB1c2VFdmVudENhbGxiYWNrKChhY3Rpb24pID0+IHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgY29uc3QgY3VycmVudFN3aXBlT2Zmc2V0ID0gYWN0aW9uLm9mZnNldCB8fCAwO1xuICAgICAgICBjb25zdCBzd2lwZUR1cmF0aW9uID0gIWN1cnJlbnRTd2lwZU9mZnNldCA/ICgoX2EgPSBhbmltYXRpb24ubmF2aWdhdGlvbikgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogYW5pbWF0aW9uLnN3aXBlKSA6IGFuaW1hdGlvbi5zd2lwZTtcbiAgICAgICAgY29uc3Qgc3dpcGVFYXNpbmcgPSAhY3VycmVudFN3aXBlT2Zmc2V0ICYmICFpc0FuaW1hdGlvblBsYXlpbmcoKSA/IGFuaW1hdGlvbi5lYXNpbmcubmF2aWdhdGlvbiA6IGFuaW1hdGlvbi5lYXNpbmcuc3dpcGU7XG4gICAgICAgIGxldCB7IGRpcmVjdGlvbiB9ID0gYWN0aW9uO1xuICAgICAgICBjb25zdCBjb3VudCA9IChfYiA9IGFjdGlvbi5jb3VudCkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogMTtcbiAgICAgICAgbGV0IG5ld1N3aXBlU3RhdGUgPSBTd2lwZVN0YXRlLkFOSU1BVElPTjtcbiAgICAgICAgbGV0IG5ld1N3aXBlQW5pbWF0aW9uRHVyYXRpb24gPSBzd2lwZUR1cmF0aW9uICogY291bnQ7XG4gICAgICAgIGlmICghZGlyZWN0aW9uKSB7XG4gICAgICAgICAgICBjb25zdCBjb250YWluZXJXaWR0aCA9IGNvbnRhaW5lclJlY3QgPT09IG51bGwgfHwgY29udGFpbmVyUmVjdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogY29udGFpbmVyUmVjdC53aWR0aDtcbiAgICAgICAgICAgIGNvbnN0IGVsYXBzZWRUaW1lID0gYWN0aW9uLmR1cmF0aW9uIHx8IDA7XG4gICAgICAgICAgICBjb25zdCBleHBlY3RlZFRpbWUgPSBjb250YWluZXJXaWR0aFxuICAgICAgICAgICAgICAgID8gKHN3aXBlRHVyYXRpb24gLyBjb250YWluZXJXaWR0aCkgKiBNYXRoLmFicyhjdXJyZW50U3dpcGVPZmZzZXQpXG4gICAgICAgICAgICAgICAgOiBzd2lwZUR1cmF0aW9uO1xuICAgICAgICAgICAgaWYgKGNvdW50ICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgaWYgKGVsYXBzZWRUaW1lIDwgZXhwZWN0ZWRUaW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIG5ld1N3aXBlQW5pbWF0aW9uRHVyYXRpb24gPVxuICAgICAgICAgICAgICAgICAgICAgICAgKG5ld1N3aXBlQW5pbWF0aW9uRHVyYXRpb24gLyBleHBlY3RlZFRpbWUpICogTWF0aC5tYXgoZWxhcHNlZFRpbWUsIGV4cGVjdGVkVGltZSAvIDUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChjb250YWluZXJXaWR0aCkge1xuICAgICAgICAgICAgICAgICAgICBuZXdTd2lwZUFuaW1hdGlvbkR1cmF0aW9uID1cbiAgICAgICAgICAgICAgICAgICAgICAgIChzd2lwZUR1cmF0aW9uIC8gY29udGFpbmVyV2lkdGgpICogKGNvbnRhaW5lcldpZHRoIC0gTWF0aC5hYnMoY3VycmVudFN3aXBlT2Zmc2V0KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGRpcmVjdGlvbiA9IHJ0bChjdXJyZW50U3dpcGVPZmZzZXQpID4gMCA/IEFDVElPTl9QUkVWIDogQUNUSU9OX05FWFQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBuZXdTd2lwZUFuaW1hdGlvbkR1cmF0aW9uID0gc3dpcGVEdXJhdGlvbiAvIDI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGluY3JlbWVudCA9IDA7XG4gICAgICAgIGlmIChkaXJlY3Rpb24gPT09IEFDVElPTl9QUkVWKSB7XG4gICAgICAgICAgICBpZiAoaXNTd2lwZVZhbGlkKHJ0bCgxKSkpIHtcbiAgICAgICAgICAgICAgICBpbmNyZW1lbnQgPSAtY291bnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBuZXdTd2lwZVN0YXRlID0gU3dpcGVTdGF0ZS5OT05FO1xuICAgICAgICAgICAgICAgIG5ld1N3aXBlQW5pbWF0aW9uRHVyYXRpb24gPSBzd2lwZUR1cmF0aW9uO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGRpcmVjdGlvbiA9PT0gQUNUSU9OX05FWFQpIHtcbiAgICAgICAgICAgIGlmIChpc1N3aXBlVmFsaWQocnRsKC0xKSkpIHtcbiAgICAgICAgICAgICAgICBpbmNyZW1lbnQgPSBjb3VudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG5ld1N3aXBlU3RhdGUgPSBTd2lwZVN0YXRlLk5PTkU7XG4gICAgICAgICAgICAgICAgbmV3U3dpcGVBbmltYXRpb25EdXJhdGlvbiA9IHN3aXBlRHVyYXRpb247XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbmV3U3dpcGVBbmltYXRpb25EdXJhdGlvbiA9IE1hdGgucm91bmQobmV3U3dpcGVBbmltYXRpb25EdXJhdGlvbik7XG4gICAgICAgIGNsZWFudXBTd2lwZU9mZnNldCgoKSA9PiB7XG4gICAgICAgICAgICBzZXRTd2lwZU9mZnNldCgwKTtcbiAgICAgICAgICAgIHNldFN3aXBlU3RhdGUoU3dpcGVTdGF0ZS5OT05FKTtcbiAgICAgICAgfSwgbmV3U3dpcGVBbmltYXRpb25EdXJhdGlvbik7XG4gICAgICAgIGlmIChjYXJvdXNlbFJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgICBwcmVwYXJlQW5pbWF0aW9uKHtcbiAgICAgICAgICAgICAgICByZWN0OiBjYXJvdXNlbFJlZi5jdXJyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLFxuICAgICAgICAgICAgICAgIGluZGV4OiBzdGF0ZS5nbG9iYWxJbmRleCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHNldFN3aXBlU3RhdGUobmV3U3dpcGVTdGF0ZSk7XG4gICAgICAgIHB1Ymxpc2goQUNUSU9OX1NXSVBFLCB7XG4gICAgICAgICAgICB0eXBlOiBcInN3aXBlXCIsXG4gICAgICAgICAgICBpbmNyZW1lbnQsXG4gICAgICAgICAgICBkdXJhdGlvbjogbmV3U3dpcGVBbmltYXRpb25EdXJhdGlvbixcbiAgICAgICAgICAgIGVhc2luZzogc3dpcGVFYXNpbmcsXG4gICAgICAgIH0pO1xuICAgIH0pO1xuICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIGlmICgoKF9hID0gc3RhdGUuYW5pbWF0aW9uKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuaW5jcmVtZW50KSAmJiAoKF9iID0gc3RhdGUuYW5pbWF0aW9uKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuZHVyYXRpb24pKSB7XG4gICAgICAgICAgICBjbGVhbnVwQW5pbWF0aW9uSW5jcmVtZW50KCgpID0+IGRpc3BhdGNoKHsgdHlwZTogXCJzd2lwZVwiLCBpbmNyZW1lbnQ6IDAgfSksIHN0YXRlLmFuaW1hdGlvbi5kdXJhdGlvbik7XG4gICAgICAgIH1cbiAgICB9LCBbc3RhdGUuYW5pbWF0aW9uLCBkaXNwYXRjaCwgY2xlYW51cEFuaW1hdGlvbkluY3JlbWVudF0pO1xuICAgIGNvbnN0IHN3aXBlUGFyYW1zID0gW1xuICAgICAgICBzdWJzY3JpYmVTZW5zb3JzLFxuICAgICAgICBpc1N3aXBlVmFsaWQsXG4gICAgICAgIChjb250YWluZXJSZWN0ID09PSBudWxsIHx8IGNvbnRhaW5lclJlY3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNvbnRhaW5lclJlY3Qud2lkdGgpIHx8IDAsXG4gICAgICAgIGFuaW1hdGlvbi5zd2lwZSxcbiAgICAgICAgKCkgPT4gc2V0U3dpcGVTdGF0ZShTd2lwZVN0YXRlLlNXSVBFKSxcbiAgICAgICAgKG9mZnNldCkgPT4gc2V0U3dpcGVPZmZzZXQob2Zmc2V0KSxcbiAgICAgICAgKG9mZnNldCwgZHVyYXRpb24pID0+IHN3aXBlKHsgb2Zmc2V0LCBkdXJhdGlvbiwgY291bnQ6IDEgfSksXG4gICAgICAgIChvZmZzZXQpID0+IHN3aXBlKHsgb2Zmc2V0LCBjb3VudDogMCB9KSxcbiAgICBdO1xuICAgIGNvbnN0IHB1bGxQYXJhbXMgPSBbXG4gICAgICAgICgpID0+IHtcbiAgICAgICAgICAgIGlmIChjbG9zZU9uUHVsbERvd24pIHtcbiAgICAgICAgICAgICAgICBzZXRTd2lwZVN0YXRlKFN3aXBlU3RhdGUuUFVMTCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIChvZmZzZXQpID0+IHNldFB1bGxPZmZzZXQob2Zmc2V0KSxcbiAgICAgICAgKG9mZnNldCkgPT4gcHVsbChvZmZzZXQpLFxuICAgICAgICAob2Zmc2V0KSA9PiBwdWxsKG9mZnNldCwgdHJ1ZSksXG4gICAgXTtcbiAgICB1c2VQb2ludGVyU3dpcGUoLi4uc3dpcGVQYXJhbXMsIGNsb3NlT25QdWxsVXAsIGNsb3NlT25QdWxsRG93biwgLi4ucHVsbFBhcmFtcyk7XG4gICAgdXNlV2hlZWxTd2lwZShzd2lwZVN0YXRlLCAuLi5zd2lwZVBhcmFtcyk7XG4gICAgY29uc3QgZm9jdXNPbk1vdW50ID0gdXNlRXZlbnRDYWxsYmFjaygoKSA9PiB7XG4gICAgICAgIGlmIChjb250cm9sbGVyLmZvY3VzICYmXG4gICAgICAgICAgICBnZXRPd25lckRvY3VtZW50KCkucXVlcnlTZWxlY3RvcihgLiR7Y3NzQ2xhc3MoTU9EVUxFX1BPUlRBTCl9IC4ke2Nzc0NsYXNzKGNzc0NvbnRhaW5lclByZWZpeCgpKX1gKSkge1xuICAgICAgICAgICAgZm9jdXMoKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIFJlYWN0LnVzZUVmZmVjdChmb2N1c09uTW91bnQsIFtmb2N1c09uTW91bnRdKTtcbiAgICBjb25zdCBvblZpZXdDYWxsYmFjayA9IHVzZUV2ZW50Q2FsbGJhY2soKCkgPT4ge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIChfYSA9IG9uLnZpZXcpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKG9uLCB7IGluZGV4OiBzdGF0ZS5jdXJyZW50SW5kZXggfSk7XG4gICAgfSk7XG4gICAgUmVhY3QudXNlRWZmZWN0KG9uVmlld0NhbGxiYWNrLCBbc3RhdGUuZ2xvYmFsSW5kZXgsIG9uVmlld0NhbGxiYWNrXSk7XG4gICAgUmVhY3QudXNlRWZmZWN0KCgpID0+IGNsZWFudXAoc3Vic2NyaWJlKEFDVElPTl9QUkVWLCAoYWN0aW9uKSA9PiBzd2lwZSh7IGRpcmVjdGlvbjogQUNUSU9OX1BSRVYsIC4uLmFjdGlvbiB9KSksIHN1YnNjcmliZShBQ1RJT05fTkVYVCwgKGFjdGlvbikgPT4gc3dpcGUoeyBkaXJlY3Rpb246IEFDVElPTl9ORVhULCAuLi5hY3Rpb24gfSkpLCBzdWJzY3JpYmUoQUNUSU9OX1NXSVBFLCAoYWN0aW9uKSA9PiBkaXNwYXRjaChhY3Rpb24pKSksIFtzdWJzY3JpYmUsIHN3aXBlLCBkaXNwYXRjaF0pO1xuICAgIGNvbnN0IGNvbnRleHQgPSBSZWFjdC51c2VNZW1vKCgpID0+ICh7XG4gICAgICAgIHByZXYsXG4gICAgICAgIG5leHQsXG4gICAgICAgIGNsb3NlLFxuICAgICAgICBmb2N1cyxcbiAgICAgICAgc2xpZGVSZWN0OiBjb250YWluZXJSZWN0ID8gY29tcHV0ZVNsaWRlUmVjdChjb250YWluZXJSZWN0LCBjYXJvdXNlbC5wYWRkaW5nKSA6IHsgd2lkdGg6IDAsIGhlaWdodDogMCB9LFxuICAgICAgICBjb250YWluZXJSZWN0OiBjb250YWluZXJSZWN0IHx8IHsgd2lkdGg6IDAsIGhlaWdodDogMCB9LFxuICAgICAgICBzdWJzY3JpYmVTZW5zb3JzLFxuICAgICAgICBjb250YWluZXJSZWYsXG4gICAgICAgIHNldENhcm91c2VsUmVmLFxuICAgICAgICB0b29sYmFyV2lkdGgsXG4gICAgICAgIHNldFRvb2xiYXJXaWR0aCxcbiAgICB9KSwgW1xuICAgICAgICBwcmV2LFxuICAgICAgICBuZXh0LFxuICAgICAgICBjbG9zZSxcbiAgICAgICAgZm9jdXMsXG4gICAgICAgIHN1YnNjcmliZVNlbnNvcnMsXG4gICAgICAgIGNvbnRhaW5lclJlY3QsXG4gICAgICAgIGNvbnRhaW5lclJlZixcbiAgICAgICAgc2V0Q2Fyb3VzZWxSZWYsXG4gICAgICAgIHRvb2xiYXJXaWR0aCxcbiAgICAgICAgc2V0VG9vbGJhcldpZHRoLFxuICAgICAgICBjYXJvdXNlbC5wYWRkaW5nLFxuICAgIF0pO1xuICAgIFJlYWN0LnVzZUltcGVyYXRpdmVIYW5kbGUoY29udHJvbGxlci5yZWYsICgpID0+ICh7XG4gICAgICAgIHByZXYsXG4gICAgICAgIG5leHQsXG4gICAgICAgIGNsb3NlLFxuICAgICAgICBmb2N1cyxcbiAgICAgICAgZ2V0TGlnaHRib3hQcm9wcyxcbiAgICAgICAgZ2V0TGlnaHRib3hTdGF0ZSxcbiAgICB9KSwgW3ByZXYsIG5leHQsIGNsb3NlLCBmb2N1cywgZ2V0TGlnaHRib3hQcm9wcywgZ2V0TGlnaHRib3hTdGF0ZV0pO1xuICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IHJlZjogaGFuZGxlQ29udGFpbmVyUmVmLCBjbGFzc05hbWU6IGNsc3goY3NzQ2xhc3MoY3NzQ29udGFpbmVyUHJlZml4KCkpLCBjc3NDbGFzcyhDTEFTU19GTEVYX0NFTlRFUikpLCBzdHlsZToge1xuICAgICAgICAgICAgLi4uKHN3aXBlU3RhdGUgPT09IFN3aXBlU3RhdGUuU1dJUEVcbiAgICAgICAgICAgICAgICA/IHsgW2Nzc1ZhcihcInN3aXBlX29mZnNldFwiKV06IGAke01hdGgucm91bmQoc3dpcGVPZmZzZXQuY3VycmVudCl9cHhgIH1cbiAgICAgICAgICAgICAgICA6IG51bGwpLFxuICAgICAgICAgICAgLi4uKHN3aXBlU3RhdGUgPT09IFN3aXBlU3RhdGUuUFVMTFxuICAgICAgICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAgICAgICBbY3NzVmFyKFwicHVsbF9vZmZzZXRcIildOiBgJHtNYXRoLnJvdW5kKHB1bGxPZmZzZXQuY3VycmVudCl9cHhgLFxuICAgICAgICAgICAgICAgICAgICBbY3NzVmFyKFwicHVsbF9vcGFjaXR5XCIpXTogYCR7cHVsbE9wYWNpdHkuY3VycmVudH1gLFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICA6IG51bGwpLFxuICAgICAgICAgICAgLi4uKGNvbnRyb2xsZXIudG91Y2hBY3Rpb24gIT09IFwibm9uZVwiID8geyBbY3NzVmFyKFwiY29udHJvbGxlcl90b3VjaF9hY3Rpb25cIildOiBjb250cm9sbGVyLnRvdWNoQWN0aW9uIH0gOiBudWxsKSxcbiAgICAgICAgICAgIC4uLnN0eWxlcy5jb250YWluZXIsXG4gICAgICAgIH0sIC4uLihjb250cm9sbGVyLmFyaWEgPyB7IHJvbGU6IFwicHJlc2VudGF0aW9uXCIsIFwiYXJpYS1saXZlXCI6IFwicG9saXRlXCIgfSA6IG51bGwpLCB0YWJJbmRleDogLTEsIC4uLnJlZ2lzdGVyU2Vuc29ycyB9LCBjb250YWluZXJSZWN0ICYmIChSZWFjdC5jcmVhdGVFbGVtZW50KENvbnRyb2xsZXJDb250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlOiBjb250ZXh0IH0sXG4gICAgICAgIGNoaWxkcmVuLCAoX2EgPSByZW5kZXIuY29udHJvbHMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOlxuICAgICAgICBfYS5jYWxsKHJlbmRlcikpKSkpO1xufVxuY29uc3QgQ29udHJvbGxlck1vZHVsZSA9IGNyZWF0ZU1vZHVsZShNT0RVTEVfQ09OVFJPTExFUiwgQ29udHJvbGxlcik7XG5cbmZ1bmN0aW9uIGNzc1ByZWZpeCQyKHZhbHVlKSB7XG4gICAgcmV0dXJuIGNvbXBvc2VQcmVmaXgoTU9EVUxFX0NBUk9VU0VMLCB2YWx1ZSk7XG59XG5mdW5jdGlvbiBjc3NTbGlkZVByZWZpeCh2YWx1ZSkge1xuICAgIHJldHVybiBjb21wb3NlUHJlZml4KFwic2xpZGVcIiwgdmFsdWUpO1xufVxuZnVuY3Rpb24gQ2Fyb3VzZWxTbGlkZSh7IHNsaWRlLCBvZmZzZXQgfSkge1xuICAgIGNvbnN0IGNvbnRhaW5lclJlZiA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgICBjb25zdCB7IGN1cnJlbnRJbmRleCB9ID0gdXNlTGlnaHRib3hTdGF0ZSgpO1xuICAgIGNvbnN0IHsgc2xpZGVSZWN0LCBjbG9zZSwgZm9jdXMgfSA9IHVzZUNvbnRyb2xsZXIoKTtcbiAgICBjb25zdCB7IHJlbmRlciwgY2Fyb3VzZWw6IHsgaW1hZ2VGaXQsIGltYWdlUHJvcHMgfSwgb246IHsgY2xpY2s6IG9uQ2xpY2sgfSwgY29udHJvbGxlcjogeyBjbG9zZU9uQmFja2Ryb3BDbGljayB9LCBzdHlsZXM6IHsgc2xpZGU6IHN0eWxlIH0sIH0gPSB1c2VMaWdodGJveFByb3BzKCk7XG4gICAgY29uc3QgeyBnZXRPd25lckRvY3VtZW50IH0gPSB1c2VEb2N1bWVudENvbnRleHQoKTtcbiAgICBjb25zdCBvZmZzY3JlZW4gPSBvZmZzZXQgIT09IDA7XG4gICAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAob2Zmc2NyZWVuICYmICgoX2EgPSBjb250YWluZXJSZWYuY3VycmVudCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNvbnRhaW5zKGdldE93bmVyRG9jdW1lbnQoKS5hY3RpdmVFbGVtZW50KSkpIHtcbiAgICAgICAgICAgIGZvY3VzKCk7XG4gICAgICAgIH1cbiAgICB9LCBbb2Zmc2NyZWVuLCBmb2N1cywgZ2V0T3duZXJEb2N1bWVudF0pO1xuICAgIGNvbnN0IHJlbmRlclNsaWRlID0gKCkgPT4ge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYywgX2Q7XG4gICAgICAgIGxldCByZW5kZXJlZCA9IChfYSA9IHJlbmRlci5zbGlkZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwocmVuZGVyLCB7IHNsaWRlLCBvZmZzZXQsIHJlY3Q6IHNsaWRlUmVjdCB9KTtcbiAgICAgICAgaWYgKCFyZW5kZXJlZCAmJiBpc0ltYWdlU2xpZGUoc2xpZGUpKSB7XG4gICAgICAgICAgICByZW5kZXJlZCA9IChSZWFjdC5jcmVhdGVFbGVtZW50KEltYWdlU2xpZGUsIHsgc2xpZGU6IHNsaWRlLCBvZmZzZXQ6IG9mZnNldCwgcmVuZGVyOiByZW5kZXIsIHJlY3Q6IHNsaWRlUmVjdCwgaW1hZ2VGaXQ6IGltYWdlRml0LCBpbWFnZVByb3BzOiBpbWFnZVByb3BzLCBvbkNsaWNrOiAhb2Zmc2NyZWVuID8gKCkgPT4gb25DbGljayA9PT0gbnVsbCB8fCBvbkNsaWNrID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvbkNsaWNrKHsgaW5kZXg6IGN1cnJlbnRJbmRleCB9KSA6IHVuZGVmaW5lZCB9KSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlbmRlcmVkID8gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIG51bGwsIChfYiA9IHJlbmRlci5zbGlkZUhlYWRlcikgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6XG4gICAgICAgICAgICBfYi5jYWxsKHJlbmRlciwgeyBzbGlkZSB9KSxcbiAgICAgICAgICAgICgoX2MgPSByZW5kZXIuc2xpZGVDb250YWluZXIpICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6ICgoeyBjaGlsZHJlbiB9KSA9PiBjaGlsZHJlbikpKHsgc2xpZGUsIGNoaWxkcmVuOiByZW5kZXJlZCB9KSwgKF9kID0gcmVuZGVyLnNsaWRlRm9vdGVyKSA9PT0gbnVsbCB8fCBfZCA9PT0gdm9pZCAwID8gdm9pZCAwIDpcbiAgICAgICAgICAgIF9kLmNhbGwocmVuZGVyLCB7IHNsaWRlIH0pKSkgOiBudWxsO1xuICAgIH07XG4gICAgY29uc3QgaGFuZGxlQmFja2Ryb3BDbGljayA9IChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCBjb250YWluZXIgPSBjb250YWluZXJSZWYuY3VycmVudDtcbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQgPyBldmVudC50YXJnZXQgOiB1bmRlZmluZWQ7XG4gICAgICAgIGlmIChjbG9zZU9uQmFja2Ryb3BDbGljayAmJlxuICAgICAgICAgICAgdGFyZ2V0ICYmXG4gICAgICAgICAgICBjb250YWluZXIgJiZcbiAgICAgICAgICAgICh0YXJnZXQgPT09IGNvbnRhaW5lciB8fFxuICAgICAgICAgICAgICAgIChBcnJheS5mcm9tKGNvbnRhaW5lci5jaGlsZHJlbikuZmluZCgoeCkgPT4geCA9PT0gdGFyZ2V0KSAmJlxuICAgICAgICAgICAgICAgICAgICB0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKGNzc0NsYXNzKENMQVNTX1NMSURFX1dSQVBQRVIpKSkpKSB7XG4gICAgICAgICAgICBjbG9zZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyByZWY6IGNvbnRhaW5lclJlZiwgY2xhc3NOYW1lOiBjbHN4KGNzc0NsYXNzKGNzc1NsaWRlUHJlZml4KCkpLCAhb2Zmc2NyZWVuICYmIGNzc0NsYXNzKGNzc1NsaWRlUHJlZml4KFwiY3VycmVudFwiKSksIGNzc0NsYXNzKENMQVNTX0ZMRVhfQ0VOVEVSKSksIC4uLm1ha2VJbmVydFdoZW4ob2Zmc2NyZWVuKSwgb25DbGljazogaGFuZGxlQmFja2Ryb3BDbGljaywgc3R5bGU6IHN0eWxlIH0sIHJlbmRlclNsaWRlKCkpKTtcbn1cbmZ1bmN0aW9uIFBsYWNlaG9sZGVyKCkge1xuICAgIGNvbnN0IHN0eWxlID0gdXNlTGlnaHRib3hQcm9wcygpLnN0eWxlcy5zbGlkZTtcbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogY3NzQ2xhc3MoXCJzbGlkZVwiKSwgc3R5bGU6IHN0eWxlIH0pO1xufVxuZnVuY3Rpb24gQ2Fyb3VzZWwoeyBjYXJvdXNlbCB9KSB7XG4gICAgY29uc3QgeyBzbGlkZXMsIGN1cnJlbnRJbmRleCwgZ2xvYmFsSW5kZXggfSA9IHVzZUxpZ2h0Ym94U3RhdGUoKTtcbiAgICBjb25zdCB7IHNldENhcm91c2VsUmVmIH0gPSB1c2VDb250cm9sbGVyKCk7XG4gICAgY29uc3Qgc3BhY2luZ1ZhbHVlID0gcGFyc2VMZW5ndGhQZXJjZW50YWdlKGNhcm91c2VsLnNwYWNpbmcpO1xuICAgIGNvbnN0IHBhZGRpbmdWYWx1ZSA9IHBhcnNlTGVuZ3RoUGVyY2VudGFnZShjYXJvdXNlbC5wYWRkaW5nKTtcbiAgICBjb25zdCBwcmVsb2FkID0gY2FsY3VsYXRlUHJlbG9hZChjYXJvdXNlbCwgc2xpZGVzLCAxKTtcbiAgICBjb25zdCBpdGVtcyA9IFtdO1xuICAgIGlmIChoYXNTbGlkZXMoc2xpZGVzKSkge1xuICAgICAgICBmb3IgKGxldCBpbmRleCA9IGN1cnJlbnRJbmRleCAtIHByZWxvYWQ7IGluZGV4IDw9IGN1cnJlbnRJbmRleCArIHByZWxvYWQ7IGluZGV4ICs9IDEpIHtcbiAgICAgICAgICAgIGNvbnN0IHNsaWRlID0gZ2V0U2xpZGUoc2xpZGVzLCBpbmRleCk7XG4gICAgICAgICAgICBjb25zdCBrZXkgPSBnbG9iYWxJbmRleCAtIGN1cnJlbnRJbmRleCArIGluZGV4O1xuICAgICAgICAgICAgY29uc3QgcGxhY2Vob2xkZXIgPSBjYXJvdXNlbC5maW5pdGUgJiYgKGluZGV4IDwgMCB8fCBpbmRleCA+IHNsaWRlcy5sZW5ndGggLSAxKTtcbiAgICAgICAgICAgIGl0ZW1zLnB1c2goIXBsYWNlaG9sZGVyXG4gICAgICAgICAgICAgICAgPyB7XG4gICAgICAgICAgICAgICAgICAgIGtleTogW2Ake2tleX1gLCBnZXRTbGlkZUtleShzbGlkZSldLmZpbHRlcihCb29sZWFuKS5qb2luKFwifFwiKSxcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0OiBpbmRleCAtIGN1cnJlbnRJbmRleCxcbiAgICAgICAgICAgICAgICAgICAgc2xpZGUsXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIDogeyBrZXkgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgcmVmOiBzZXRDYXJvdXNlbFJlZiwgY2xhc3NOYW1lOiBjbHN4KGNzc0NsYXNzKGNzc1ByZWZpeCQyKCkpLCBpdGVtcy5sZW5ndGggPiAwICYmIGNzc0NsYXNzKGNzc1ByZWZpeCQyKFwid2l0aF9zbGlkZXNcIikpKSwgc3R5bGU6IHtcbiAgICAgICAgICAgIFtgJHtjc3NWYXIoY3NzUHJlZml4JDIoXCJzbGlkZXNfY291bnRcIikpfWBdOiBpdGVtcy5sZW5ndGgsXG4gICAgICAgICAgICBbYCR7Y3NzVmFyKGNzc1ByZWZpeCQyKFwic3BhY2luZ19weFwiKSl9YF06IHNwYWNpbmdWYWx1ZS5waXhlbCB8fCAwLFxuICAgICAgICAgICAgW2Ake2Nzc1Zhcihjc3NQcmVmaXgkMihcInNwYWNpbmdfcGVyY2VudFwiKSl9YF06IHNwYWNpbmdWYWx1ZS5wZXJjZW50IHx8IDAsXG4gICAgICAgICAgICBbYCR7Y3NzVmFyKGNzc1ByZWZpeCQyKFwicGFkZGluZ19weFwiKSl9YF06IHBhZGRpbmdWYWx1ZS5waXhlbCB8fCAwLFxuICAgICAgICAgICAgW2Ake2Nzc1Zhcihjc3NQcmVmaXgkMihcInBhZGRpbmdfcGVyY2VudFwiKSl9YF06IHBhZGRpbmdWYWx1ZS5wZXJjZW50IHx8IDAsXG4gICAgICAgIH0gfSwgaXRlbXMubWFwKCh7IGtleSwgc2xpZGUsIG9mZnNldCB9KSA9PiBzbGlkZSA/IFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ2Fyb3VzZWxTbGlkZSwgeyBrZXk6IGtleSwgc2xpZGU6IHNsaWRlLCBvZmZzZXQ6IG9mZnNldCB9KSA6IFJlYWN0LmNyZWF0ZUVsZW1lbnQoUGxhY2Vob2xkZXIsIHsga2V5OiBrZXkgfSkpKSk7XG59XG5jb25zdCBDYXJvdXNlbE1vZHVsZSA9IGNyZWF0ZU1vZHVsZShNT0RVTEVfQ0FST1VTRUwsIENhcm91c2VsKTtcblxuZnVuY3Rpb24gdXNlTmF2aWdhdGlvblN0YXRlKCkge1xuICAgIGNvbnN0IHsgY2Fyb3VzZWwgfSA9IHVzZUxpZ2h0Ym94UHJvcHMoKTtcbiAgICBjb25zdCB7IHNsaWRlcywgY3VycmVudEluZGV4IH0gPSB1c2VMaWdodGJveFN0YXRlKCk7XG4gICAgY29uc3QgcHJldkRpc2FibGVkID0gc2xpZGVzLmxlbmd0aCA9PT0gMCB8fCAoY2Fyb3VzZWwuZmluaXRlICYmIGN1cnJlbnRJbmRleCA9PT0gMCk7XG4gICAgY29uc3QgbmV4dERpc2FibGVkID0gc2xpZGVzLmxlbmd0aCA9PT0gMCB8fCAoY2Fyb3VzZWwuZmluaXRlICYmIGN1cnJlbnRJbmRleCA9PT0gc2xpZGVzLmxlbmd0aCAtIDEpO1xuICAgIHJldHVybiB7IHByZXZEaXNhYmxlZCwgbmV4dERpc2FibGVkIH07XG59XG5cbmZ1bmN0aW9uIHVzZUtleWJvYXJkTmF2aWdhdGlvbihzdWJzY3JpYmVTZW5zb3JzKSB7XG4gICAgdmFyIF9hO1xuICAgIGNvbnN0IGlzUlRMID0gdXNlUlRMKCk7XG4gICAgY29uc3QgeyBwdWJsaXNoIH0gPSB1c2VFdmVudHMoKTtcbiAgICBjb25zdCB7IGFuaW1hdGlvbiB9ID0gdXNlTGlnaHRib3hQcm9wcygpO1xuICAgIGNvbnN0IHsgcHJldkRpc2FibGVkLCBuZXh0RGlzYWJsZWQgfSA9IHVzZU5hdmlnYXRpb25TdGF0ZSgpO1xuICAgIGNvbnN0IHRocm90dGxlID0gKChfYSA9IGFuaW1hdGlvbi5uYXZpZ2F0aW9uKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBhbmltYXRpb24uc3dpcGUpIC8gMjtcbiAgICBjb25zdCBwcmV2ID0gdXNlVGhyb3R0bGUoKCkgPT4gcHVibGlzaChBQ1RJT05fUFJFViksIHRocm90dGxlKTtcbiAgICBjb25zdCBuZXh0ID0gdXNlVGhyb3R0bGUoKCkgPT4gcHVibGlzaChBQ1RJT05fTkVYVCksIHRocm90dGxlKTtcbiAgICBjb25zdCBoYW5kbGVLZXlEb3duID0gdXNlRXZlbnRDYWxsYmFjaygoZXZlbnQpID0+IHtcbiAgICAgICAgc3dpdGNoIChldmVudC5rZXkpIHtcbiAgICAgICAgICAgIGNhc2UgVktfRVNDQVBFOlxuICAgICAgICAgICAgICAgIHB1Ymxpc2goQUNUSU9OX0NMT1NFKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgVktfQVJST1dfTEVGVDpcbiAgICAgICAgICAgICAgICBpZiAoIShpc1JUTCA/IG5leHREaXNhYmxlZCA6IHByZXZEaXNhYmxlZCkpXG4gICAgICAgICAgICAgICAgICAgIChpc1JUTCA/IG5leHQgOiBwcmV2KSgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBWS19BUlJPV19SSUdIVDpcbiAgICAgICAgICAgICAgICBpZiAoIShpc1JUTCA/IHByZXZEaXNhYmxlZCA6IG5leHREaXNhYmxlZCkpXG4gICAgICAgICAgICAgICAgICAgIChpc1JUTCA/IHByZXYgOiBuZXh0KSgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiBzdWJzY3JpYmVTZW5zb3JzKEVWRU5UX09OX0tFWV9ET1dOLCBoYW5kbGVLZXlEb3duKSwgW3N1YnNjcmliZVNlbnNvcnMsIGhhbmRsZUtleURvd25dKTtcbn1cblxuZnVuY3Rpb24gTmF2aWdhdGlvbkJ1dHRvbih7IGxhYmVsLCBpY29uLCByZW5kZXJJY29uLCBhY3Rpb24sIG9uQ2xpY2ssIGRpc2FibGVkLCBzdHlsZSB9KSB7XG4gICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KEljb25CdXR0b24sIHsgbGFiZWw6IGxhYmVsLCBpY29uOiBpY29uLCByZW5kZXJJY29uOiByZW5kZXJJY29uLCBjbGFzc05hbWU6IGNzc0NsYXNzKGBuYXZpZ2F0aW9uXyR7YWN0aW9ufWApLCBkaXNhYmxlZDogZGlzYWJsZWQsIG9uQ2xpY2s6IG9uQ2xpY2ssIHN0eWxlOiBzdHlsZSwgLi4udXNlTG9zZUZvY3VzKHVzZUNvbnRyb2xsZXIoKS5mb2N1cywgZGlzYWJsZWQpIH0pKTtcbn1cbmZ1bmN0aW9uIE5hdmlnYXRpb24oeyByZW5kZXI6IHsgYnV0dG9uUHJldiwgYnV0dG9uTmV4dCwgaWNvblByZXYsIGljb25OZXh0IH0sIHN0eWxlcyB9KSB7XG4gICAgY29uc3QgeyBwcmV2LCBuZXh0LCBzdWJzY3JpYmVTZW5zb3JzIH0gPSB1c2VDb250cm9sbGVyKCk7XG4gICAgY29uc3QgeyBwcmV2RGlzYWJsZWQsIG5leHREaXNhYmxlZCB9ID0gdXNlTmF2aWdhdGlvblN0YXRlKCk7XG4gICAgdXNlS2V5Ym9hcmROYXZpZ2F0aW9uKHN1YnNjcmliZVNlbnNvcnMpO1xuICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChSZWFjdC5GcmFnbWVudCwgbnVsbCxcbiAgICAgICAgYnV0dG9uUHJldiA/IChidXR0b25QcmV2KCkpIDogKFJlYWN0LmNyZWF0ZUVsZW1lbnQoTmF2aWdhdGlvbkJ1dHRvbiwgeyBsYWJlbDogXCJQcmV2aW91c1wiLCBhY3Rpb246IEFDVElPTl9QUkVWLCBpY29uOiBQcmV2aW91c0ljb24sIHJlbmRlckljb246IGljb25QcmV2LCBzdHlsZTogc3R5bGVzLm5hdmlnYXRpb25QcmV2LCBkaXNhYmxlZDogcHJldkRpc2FibGVkLCBvbkNsaWNrOiBwcmV2IH0pKSxcbiAgICAgICAgYnV0dG9uTmV4dCA/IChidXR0b25OZXh0KCkpIDogKFJlYWN0LmNyZWF0ZUVsZW1lbnQoTmF2aWdhdGlvbkJ1dHRvbiwgeyBsYWJlbDogXCJOZXh0XCIsIGFjdGlvbjogQUNUSU9OX05FWFQsIGljb246IE5leHRJY29uLCByZW5kZXJJY29uOiBpY29uTmV4dCwgc3R5bGU6IHN0eWxlcy5uYXZpZ2F0aW9uTmV4dCwgZGlzYWJsZWQ6IG5leHREaXNhYmxlZCwgb25DbGljazogbmV4dCB9KSkpKTtcbn1cbmNvbnN0IE5hdmlnYXRpb25Nb2R1bGUgPSBjcmVhdGVNb2R1bGUoTU9EVUxFX05BVklHQVRJT04sIE5hdmlnYXRpb24pO1xuXG5jb25zdCBub1Njcm9sbCA9IGNzc0NsYXNzKENMQVNTX05PX1NDUk9MTCk7XG5jb25zdCBub1Njcm9sbFBhZGRpbmcgPSBjc3NDbGFzcyhDTEFTU19OT19TQ1JPTExfUEFERElORyk7XG5mdW5jdGlvbiBpc0hUTUxFbGVtZW50KGVsZW1lbnQpIHtcbiAgICByZXR1cm4gXCJzdHlsZVwiIGluIGVsZW1lbnQ7XG59XG5mdW5jdGlvbiBwYWRTY3JvbGxiYXIoZWxlbWVudCwgcGFkZGluZywgcnRsKSB7XG4gICAgY29uc3Qgc3R5bGVzID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWxlbWVudCk7XG4gICAgY29uc3QgcHJvcGVydHkgPSBydGwgPyBcInBhZGRpbmctbGVmdFwiIDogXCJwYWRkaW5nLXJpZ2h0XCI7XG4gICAgY29uc3QgY29tcHV0ZWRWYWx1ZSA9IHJ0bCA/IHN0eWxlcy5wYWRkaW5nTGVmdCA6IHN0eWxlcy5wYWRkaW5nUmlnaHQ7XG4gICAgY29uc3Qgb3JpZ2luYWxWYWx1ZSA9IGVsZW1lbnQuc3R5bGUuZ2V0UHJvcGVydHlWYWx1ZShwcm9wZXJ0eSk7XG4gICAgZWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eShwcm9wZXJ0eSwgYCR7KHBhcnNlSW50KGNvbXB1dGVkVmFsdWUpIHx8IDApICsgcGFkZGluZ31weGApO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIGlmIChvcmlnaW5hbFZhbHVlKSB7XG4gICAgICAgICAgICBlbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KHByb3BlcnR5LCBvcmlnaW5hbFZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUucmVtb3ZlUHJvcGVydHkocHJvcGVydHkpO1xuICAgICAgICB9XG4gICAgfTtcbn1cbmZ1bmN0aW9uIE5vU2Nyb2xsKHsgbm9TY3JvbGw6IHsgZGlzYWJsZWQgfSwgY2hpbGRyZW4gfSkge1xuICAgIGNvbnN0IHJ0bCA9IHVzZVJUTCgpO1xuICAgIGNvbnN0IHsgZ2V0T3duZXJEb2N1bWVudCwgZ2V0T3duZXJXaW5kb3cgfSA9IHVzZURvY3VtZW50Q29udGV4dCgpO1xuICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChkaXNhYmxlZClcbiAgICAgICAgICAgIHJldHVybiAoKSA9PiB7IH07XG4gICAgICAgIGNvbnN0IGNsZWFudXAgPSBbXTtcbiAgICAgICAgY29uc3Qgb3duZXJXaW5kb3cgPSBnZXRPd25lcldpbmRvdygpO1xuICAgICAgICBjb25zdCB7IGJvZHksIGRvY3VtZW50RWxlbWVudCB9ID0gZ2V0T3duZXJEb2N1bWVudCgpO1xuICAgICAgICBjb25zdCBzY3JvbGxiYXIgPSBNYXRoLnJvdW5kKG93bmVyV2luZG93LmlubmVyV2lkdGggLSBkb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGgpO1xuICAgICAgICBpZiAoc2Nyb2xsYmFyID4gMCkge1xuICAgICAgICAgICAgY2xlYW51cC5wdXNoKHBhZFNjcm9sbGJhcihib2R5LCBzY3JvbGxiYXIsIHJ0bCkpO1xuICAgICAgICAgICAgY29uc3QgZWxlbWVudHMgPSBib2R5LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiKlwiKTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZWxlbWVudHMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBlbGVtZW50ID0gZWxlbWVudHNbaV07XG4gICAgICAgICAgICAgICAgaWYgKGlzSFRNTEVsZW1lbnQoZWxlbWVudCkgJiZcbiAgICAgICAgICAgICAgICAgICAgb3duZXJXaW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KS5nZXRQcm9wZXJ0eVZhbHVlKFwicG9zaXRpb25cIikgPT09IFwiZml4ZWRcIiAmJlxuICAgICAgICAgICAgICAgICAgICAhZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMobm9TY3JvbGxQYWRkaW5nKSkge1xuICAgICAgICAgICAgICAgICAgICBjbGVhbnVwLnB1c2gocGFkU2Nyb2xsYmFyKGVsZW1lbnQsIHNjcm9sbGJhciwgcnRsKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJvZHkuY2xhc3NMaXN0LmFkZChub1Njcm9sbCk7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICBib2R5LmNsYXNzTGlzdC5yZW1vdmUobm9TY3JvbGwpO1xuICAgICAgICAgICAgY2xlYW51cC5mb3JFYWNoKChjbGVhbikgPT4gY2xlYW4oKSk7XG4gICAgICAgIH07XG4gICAgfSwgW3J0bCwgZGlzYWJsZWQsIGdldE93bmVyRG9jdW1lbnQsIGdldE93bmVyV2luZG93XSk7XG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIG51bGwsIGNoaWxkcmVuKTtcbn1cbmNvbnN0IE5vU2Nyb2xsTW9kdWxlID0gY3JlYXRlTW9kdWxlKE1PRFVMRV9OT19TQ1JPTEwsIE5vU2Nyb2xsKTtcblxuZnVuY3Rpb24gY3NzUHJlZml4JDEodmFsdWUpIHtcbiAgICByZXR1cm4gY29tcG9zZVByZWZpeChNT0RVTEVfUE9SVEFMLCB2YWx1ZSk7XG59XG5mdW5jdGlvbiBzZXRBdHRyaWJ1dGUoZWxlbWVudCwgYXR0cmlidXRlLCB2YWx1ZSkge1xuICAgIGNvbnN0IHByZXZpb3VzVmFsdWUgPSBlbGVtZW50LmdldEF0dHJpYnV0ZShhdHRyaWJ1dGUpO1xuICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKGF0dHJpYnV0ZSwgdmFsdWUpO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIGlmIChwcmV2aW91c1ZhbHVlKSB7XG4gICAgICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShhdHRyaWJ1dGUsIHByZXZpb3VzVmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoYXR0cmlidXRlKTtcbiAgICAgICAgfVxuICAgIH07XG59XG5mdW5jdGlvbiBQb3J0YWwoeyBjaGlsZHJlbiwgYW5pbWF0aW9uLCBzdHlsZXMsIGNsYXNzTmFtZSwgb24sIHBvcnRhbCwgY2xvc2UgfSkge1xuICAgIGNvbnN0IFttb3VudGVkLCBzZXRNb3VudGVkXSA9IFJlYWN0LnVzZVN0YXRlKGZhbHNlKTtcbiAgICBjb25zdCBbdmlzaWJsZSwgc2V0VmlzaWJsZV0gPSBSZWFjdC51c2VTdGF0ZShmYWxzZSk7XG4gICAgY29uc3QgY2xlYW51cCA9IFJlYWN0LnVzZVJlZihbXSk7XG4gICAgY29uc3QgcmVzdG9yZUZvY3VzID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICAgIGNvbnN0IHsgc2V0VGltZW91dCB9ID0gdXNlVGltZW91dHMoKTtcbiAgICBjb25zdCB7IHN1YnNjcmliZSB9ID0gdXNlRXZlbnRzKCk7XG4gICAgY29uc3QgcmVkdWNlTW90aW9uID0gdXNlTW90aW9uUHJlZmVyZW5jZSgpO1xuICAgIGNvbnN0IGFuaW1hdGlvbkR1cmF0aW9uID0gIXJlZHVjZU1vdGlvbiA/IGFuaW1hdGlvbi5mYWRlIDogMDtcbiAgICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBzZXRNb3VudGVkKHRydWUpO1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgc2V0TW91bnRlZChmYWxzZSk7XG4gICAgICAgICAgICBzZXRWaXNpYmxlKGZhbHNlKTtcbiAgICAgICAgfTtcbiAgICB9LCBbXSk7XG4gICAgY29uc3QgaGFuZGxlQ2xlYW51cCA9IHVzZUV2ZW50Q2FsbGJhY2soKCkgPT4ge1xuICAgICAgICBjbGVhbnVwLmN1cnJlbnQuZm9yRWFjaCgoY2xlYW4pID0+IGNsZWFuKCkpO1xuICAgICAgICBjbGVhbnVwLmN1cnJlbnQgPSBbXTtcbiAgICB9KTtcbiAgICBjb25zdCBoYW5kbGVDbG9zZSA9IHVzZUV2ZW50Q2FsbGJhY2soKCkgPT4ge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHNldFZpc2libGUoZmFsc2UpO1xuICAgICAgICBoYW5kbGVDbGVhbnVwKCk7XG4gICAgICAgIChfYSA9IG9uLmV4aXRpbmcpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKG9uKTtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAoX2EgPSBvbi5leGl0ZWQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKG9uKTtcbiAgICAgICAgICAgIGNsb3NlKCk7XG4gICAgICAgIH0sIGFuaW1hdGlvbkR1cmF0aW9uKTtcbiAgICB9KTtcbiAgICBSZWFjdC51c2VFZmZlY3QoKCkgPT4gc3Vic2NyaWJlKEFDVElPTl9DTE9TRSwgaGFuZGxlQ2xvc2UpLCBbc3Vic2NyaWJlLCBoYW5kbGVDbG9zZV0pO1xuICAgIGNvbnN0IGhhbmRsZUVudGVyID0gdXNlRXZlbnRDYWxsYmFjaygobm9kZSkgPT4ge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYztcbiAgICAgICAgbm9kZS5zY3JvbGxUb3A7XG4gICAgICAgIHNldFZpc2libGUodHJ1ZSk7XG4gICAgICAgIChfYSA9IG9uLmVudGVyaW5nKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbChvbik7XG4gICAgICAgIGNvbnN0IGVsZW1lbnRzID0gKF9jID0gKF9iID0gbm9kZS5wYXJlbnROb2RlKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2hpbGRyZW4pICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGVsZW1lbnRzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICBjb25zdCBlbGVtZW50ID0gZWxlbWVudHNbaV07XG4gICAgICAgICAgICBpZiAoW1wiVEVNUExBVEVcIiwgXCJTQ1JJUFRcIiwgXCJTVFlMRVwiXS5pbmRleE9mKGVsZW1lbnQudGFnTmFtZSkgPT09IC0xICYmIGVsZW1lbnQgIT09IG5vZGUpIHtcbiAgICAgICAgICAgICAgICBjbGVhbnVwLmN1cnJlbnQucHVzaChzZXRBdHRyaWJ1dGUoZWxlbWVudCwgXCJpbmVydFwiLCBcIlwiKSk7XG4gICAgICAgICAgICAgICAgY2xlYW51cC5jdXJyZW50LnB1c2goc2V0QXR0cmlidXRlKGVsZW1lbnQsIFwiYXJpYS1oaWRkZW5cIiwgXCJ0cnVlXCIpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjbGVhbnVwLmN1cnJlbnQucHVzaCgoKSA9PiB7XG4gICAgICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAgICAgKF9iID0gKF9hID0gcmVzdG9yZUZvY3VzLmN1cnJlbnQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5mb2N1cykgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNhbGwoX2EpO1xuICAgICAgICB9KTtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAoX2EgPSBvbi5lbnRlcmVkKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbChvbik7XG4gICAgICAgIH0sIGFuaW1hdGlvbkR1cmF0aW9uKTtcbiAgICB9KTtcbiAgICBjb25zdCBoYW5kbGVSZWYgPSBSZWFjdC51c2VDYWxsYmFjaygobm9kZSkgPT4ge1xuICAgICAgICBpZiAobm9kZSkge1xuICAgICAgICAgICAgaGFuZGxlRW50ZXIobm9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBoYW5kbGVDbGVhbnVwKCk7XG4gICAgICAgIH1cbiAgICB9LCBbaGFuZGxlRW50ZXIsIGhhbmRsZUNsZWFudXBdKTtcbiAgICByZXR1cm4gbW91bnRlZFxuICAgICAgICA/IGNyZWF0ZVBvcnRhbChSZWFjdC5jcmVhdGVFbGVtZW50KExpZ2h0Ym94Um9vdCwgeyByZWY6IGhhbmRsZVJlZiwgY2xhc3NOYW1lOiBjbHN4KGNsYXNzTmFtZSwgY3NzQ2xhc3MoY3NzUHJlZml4JDEoKSksIGNzc0NsYXNzKENMQVNTX05PX1NDUk9MTF9QQURESU5HKSwgdmlzaWJsZSAmJiBjc3NDbGFzcyhjc3NQcmVmaXgkMShcIm9wZW5cIikpKSwgcm9sZTogXCJwcmVzZW50YXRpb25cIiwgXCJhcmlhLWxpdmVcIjogXCJwb2xpdGVcIiwgc3R5bGU6IHtcbiAgICAgICAgICAgICAgICAuLi4oYW5pbWF0aW9uLmZhZGUgIT09IExpZ2h0Ym94RGVmYXVsdFByb3BzLmFuaW1hdGlvbi5mYWRlXG4gICAgICAgICAgICAgICAgICAgID8geyBbY3NzVmFyKFwiZmFkZV9hbmltYXRpb25fZHVyYXRpb25cIildOiBgJHthbmltYXRpb25EdXJhdGlvbn1tc2AgfVxuICAgICAgICAgICAgICAgICAgICA6IG51bGwpLFxuICAgICAgICAgICAgICAgIC4uLihhbmltYXRpb24uZWFzaW5nLmZhZGUgIT09IExpZ2h0Ym94RGVmYXVsdFByb3BzLmFuaW1hdGlvbi5lYXNpbmcuZmFkZVxuICAgICAgICAgICAgICAgICAgICA/IHsgW2Nzc1ZhcihcImZhZGVfYW5pbWF0aW9uX3RpbWluZ19mdW5jdGlvblwiKV06IGFuaW1hdGlvbi5lYXNpbmcuZmFkZSB9XG4gICAgICAgICAgICAgICAgICAgIDogbnVsbCksXG4gICAgICAgICAgICAgICAgLi4uc3R5bGVzLnJvb3QsXG4gICAgICAgICAgICB9LCBvbkZvY3VzOiAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIXJlc3RvcmVGb2N1cy5jdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3RvcmVGb2N1cy5jdXJyZW50ID0gZXZlbnQucmVsYXRlZFRhcmdldDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IH0sIGNoaWxkcmVuKSwgcG9ydGFsLnJvb3QgfHwgZG9jdW1lbnQuYm9keSlcbiAgICAgICAgOiBudWxsO1xufVxuY29uc3QgUG9ydGFsTW9kdWxlID0gY3JlYXRlTW9kdWxlKE1PRFVMRV9QT1JUQUwsIFBvcnRhbCk7XG5cbmZ1bmN0aW9uIFJvb3QoeyBjaGlsZHJlbiB9KSB7XG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIG51bGwsIGNoaWxkcmVuKTtcbn1cbmNvbnN0IFJvb3RNb2R1bGUgPSBjcmVhdGVNb2R1bGUoTU9EVUxFX1JPT1QsIFJvb3QpO1xuXG5mdW5jdGlvbiBjc3NQcmVmaXgodmFsdWUpIHtcbiAgICByZXR1cm4gY29tcG9zZVByZWZpeChNT0RVTEVfVE9PTEJBUiwgdmFsdWUpO1xufVxuZnVuY3Rpb24gVG9vbGJhcih7IHRvb2xiYXI6IHsgYnV0dG9ucyB9LCByZW5kZXI6IHsgYnV0dG9uQ2xvc2UsIGljb25DbG9zZSB9LCBzdHlsZXMgfSkge1xuICAgIGNvbnN0IHsgY2xvc2UsIHNldFRvb2xiYXJXaWR0aCB9ID0gdXNlQ29udHJvbGxlcigpO1xuICAgIGNvbnN0IHsgc2V0Q29udGFpbmVyUmVmLCBjb250YWluZXJSZWN0IH0gPSB1c2VDb250YWluZXJSZWN0KCk7XG4gICAgdXNlTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICAgICAgc2V0VG9vbGJhcldpZHRoKGNvbnRhaW5lclJlY3QgPT09IG51bGwgfHwgY29udGFpbmVyUmVjdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogY29udGFpbmVyUmVjdC53aWR0aCk7XG4gICAgfSwgW3NldFRvb2xiYXJXaWR0aCwgY29udGFpbmVyUmVjdCA9PT0gbnVsbCB8fCBjb250YWluZXJSZWN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjb250YWluZXJSZWN0LndpZHRoXSk7XG4gICAgY29uc3QgcmVuZGVyQ2xvc2VCdXR0b24gPSAoKSA9PiB7XG4gICAgICAgIGlmIChidXR0b25DbG9zZSlcbiAgICAgICAgICAgIHJldHVybiBidXR0b25DbG9zZSgpO1xuICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChJY29uQnV0dG9uLCB7IGtleTogQUNUSU9OX0NMT1NFLCBsYWJlbDogXCJDbG9zZVwiLCBpY29uOiBDbG9zZUljb24sIHJlbmRlckljb246IGljb25DbG9zZSwgb25DbGljazogY2xvc2UgfSk7XG4gICAgfTtcbiAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyByZWY6IHNldENvbnRhaW5lclJlZiwgc3R5bGU6IHN0eWxlcy50b29sYmFyLCBjbGFzc05hbWU6IGNzc0NsYXNzKGNzc1ByZWZpeCgpKSB9LCBidXR0b25zID09PSBudWxsIHx8IGJ1dHRvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGJ1dHRvbnMubWFwKChidXR0b24pID0+IChidXR0b24gPT09IEFDVElPTl9DTE9TRSA/IHJlbmRlckNsb3NlQnV0dG9uKCkgOiBidXR0b24pKSkpO1xufVxuY29uc3QgVG9vbGJhck1vZHVsZSA9IGNyZWF0ZU1vZHVsZShNT0RVTEVfVE9PTEJBUiwgVG9vbGJhcik7XG5cbmZ1bmN0aW9uIHJlbmRlck5vZGUobm9kZSwgcHJvcHMpIHtcbiAgICB2YXIgX2E7XG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQobm9kZS5tb2R1bGUuY29tcG9uZW50LCB7IGtleTogbm9kZS5tb2R1bGUubmFtZSwgLi4ucHJvcHMgfSwgKF9hID0gbm9kZS5jaGlsZHJlbikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLm1hcCgoY2hpbGQpID0+IHJlbmRlck5vZGUoY2hpbGQsIHByb3BzKSkpO1xufVxuZnVuY3Rpb24gbWVyZ2VBbmltYXRpb24oZGVmYXVsdEFuaW1hdGlvbiwgYW5pbWF0aW9uID0ge30pIHtcbiAgICBjb25zdCB7IGVhc2luZzogZGVmYXVsdEFuaW1hdGlvbkVhc2luZywgLi4ucmVzdERlZmF1bHRBbmltYXRpb24gfSA9IGRlZmF1bHRBbmltYXRpb247XG4gICAgY29uc3QgeyBlYXNpbmcsIC4uLnJlc3RBbmltYXRpb24gfSA9IGFuaW1hdGlvbjtcbiAgICByZXR1cm4ge1xuICAgICAgICBlYXNpbmc6IHsgLi4uZGVmYXVsdEFuaW1hdGlvbkVhc2luZywgLi4uZWFzaW5nIH0sXG4gICAgICAgIC4uLnJlc3REZWZhdWx0QW5pbWF0aW9uLFxuICAgICAgICAuLi5yZXN0QW5pbWF0aW9uLFxuICAgIH07XG59XG5mdW5jdGlvbiBMaWdodGJveCh7IGNhcm91c2VsLCBhbmltYXRpb24sIHJlbmRlciwgdG9vbGJhciwgY29udHJvbGxlciwgbm9TY3JvbGwsIG9uLCBwbHVnaW5zLCBzbGlkZXMsIGluZGV4LCAuLi5yZXN0UHJvcHMgfSkge1xuICAgIGNvbnN0IHsgYW5pbWF0aW9uOiBkZWZhdWx0QW5pbWF0aW9uLCBjYXJvdXNlbDogZGVmYXVsdENhcm91c2VsLCByZW5kZXI6IGRlZmF1bHRSZW5kZXIsIHRvb2xiYXI6IGRlZmF1bHRUb29sYmFyLCBjb250cm9sbGVyOiBkZWZhdWx0Q29udHJvbGxlciwgbm9TY3JvbGw6IGRlZmF1bHROb1Njcm9sbCwgb246IGRlZmF1bHRPbiwgc2xpZGVzOiBkZWZhdWx0U2xpZGVzLCBpbmRleDogZGVmYXVsdEluZGV4LCBwbHVnaW5zOiBkZWZhdWx0UGx1Z2lucywgLi4ucmVzdERlZmF1bHRQcm9wcyB9ID0gTGlnaHRib3hEZWZhdWx0UHJvcHM7XG4gICAgY29uc3QgeyBjb25maWcsIGF1Z21lbnRhdGlvbiB9ID0gd2l0aFBsdWdpbnMoW1xuICAgICAgICBjcmVhdGVOb2RlKFBvcnRhbE1vZHVsZSwgW1xuICAgICAgICAgICAgY3JlYXRlTm9kZShOb1Njcm9sbE1vZHVsZSwgW1xuICAgICAgICAgICAgICAgIGNyZWF0ZU5vZGUoQ29udHJvbGxlck1vZHVsZSwgW1xuICAgICAgICAgICAgICAgICAgICBjcmVhdGVOb2RlKENhcm91c2VsTW9kdWxlKSxcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlTm9kZShUb29sYmFyTW9kdWxlKSxcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlTm9kZShOYXZpZ2F0aW9uTW9kdWxlKSxcbiAgICAgICAgICAgICAgICBdKSxcbiAgICAgICAgICAgIF0pLFxuICAgICAgICBdKSxcbiAgICBdLCBwbHVnaW5zIHx8IGRlZmF1bHRQbHVnaW5zKTtcbiAgICBjb25zdCBwcm9wcyA9IGF1Z21lbnRhdGlvbih7XG4gICAgICAgIGFuaW1hdGlvbjogbWVyZ2VBbmltYXRpb24oZGVmYXVsdEFuaW1hdGlvbiwgYW5pbWF0aW9uKSxcbiAgICAgICAgY2Fyb3VzZWw6IHsgLi4uZGVmYXVsdENhcm91c2VsLCAuLi5jYXJvdXNlbCB9LFxuICAgICAgICByZW5kZXI6IHsgLi4uZGVmYXVsdFJlbmRlciwgLi4ucmVuZGVyIH0sXG4gICAgICAgIHRvb2xiYXI6IHsgLi4uZGVmYXVsdFRvb2xiYXIsIC4uLnRvb2xiYXIgfSxcbiAgICAgICAgY29udHJvbGxlcjogeyAuLi5kZWZhdWx0Q29udHJvbGxlciwgLi4uY29udHJvbGxlciB9LFxuICAgICAgICBub1Njcm9sbDogeyAuLi5kZWZhdWx0Tm9TY3JvbGwsIC4uLm5vU2Nyb2xsIH0sXG4gICAgICAgIG9uOiB7IC4uLmRlZmF1bHRPbiwgLi4ub24gfSxcbiAgICAgICAgLi4ucmVzdERlZmF1bHRQcm9wcyxcbiAgICAgICAgLi4ucmVzdFByb3BzLFxuICAgIH0pO1xuICAgIGlmICghcHJvcHMub3BlbilcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KExpZ2h0Ym94UHJvcHNQcm92aWRlciwgeyAuLi5wcm9wcyB9LFxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KExpZ2h0Ym94U3RhdGVQcm92aWRlciwgeyBzbGlkZXM6IHNsaWRlcyB8fCBkZWZhdWx0U2xpZGVzLCBpbmRleDogcGFyc2VJbnQoaW5kZXggfHwgZGVmYXVsdEluZGV4KSB9LFxuICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChUaW1lb3V0c1Byb3ZpZGVyLCBudWxsLFxuICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoRXZlbnRzUHJvdmlkZXIsIG51bGwsIHJlbmRlck5vZGUoY3JlYXRlTm9kZShSb290TW9kdWxlLCBjb25maWcpLCBwcm9wcykpKSkpKTtcbn1cblxuZXhwb3J0IHsgQUNUSU9OX0NMT1NFLCBBQ1RJT05fTkVYVCwgQUNUSU9OX1BSRVYsIEFDVElPTl9TV0lQRSwgQ0xBU1NfRkxFWF9DRU5URVIsIENMQVNTX05PX1NDUk9MTCwgQ0xBU1NfTk9fU0NST0xMX1BBRERJTkcsIENMQVNTX1NMSURFX1dSQVBQRVIsIENhcm91c2VsLCBDYXJvdXNlbE1vZHVsZSwgQ2xvc2VJY29uLCBDb250cm9sbGVyLCBDb250cm9sbGVyQ29udGV4dCwgQ29udHJvbGxlck1vZHVsZSwgRG9jdW1lbnRDb250ZXh0LCBEb2N1bWVudENvbnRleHRQcm92aWRlciwgRUxFTUVOVF9CVVRUT04sIEVMRU1FTlRfSUNPTiwgRVZFTlRfT05fS0VZX0RPV04sIEVWRU5UX09OX0tFWV9VUCwgRVZFTlRfT05fUE9JTlRFUl9DQU5DRUwsIEVWRU5UX09OX1BPSU5URVJfRE9XTiwgRVZFTlRfT05fUE9JTlRFUl9MRUFWRSwgRVZFTlRfT05fUE9JTlRFUl9NT1ZFLCBFVkVOVF9PTl9QT0lOVEVSX1VQLCBFVkVOVF9PTl9XSEVFTCwgRXJyb3JJY29uLCBFdmVudHNDb250ZXh0LCBFdmVudHNQcm92aWRlciwgSU1BR0VfRklUX0NPTlRBSU4sIElNQUdFX0ZJVF9DT1ZFUiwgSWNvbkJ1dHRvbiwgSW1hZ2VTbGlkZSwgTGlnaHRib3gsIExpZ2h0Ym94RGVmYXVsdFByb3BzLCBMaWdodGJveERpc3BhdGNoQ29udGV4dCwgTGlnaHRib3hQcm9wc0NvbnRleHQsIExpZ2h0Ym94UHJvcHNQcm92aWRlciwgTGlnaHRib3hSb290LCBMaWdodGJveFN0YXRlQ29udGV4dCwgTGlnaHRib3hTdGF0ZVByb3ZpZGVyLCBMb2FkaW5nSWNvbiwgTU9EVUxFX0NBUk9VU0VMLCBNT0RVTEVfQ09OVFJPTExFUiwgTU9EVUxFX05BVklHQVRJT04sIE1PRFVMRV9OT19TQ1JPTEwsIE1PRFVMRV9QT1JUQUwsIE1PRFVMRV9ST09ULCBNT0RVTEVfVE9PTEJBUiwgTmF2aWdhdGlvbiwgTmF2aWdhdGlvbkJ1dHRvbiwgTmF2aWdhdGlvbk1vZHVsZSwgTmV4dEljb24sIE5vU2Nyb2xsLCBOb1Njcm9sbE1vZHVsZSwgUG9ydGFsLCBQb3J0YWxNb2R1bGUsIFByZXZpb3VzSWNvbiwgUm9vdCwgUm9vdE1vZHVsZSwgU0xJREVfU1RBVFVTX0NPTVBMRVRFLCBTTElERV9TVEFUVVNfRVJST1IsIFNMSURFX1NUQVRVU19MT0FESU5HLCBTTElERV9TVEFUVVNfUExBQ0VIT0xERVIsIFN3aXBlU3RhdGUsIFRpbWVvdXRzQ29udGV4dCwgVGltZW91dHNQcm92aWRlciwgVG9vbGJhciwgVG9vbGJhck1vZHVsZSwgVU5LTk9XTl9BQ1RJT05fVFlQRSwgVktfQVJST1dfTEVGVCwgVktfQVJST1dfUklHSFQsIFZLX0VTQ0FQRSwgYWN0aXZlU2xpZGVTdGF0dXMsIGFkZFRvb2xiYXJCdXR0b24sIGNhbGN1bGF0ZVByZWxvYWQsIGNsZWFudXAsIGNsc3gsIGNvbXBvc2VQcmVmaXgsIGNvbXB1dGVTbGlkZVJlY3QsIGNyZWF0ZUljb24sIGNyZWF0ZUljb25EaXNhYmxlZCwgY3JlYXRlTW9kdWxlLCBjcmVhdGVOb2RlLCBjc3NDbGFzcywgY3NzVmFyLCBMaWdodGJveCBhcyBkZWZhdWx0LCBkZXZpY2VQaXhlbFJhdGlvLCBnZXRTbGlkZSwgZ2V0U2xpZGVJZlByZXNlbnQsIGdldFNsaWRlSW5kZXgsIGdldFNsaWRlS2V5LCBoYXNTbGlkZXMsIGhhc1dpbmRvdywgaXNJbWFnZUZpdENvdmVyLCBpc0ltYWdlU2xpZGUsIGxhYmVsLCBtYWtlQ29tcG9zZVByZWZpeCwgbWFrZUluZXJ0V2hlbiwgbWFrZVVzZUNvbnRleHQsIHBhcnNlSW50LCBwYXJzZUxlbmd0aFBlcmNlbnRhZ2UsIHJvdW5kLCBzZXRSZWYsIHN0b3BOYXZpZ2F0aW9uRXZlbnRzUHJvcGFnYXRpb24sIHVzZUFuaW1hdGlvbiwgdXNlQ29udGFpbmVyUmVjdCwgdXNlQ29udHJvbGxlciwgdXNlRGVsYXksIHVzZURvY3VtZW50Q29udGV4dCwgdXNlRXZlbnRDYWxsYmFjaywgdXNlRXZlbnRzLCB1c2VGb3JrUmVmLCB1c2VLZXlib2FyZE5hdmlnYXRpb24sIHVzZUxheW91dEVmZmVjdCwgdXNlTGlnaHRib3hEaXNwYXRjaCwgdXNlTGlnaHRib3hQcm9wcywgdXNlTGlnaHRib3hTdGF0ZSwgdXNlTG9zZUZvY3VzLCB1c2VNb3Rpb25QcmVmZXJlbmNlLCB1c2VOYXZpZ2F0aW9uU3RhdGUsIHVzZVBvaW50ZXJFdmVudHMsIHVzZVBvaW50ZXJTd2lwZSwgdXNlUHJldmVudFdoZWVsRGVmYXVsdHMsIHVzZVJUTCwgdXNlU2Vuc29ycywgdXNlVGhyb3R0bGUsIHVzZVRpbWVvdXRzLCB1c2VXaGVlbFN3aXBlLCB3aXRoUGx1Z2lucyB9OyJdLCJuYW1lcyI6WyJSZWFjdCIsIklNQUdFX0ZJVF9DT1ZFUiIsIklNQUdFX0ZJVF9DT05UQUlOIiwiQUNUSU9OX0NMT1NFIiwiTU9EVUxFX0NPTlRST0xMRVIiLCJVTktOT1dOX0FDVElPTl9UWVBFIiwiRUxFTUVOVF9CVVRUT04iLCJFTEVNRU5UX0lDT04iLCJFVkVOVF9PTl9QT0lOVEVSX0RPV04iLCJFVkVOVF9PTl9QT0lOVEVSX01PVkUiLCJFVkVOVF9PTl9QT0lOVEVSX1VQIiwiRVZFTlRfT05fUE9JTlRFUl9MRUFWRSIsIkVWRU5UX09OX1BPSU5URVJfQ0FOQ0VMIiwiRVZFTlRfT05fS0VZX0RPV04iLCJFVkVOVF9PTl9LRVlfVVAiLCJFVkVOVF9PTl9XSEVFTCIsIlNMSURFX1NUQVRVU19MT0FESU5HIiwiYWN0aXZlU2xpZGVTdGF0dXMiLCJTTElERV9TVEFUVVNfQ09NUExFVEUiLCJTTElERV9TVEFUVVNfRVJST1IiLCJTTElERV9TVEFUVVNfUExBQ0VIT0xERVIiLCJBQ1RJT05fUFJFViIsIkFDVElPTl9ORVhUIiwiQUNUSU9OX1NXSVBFIiwiTU9EVUxFX1BPUlRBTCIsIkNMQVNTX0ZMRVhfQ0VOVEVSIiwiTU9EVUxFX0NBUk9VU0VMIiwiQ0xBU1NfU0xJREVfV1JBUFBFUiIsIlZLX0FSUk9XX1JJR0hUIiwiVktfQVJST1dfTEVGVCIsIlZLX0VTQ0FQRSIsIk1PRFVMRV9OQVZJR0FUSU9OIiwiQ0xBU1NfTk9fU0NST0xMIiwiQ0xBU1NfTk9fU0NST0xMX1BBRERJTkciLCJNT0RVTEVfTk9fU0NST0xMIiwiTU9EVUxFX1JPT1QiLCJNT0RVTEVfVE9PTEJBUiIsImNyZWF0ZVBvcnRhbCIsIkFDVElWRV9TTElERV9DT01QTEVURSIsIkFDVElWRV9TTElERV9FUlJPUiIsIkFDVElWRV9TTElERV9MT0FESU5HIiwiQUNUSVZFX1NMSURFX1BMQVlJTkciLCJDTEFTU19GVUxMU0laRSIsIkNMQVNTX1NMSURFX1dSQVBQRVJfSU5URVJBQ1RJVkUiLCJQTFVHSU5fQ0FQVElPTlMiLCJQTFVHSU5fQ09VTlRFUiIsIlBMVUdJTl9ET1dOTE9BRCIsIlBMVUdJTl9GVUxMU0NSRUVOIiwiUExVR0lOX0lOTElORSIsIlBMVUdJTl9TSEFSRSIsIlBMVUdJTl9TTElERVNIT1ciLCJQTFVHSU5fVEhVTUJOQUlMUyIsIlBMVUdJTl9aT09NIiwiU0xJREVfU1RBVFVTX1BMQVlJTkciLCJjc3NQcmVmaXgkMyIsImNsc3giLCJjbGFzc2VzIiwiZmlsdGVyIiwiQm9vbGVhbiIsImpvaW4iLCJjc3NDbGFzcyIsIm5hbWUiLCJjc3NWYXIiLCJjb21wb3NlUHJlZml4IiwiYmFzZSIsInByZWZpeCIsIm1ha2VDb21wb3NlUHJlZml4IiwibGFiZWwiLCJsYWJlbHMiLCJkZWZhdWx0TGFiZWwiLCJfYSIsImNsZWFudXAiLCJjbGVhbmVycyIsImZvckVhY2giLCJjbGVhbmVyIiwibWFrZVVzZUNvbnRleHQiLCJjb250ZXh0TmFtZSIsImNvbnRleHQiLCJjdHgiLCJ1c2VDb250ZXh0IiwiRXJyb3IiLCJoYXNXaW5kb3ciLCJyb3VuZCIsInZhbHVlIiwiZGVjaW1hbHMiLCJmYWN0b3IiLCJNYXRoIiwiTnVtYmVyIiwiRVBTSUxPTiIsImlzSW1hZ2VTbGlkZSIsInNsaWRlIiwidHlwZSIsInVuZGVmaW5lZCIsImlzSW1hZ2VGaXRDb3ZlciIsImltYWdlIiwiaW1hZ2VGaXQiLCJwYXJzZUludCIsInBhcnNlTGVuZ3RoUGVyY2VudGFnZSIsImlucHV0IiwicGl4ZWwiLCJlbmRzV2l0aCIsInBlcmNlbnQiLCJjb21wdXRlU2xpZGVSZWN0IiwiY29udGFpbmVyUmVjdCIsInBhZGRpbmciLCJwYWRkaW5nVmFsdWUiLCJwYWRkaW5nUGl4ZWxzIiwid2lkdGgiLCJtYXgiLCJoZWlnaHQiLCJkZXZpY2VQaXhlbFJhdGlvIiwid2luZG93IiwiZ2V0U2xpZGVJbmRleCIsImluZGV4Iiwic2xpZGVzQ291bnQiLCJoYXNTbGlkZXMiLCJzbGlkZXMiLCJsZW5ndGgiLCJnZXRTbGlkZSIsImdldFNsaWRlSWZQcmVzZW50IiwiZ2V0U2xpZGVLZXkiLCJzcmMiLCJhZGRUb29sYmFyQnV0dG9uIiwidG9vbGJhciIsImtleSIsImJ1dHRvbiIsImJ1dHRvbnMiLCJyZXN0VG9vbGJhciIsImZpbmRJbmRleCIsIml0ZW0iLCJidXR0b25XaXRoS2V5IiwiaXNWYWxpZEVsZW1lbnQiLCJjbG9uZUVsZW1lbnQiLCJyZXN1bHQiLCJzcGxpY2UiLCJzdG9wTmF2aWdhdGlvbkV2ZW50c1Byb3BhZ2F0aW9uIiwic3RvcFByb3BhZ2F0aW9uIiwiZXZlbnQiLCJvblBvaW50ZXJEb3duIiwib25LZXlEb3duIiwib25XaGVlbCIsImNhbGN1bGF0ZVByZWxvYWQiLCJjYXJvdXNlbCIsIm1pbmltdW0iLCJtaW4iLCJwcmVsb2FkIiwiZmluaXRlIiwiZmxvb3IiLCJpc1JlYWN0MTkiLCJ2ZXJzaW9uIiwic3BsaXQiLCJtYWtlSW5lcnRXaGVuIiwiY29uZGl0aW9uIiwibGVnYWN5VmFsdWUiLCJpbmVydCIsIkxpZ2h0Ym94RGVmYXVsdFByb3BzIiwib3BlbiIsImNsb3NlIiwicmVuZGVyIiwicGx1Z2lucyIsImFuaW1hdGlvbiIsImZhZGUiLCJzd2lwZSIsImVhc2luZyIsIm5hdmlnYXRpb24iLCJzcGFjaW5nIiwiaW1hZ2VQcm9wcyIsImNvbnRyb2xsZXIiLCJyZWYiLCJmb2N1cyIsImFyaWEiLCJ0b3VjaEFjdGlvbiIsImNsb3NlT25QdWxsVXAiLCJjbG9zZU9uUHVsbERvd24iLCJjbG9zZU9uQmFja2Ryb3BDbGljayIsInByZXZlbnREZWZhdWx0V2hlZWxYIiwicHJldmVudERlZmF1bHRXaGVlbFkiLCJwb3J0YWwiLCJub1Njcm9sbCIsImRpc2FibGVkIiwib24iLCJzdHlsZXMiLCJjbGFzc05hbWUiLCJjcmVhdGVNb2R1bGUiLCJjb21wb25lbnQiLCJjcmVhdGVOb2RlIiwibW9kdWxlIiwiY2hpbGRyZW4iLCJ0cmF2ZXJzZU5vZGUiLCJub2RlIiwidGFyZ2V0IiwiYXBwbHkiLCJmbGF0TWFwIiwibiIsInRyYXZlcnNlIiwibm9kZXMiLCJ3aXRoUGx1Z2lucyIsInJvb3QiLCJhdWdtZW50YXRpb25zIiwiY29uZmlnIiwiY29udGFpbnMiLCJwb3AiLCJwdXNoIiwiYWRkUGFyZW50IiwiYXBwZW5kIiwiYWRkQ2hpbGQiLCJwcmVjZWRlIiwiYWRkU2libGluZyIsImFkZE1vZHVsZSIsInJlcGxhY2UiLCJyZW1vdmUiLCJhdWdtZW50IiwiYXVnbWVudGF0aW9uIiwicGx1Z2luIiwicHJvcHMiLCJyZWR1Y2UiLCJhY2MiLCJEb2N1bWVudENvbnRleHQiLCJjcmVhdGVDb250ZXh0IiwidXNlRG9jdW1lbnRDb250ZXh0IiwiRG9jdW1lbnRDb250ZXh0UHJvdmlkZXIiLCJub2RlUmVmIiwidXNlTWVtbyIsImdldE93bmVyRG9jdW1lbnQiLCJjdXJyZW50Iiwib3duZXJEb2N1bWVudCIsImRvY3VtZW50IiwiZ2V0T3duZXJXaW5kb3ciLCJkZWZhdWx0VmlldyIsImNyZWF0ZUVsZW1lbnQiLCJQcm92aWRlciIsIkV2ZW50c0NvbnRleHQiLCJ1c2VFdmVudHMiLCJFdmVudHNQcm92aWRlciIsInN1YnNjcmlwdGlvbnMiLCJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsIk9iamVjdCIsImtleXMiLCJ0b3BpYyIsInVuc3Vic2NyaWJlIiwiY2FsbGJhY2siLCJjYiIsInN1YnNjcmliZSIsInB1Ymxpc2giLCJMaWdodGJveFByb3BzQ29udGV4dCIsInVzZUxpZ2h0Ym94UHJvcHMiLCJMaWdodGJveFByb3BzUHJvdmlkZXIiLCJMaWdodGJveFN0YXRlQ29udGV4dCIsInVzZUxpZ2h0Ym94U3RhdGUiLCJMaWdodGJveERpc3BhdGNoQ29udGV4dCIsInVzZUxpZ2h0Ym94RGlzcGF0Y2giLCJyZWR1Y2VyIiwic3RhdGUiLCJhY3Rpb24iLCJpbmNyZW1lbnQiLCJnbG9iYWxJbmRleCIsImN1cnJlbnRJbmRleCIsImN1cnJlbnRTbGlkZSIsImR1cmF0aW9uIiwiTGlnaHRib3hTdGF0ZVByb3ZpZGVyIiwiZGlzcGF0Y2giLCJ1c2VSZWR1Y2VyIiwiVGltZW91dHNDb250ZXh0IiwidXNlVGltZW91dHMiLCJUaW1lb3V0c1Byb3ZpZGVyIiwidGltZW91dHMiLCJ0aWQiLCJjbGVhclRpbWVvdXQiLCJyZW1vdmVUaW1lb3V0IiwiaWQiLCJzZXRUaW1lb3V0IiwiZm4iLCJkZWxheSIsIkljb25CdXR0b24iLCJmb3J3YXJkUmVmIiwibGFiZWwkMSIsImljb24iLCJJY29uIiwicmVuZGVySWNvbiIsIm9uQ2xpY2siLCJzdHlsZSIsInJlc3QiLCJidXR0b25MYWJlbCIsInRpdGxlIiwic3ZnSWNvbiIsInhtbG5zIiwidmlld0JveCIsImZvY3VzYWJsZSIsImRpc3BsYXlOYW1lIiwiY3JlYXRlSWNvbiIsImdseXBoIiwiZmlsbCIsImQiLCJjcmVhdGVJY29uRGlzYWJsZWQiLCJGcmFnbWVudCIsInN0cm9rZSIsInN0cm9rZVdpZHRoIiwibWFzayIsIkNsb3NlSWNvbiIsIlByZXZpb3VzSWNvbiIsIk5leHRJY29uIiwiTG9hZGluZ0ljb24iLCJBcnJheSIsImZyb20iLCJtYXAiLCJfIiwiYXJyYXkiLCJ4MSIsInkxIiwieDIiLCJ5MiIsInN0cm9rZUxpbmVjYXAiLCJzdHJva2VPcGFjaXR5IiwidHJhbnNmb3JtIiwiRXJyb3JJY29uIiwidXNlTGF5b3V0RWZmZWN0IiwidXNlTW90aW9uUHJlZmVyZW5jZSIsInJlZHVjZU1vdGlvbiIsInNldFJlZHVjZU1vdGlvbiIsIl9iIiwibWVkaWFRdWVyeSIsIm1hdGNoTWVkaWEiLCJjYWxsIiwibWF0Y2hlcyIsImxpc3RlbmVyIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJjdXJyZW50VHJhbnNmb3JtYXRpb24iLCJ4IiwieSIsInoiLCJtYXRyaXgiLCJnZXRDb21wdXRlZFN0eWxlIiwibWF0Y2hlciIsIm1hdGNoIiwidmFsdWVzIiwidXNlQW5pbWF0aW9uIiwiY29tcHV0ZUFuaW1hdGlvbiIsInNuYXBzaG90IiwidXNlUmVmIiwiX2MiLCJrZXlmcmFtZXMiLCJvbmZpbmlzaCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImNhbmNlbCIsImFuaW1hdGUiLCJlcnIiLCJjb25zb2xlIiwiZXJyb3IiLCJwcmVwYXJlQW5pbWF0aW9uIiwiY3VycmVudFNuYXBzaG90IiwiaXNBbmltYXRpb25QbGF5aW5nIiwicGxheVN0YXRlIiwidXNlQ29udGFpbmVyUmVjdCIsImNvbnRhaW5lclJlZiIsIm9ic2VydmVyUmVmIiwic2V0Q29udGFpbmVyUmVjdCIsInNldENvbnRhaW5lclJlZiIsInVzZUNhbGxiYWNrIiwiZGlzY29ubmVjdCIsInVwZGF0ZUNvbnRhaW5lclJlY3QiLCJwYXJzZSIsInBhcnNlRmxvYXQiLCJjbGllbnRXaWR0aCIsInBhZGRpbmdMZWZ0IiwicGFkZGluZ1JpZ2h0IiwiY2xpZW50SGVpZ2h0IiwicGFkZGluZ1RvcCIsInBhZGRpbmdCb3R0b20iLCJSZXNpemVPYnNlcnZlciIsIm9ic2VydmUiLCJ1c2VEZWxheSIsInRpbWVvdXRJZCIsInVzZUV2ZW50Q2FsbGJhY2siLCJhcmdzIiwic2V0UmVmIiwidXNlRm9ya1JlZiIsInJlZkEiLCJyZWZCIiwicmVmVmFsdWUiLCJ1c2VMb3NlRm9jdXMiLCJmb2N1c2VkIiwib25Gb2N1cyIsIm9uQmx1ciIsInVzZVJUTCIsImlzUlRMIiwic2V0SXNSVEwiLCJkb2N1bWVudEVsZW1lbnQiLCJkaXJlY3Rpb24iLCJ1c2VTZW5zb3JzIiwic3Vic2NyaWJlcnMiLCJub3RpZnlTdWJzY3JpYmVycyIsImlzUHJvcGFnYXRpb25TdG9wcGVkIiwicmVnaXN0ZXJTZW5zb3JzIiwib25Qb2ludGVyTW92ZSIsIm9uUG9pbnRlclVwIiwib25Qb2ludGVyTGVhdmUiLCJvblBvaW50ZXJDYW5jZWwiLCJvbktleVVwIiwic3Vic2NyaWJlU2Vuc29ycyIsInVuc2hpZnQiLCJsaXN0ZW5lcnMiLCJlbCIsInVzZVRocm90dGxlIiwibGFzdENhbGxiYWNrVGltZSIsImRlbGF5Q2FsbGJhY2siLCJleGVjdXRlQ2FsbGJhY2siLCJEYXRlIiwibm93Iiwic2xpZGVQcmVmaXgiLCJzbGlkZUltYWdlUHJlZml4IiwiSW1hZ2VTbGlkZSIsIm9mZnNldCIsInJlY3QiLCJvbkxvYWQiLCJvbkVycm9yIiwiX2QiLCJfZSIsIl9mIiwiX2ciLCJzdGF0dXMiLCJzZXRTdGF0dXMiLCJpbWFnZVJlZiIsImhhbmRsZUxvYWRpbmciLCJpbWciLCJkZWNvZGUiLCJQcm9taXNlIiwicmVzb2x2ZSIsImNhdGNoIiwidGhlbiIsInBhcmVudE5vZGUiLCJzZXRJbWFnZVJlZiIsImNvbXBsZXRlIiwiaGFuZGxlT25Mb2FkIiwiY3VycmVudFRhcmdldCIsImhhbmRsZU9uRXJyb3IiLCJjb3ZlciIsIm5vbkluZmluaXRlIiwiZmFsbGJhY2siLCJpc0Zpbml0ZSIsIm1heFdpZHRoIiwic3JjU2V0IiwiY29uY2F0IiwibmF0dXJhbFdpZHRoIiwibWF4SGVpZ2h0IiwibmF0dXJhbEhlaWdodCIsImRlZmF1bHRTdHlsZSIsInNvcnQiLCJhIiwiYiIsImVzdGltYXRlQWN0dWFsV2lkdGgiLCJNQVhfVkFMVUUiLCJzaXplcyIsImltYWdlUHJvcHNTdHlsZSIsImltYWdlUHJvcHNDbGFzc05hbWUiLCJyZXN0SW1hZ2VQcm9wcyIsImRyYWdnYWJsZSIsImFsdCIsImljb25Mb2FkaW5nIiwiaWNvbkVycm9yIiwiTGlnaHRib3hSb290IiwiU3dpcGVTdGF0ZSIsInVzZVBvaW50ZXJFdmVudHMiLCJHZXN0dXJlIiwiU1dJUEVfVEhSRVNIT0xEIiwidXNlUG9pbnRlclN3aXBlIiwiaXNTd2lwZVZhbGlkIiwiY29udGFpbmVyV2lkdGgiLCJzd2lwZUFuaW1hdGlvbkR1cmF0aW9uIiwib25Td2lwZVN0YXJ0Iiwib25Td2lwZVByb2dyZXNzIiwib25Td2lwZUZpbmlzaCIsIm9uU3dpcGVDYW5jZWwiLCJwdWxsVXBFbmFibGVkIiwicHVsbERvd25FbmFibGVkIiwib25QdWxsU3RhcnQiLCJvblB1bGxQcm9ncmVzcyIsIm9uUHVsbEZpbmlzaCIsIm9uUHVsbENhbmNlbCIsInBvaW50ZXJzIiwiYWN0aXZlUG9pbnRlciIsInN0YXJ0VGltZSIsImdlc3R1cmUiLCJOT05FIiwiY2xlYXJQb2ludGVyIiwicG9pbnRlcklkIiwiY3VycmVudFBvaW50ZXJzIiwicCIsImFkZFBvaW50ZXIiLCJwZXJzaXN0IiwiZXhjZWVkc1B1bGxUaHJlc2hvbGQiLCJ0aHJlc2hvbGQiLCJmaW5kIiwiY3VycmVudE9mZnNldCIsIlNXSVBFIiwiYWJzIiwiUFVMTCIsInBvaW50ZXIiLCJpc0N1cnJlbnRQb2ludGVyIiwiZGVsdGFYIiwiY2xpZW50WCIsImRlbHRhWSIsImNsaWVudFkiLCJzdGFydEdlc3R1cmUiLCJuZXdHZXN0dXJlIiwidXNlUHJldmVudFdoZWVsRGVmYXVsdHMiLCJob3Jpem9udGFsIiwiY3RybEtleSIsInByZXZlbnREZWZhdWx0IiwicGFzc2l2ZSIsInVzZVdoZWVsU3dpcGUiLCJzd2lwZVN0YXRlIiwiaW50ZW50IiwiaW50ZW50Q2xlYW51cCIsInJlc2V0Q2xlYW51cCIsIndoZWVsSW5lcnRpYSIsIndoZWVsSW5lcnRpYUNsZWFudXAiLCJjYW5jZWxTd2lwZUludGVudENsZWFudXAiLCJjYW5jZWxTd2lwZVJlc2V0Q2xlYW51cCIsImhhbmRsZUNsZWFudXAiLCJoYW5kbGVDYW5jZWxTd2lwZSIsImN1cnJlbnRTd2lwZU9mZnNldCIsInNldFdoZWVsSW5lcnRpYSIsImluZXJ0aWEiLCJjdXJyZW50U3dpcGVJbnRlbnQiLCJuZXdTd2lwZU9mZnNldCIsInNpZ24iLCJjc3NDb250YWluZXJQcmVmaXgiLCJDb250cm9sbGVyQ29udGV4dCIsInVzZUNvbnRyb2xsZXIiLCJDb250cm9sbGVyIiwidG9vbGJhcldpZHRoIiwic2V0VG9vbGJhcldpZHRoIiwic2V0U3dpcGVTdGF0ZSIsInN3aXBlT2Zmc2V0IiwicHVsbE9mZnNldCIsInB1bGxPcGFjaXR5IiwiY2xlYW51cEFuaW1hdGlvbkluY3JlbWVudCIsImNsZWFudXBTd2lwZU9mZnNldCIsImNsZWFudXBQdWxsT2Zmc2V0IiwiaGFuZGxlQ29udGFpbmVyUmVmIiwiY2Fyb3VzZWxSZWYiLCJzZXRDYXJvdXNlbFJlZiIsInJ0bCIsImdldExpZ2h0Ym94UHJvcHMiLCJnZXRMaWdodGJveFN0YXRlIiwicHJldiIsInBhcmFtcyIsIm5leHQiLCJzZXRTd2lwZU9mZnNldCIsInNldFByb3BlcnR5Iiwic2V0UHVsbE9mZnNldCIsIm1pbk9wYWNpdHkiLCJvZmZzZXRWYWx1ZSIsInByZXBhcmVQdWxsQW5pbWF0aW9uIiwidHJhbnNsYXRlIiwib3BhY2l0eSIsInB1bGwiLCJBTklNQVRJT04iLCJwYXJzZWRTcGFjaW5nIiwic3BhY2luZ1ZhbHVlIiwic3dpcGVEdXJhdGlvbiIsInN3aXBlRWFzaW5nIiwiY291bnQiLCJuZXdTd2lwZVN0YXRlIiwibmV3U3dpcGVBbmltYXRpb25EdXJhdGlvbiIsImVsYXBzZWRUaW1lIiwiZXhwZWN0ZWRUaW1lIiwic3dpcGVQYXJhbXMiLCJwdWxsUGFyYW1zIiwiZm9jdXNPbk1vdW50IiwicXVlcnlTZWxlY3RvciIsIm9uVmlld0NhbGxiYWNrIiwidmlldyIsInNsaWRlUmVjdCIsInVzZUltcGVyYXRpdmVIYW5kbGUiLCJjb250YWluZXIiLCJyb2xlIiwidGFiSW5kZXgiLCJjb250cm9scyIsIkNvbnRyb2xsZXJNb2R1bGUiLCJjc3NQcmVmaXgkMiIsImNzc1NsaWRlUHJlZml4IiwiQ2Fyb3VzZWxTbGlkZSIsImNsaWNrIiwib2Zmc2NyZWVuIiwiYWN0aXZlRWxlbWVudCIsInJlbmRlclNsaWRlIiwicmVuZGVyZWQiLCJzbGlkZUhlYWRlciIsInNsaWRlQ29udGFpbmVyIiwic2xpZGVGb290ZXIiLCJoYW5kbGVCYWNrZHJvcENsaWNrIiwiSFRNTEVsZW1lbnQiLCJjbGFzc0xpc3QiLCJQbGFjZWhvbGRlciIsIkNhcm91c2VsIiwiaXRlbXMiLCJwbGFjZWhvbGRlciIsIkNhcm91c2VsTW9kdWxlIiwidXNlTmF2aWdhdGlvblN0YXRlIiwicHJldkRpc2FibGVkIiwibmV4dERpc2FibGVkIiwidXNlS2V5Ym9hcmROYXZpZ2F0aW9uIiwidGhyb3R0bGUiLCJoYW5kbGVLZXlEb3duIiwiTmF2aWdhdGlvbkJ1dHRvbiIsIk5hdmlnYXRpb24iLCJidXR0b25QcmV2IiwiYnV0dG9uTmV4dCIsImljb25QcmV2IiwiaWNvbk5leHQiLCJuYXZpZ2F0aW9uUHJldiIsIm5hdmlnYXRpb25OZXh0IiwiTmF2aWdhdGlvbk1vZHVsZSIsIm5vU2Nyb2xsUGFkZGluZyIsImlzSFRNTEVsZW1lbnQiLCJlbGVtZW50IiwicGFkU2Nyb2xsYmFyIiwicHJvcGVydHkiLCJjb21wdXRlZFZhbHVlIiwib3JpZ2luYWxWYWx1ZSIsImdldFByb3BlcnR5VmFsdWUiLCJyZW1vdmVQcm9wZXJ0eSIsIk5vU2Nyb2xsIiwib3duZXJXaW5kb3ciLCJib2R5Iiwic2Nyb2xsYmFyIiwiaW5uZXJXaWR0aCIsImVsZW1lbnRzIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJpIiwiYWRkIiwiY2xlYW4iLCJOb1Njcm9sbE1vZHVsZSIsImNzc1ByZWZpeCQxIiwic2V0QXR0cmlidXRlIiwiYXR0cmlidXRlIiwicHJldmlvdXNWYWx1ZSIsImdldEF0dHJpYnV0ZSIsInJlbW92ZUF0dHJpYnV0ZSIsIlBvcnRhbCIsIm1vdW50ZWQiLCJzZXRNb3VudGVkIiwidmlzaWJsZSIsInNldFZpc2libGUiLCJyZXN0b3JlRm9jdXMiLCJhbmltYXRpb25EdXJhdGlvbiIsImhhbmRsZUNsb3NlIiwiZXhpdGluZyIsImV4aXRlZCIsImhhbmRsZUVudGVyIiwic2Nyb2xsVG9wIiwiZW50ZXJpbmciLCJpbmRleE9mIiwidGFnTmFtZSIsImVudGVyZWQiLCJoYW5kbGVSZWYiLCJyZWxhdGVkVGFyZ2V0IiwiUG9ydGFsTW9kdWxlIiwiUm9vdCIsIlJvb3RNb2R1bGUiLCJjc3NQcmVmaXgiLCJUb29sYmFyIiwiYnV0dG9uQ2xvc2UiLCJpY29uQ2xvc2UiLCJyZW5kZXJDbG9zZUJ1dHRvbiIsIlRvb2xiYXJNb2R1bGUiLCJyZW5kZXJOb2RlIiwiY2hpbGQiLCJtZXJnZUFuaW1hdGlvbiIsImRlZmF1bHRBbmltYXRpb24iLCJkZWZhdWx0QW5pbWF0aW9uRWFzaW5nIiwicmVzdERlZmF1bHRBbmltYXRpb24iLCJyZXN0QW5pbWF0aW9uIiwiTGlnaHRib3giLCJyZXN0UHJvcHMiLCJkZWZhdWx0Q2Fyb3VzZWwiLCJkZWZhdWx0UmVuZGVyIiwiZGVmYXVsdFRvb2xiYXIiLCJkZWZhdWx0Q29udHJvbGxlciIsImRlZmF1bHROb1Njcm9sbCIsImRlZmF1bHRPbiIsImRlZmF1bHRTbGlkZXMiLCJkZWZhdWx0SW5kZXgiLCJkZWZhdWx0UGx1Z2lucyIsInJlc3REZWZhdWx0UHJvcHMiLCJkZWZhdWx0Il0sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/yet-another-react-lightbox/dist/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/yet-another-react-lightbox/dist/plugins/fullscreen/index.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/yet-another-react-lightbox/dist/plugins/fullscreen/index.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Fullscreen)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var _index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../index.js */ \"(ssr)/./node_modules/yet-another-react-lightbox/dist/index.js\");\n/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../types.js */ \"(ssr)/./node_modules/yet-another-react-lightbox/dist/types.js\");\n\n\n\n\nconst defaultFullscreenProps = {\n    auto: false,\n    ref: null,\n};\nconst resolveFullscreenProps = (fullscreen) => ({\n    ...defaultFullscreenProps,\n    ...fullscreen,\n});\n\nconst FullscreenContext = react__WEBPACK_IMPORTED_MODULE_0__.createContext(null);\nconst useFullscreen = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.makeUseContext)(\"useFullscreen\", \"FullscreenContext\", FullscreenContext);\nfunction FullscreenContextProvider({ fullscreen: fullscreenProps, on, children }) {\n    const { auto, ref } = resolveFullscreenProps(fullscreenProps);\n    const containerRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n    const [disabled, setDisabled] = react__WEBPACK_IMPORTED_MODULE_0__.useState();\n    const [fullscreen, setFullscreen] = react__WEBPACK_IMPORTED_MODULE_0__.useState(false);\n    const wasFullscreen = react__WEBPACK_IMPORTED_MODULE_0__.useRef(false);\n    const { getOwnerDocument } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useDocumentContext)();\n    (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useLayoutEffect)(() => {\n        var _a, _b, _c, _d;\n        const ownerDocument = getOwnerDocument();\n        setDisabled(!((_d = (_c = (_b = (_a = ownerDocument.fullscreenEnabled) !== null && _a !== void 0 ? _a : ownerDocument.webkitFullscreenEnabled) !== null && _b !== void 0 ? _b : ownerDocument.mozFullScreenEnabled) !== null && _c !== void 0 ? _c : ownerDocument.msFullscreenEnabled) !== null && _d !== void 0 ? _d : false));\n    }, [getOwnerDocument]);\n    const getFullscreenElement = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(() => {\n        var _a;\n        const ownerDocument = getOwnerDocument();\n        const fullscreenElement = ownerDocument.fullscreenElement ||\n            ownerDocument.webkitFullscreenElement ||\n            ownerDocument.mozFullScreenElement ||\n            ownerDocument.msFullscreenElement;\n        return ((_a = fullscreenElement === null || fullscreenElement === void 0 ? void 0 : fullscreenElement.shadowRoot) === null || _a === void 0 ? void 0 : _a.fullscreenElement) || fullscreenElement;\n    }, [getOwnerDocument]);\n    const enter = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(() => {\n        const container = containerRef.current;\n        try {\n            if (container.requestFullscreen) {\n                container.requestFullscreen().catch(() => { });\n            }\n            else if (container.webkitRequestFullscreen) {\n                container.webkitRequestFullscreen();\n            }\n            else if (container.mozRequestFullScreen) {\n                container.mozRequestFullScreen();\n            }\n            else if (container.msRequestFullscreen) {\n                container.msRequestFullscreen();\n            }\n        }\n        catch (err) {\n        }\n    }, []);\n    const exit = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(() => {\n        if (!getFullscreenElement())\n            return;\n        const ownerDocument = getOwnerDocument();\n        try {\n            if (ownerDocument.exitFullscreen) {\n                ownerDocument.exitFullscreen().catch(() => { });\n            }\n            else if (ownerDocument.webkitExitFullscreen) {\n                ownerDocument.webkitExitFullscreen();\n            }\n            else if (ownerDocument.mozCancelFullScreen) {\n                ownerDocument.mozCancelFullScreen();\n            }\n            else if (ownerDocument.msExitFullscreen) {\n                ownerDocument.msExitFullscreen();\n            }\n        }\n        catch (err) {\n        }\n    }, [getFullscreenElement, getOwnerDocument]);\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n        const ownerDocument = getOwnerDocument();\n        const listener = () => {\n            setFullscreen(getFullscreenElement() === containerRef.current);\n        };\n        return (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cleanup)(...[\"fullscreenchange\", \"webkitfullscreenchange\", \"mozfullscreenchange\", \"MSFullscreenChange\"].map((event) => {\n            ownerDocument.addEventListener(event, listener);\n            return () => ownerDocument.removeEventListener(event, listener);\n        }));\n    }, [getFullscreenElement, getOwnerDocument]);\n    const onEnterFullscreen = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useEventCallback)(() => { var _a; return (_a = on.enterFullscreen) === null || _a === void 0 ? void 0 : _a.call(on); });\n    const onExitFullscreen = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useEventCallback)(() => { var _a; return (_a = on.exitFullscreen) === null || _a === void 0 ? void 0 : _a.call(on); });\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n        if (fullscreen) {\n            wasFullscreen.current = true;\n        }\n        if (wasFullscreen.current) {\n            (fullscreen ? onEnterFullscreen : onExitFullscreen)();\n        }\n    }, [fullscreen, onEnterFullscreen, onExitFullscreen]);\n    const handleAutoFullscreen = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useEventCallback)(() => {\n        var _a;\n        (_a = (auto ? enter : null)) === null || _a === void 0 ? void 0 : _a();\n        return exit;\n    });\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(handleAutoFullscreen, [handleAutoFullscreen]);\n    const context = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => ({ fullscreen, disabled, enter, exit }), [fullscreen, disabled, enter, exit]);\n    react__WEBPACK_IMPORTED_MODULE_0__.useImperativeHandle(ref, () => context, [context]);\n    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { ref: containerRef, className: (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.clsx)((0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssClass)(_types_js__WEBPACK_IMPORTED_MODULE_2__.PLUGIN_FULLSCREEN), (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssClass)(_types_js__WEBPACK_IMPORTED_MODULE_2__.CLASS_FULLSIZE)) },\n        react__WEBPACK_IMPORTED_MODULE_0__.createElement(FullscreenContext.Provider, { value: context }, children)));\n}\n\nconst EnterFullscreenIcon = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.createIcon)(\"EnterFullscreen\", react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z\" }));\nconst ExitFullscreenIcon = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.createIcon)(\"ExitFullscreen\", react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z\" }));\nfunction FullscreenButton() {\n    var _a;\n    const { fullscreen, disabled, enter, exit } = useFullscreen();\n    const { render } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useLightboxProps)();\n    if (disabled)\n        return null;\n    if (render.buttonFullscreen) {\n        return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, (_a = render.buttonFullscreen) === null || _a === void 0 ? void 0 : _a.call(render, { fullscreen, disabled, enter, exit }));\n    }\n    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_index_js__WEBPACK_IMPORTED_MODULE_1__.IconButton, { disabled: disabled, label: fullscreen ? \"Exit Fullscreen\" : \"Enter Fullscreen\", icon: fullscreen ? ExitFullscreenIcon : EnterFullscreenIcon, renderIcon: fullscreen ? render.iconExitFullscreen : render.iconEnterFullscreen, onClick: fullscreen ? exit : enter }));\n}\n\nfunction Fullscreen({ augment, contains, addParent }) {\n    augment(({ fullscreen, toolbar, ...restProps }) => ({\n        toolbar: (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.addToolbarButton)(toolbar, _types_js__WEBPACK_IMPORTED_MODULE_2__.PLUGIN_FULLSCREEN, react__WEBPACK_IMPORTED_MODULE_0__.createElement(FullscreenButton, null)),\n        fullscreen: resolveFullscreenProps(fullscreen),\n        ...restProps,\n    }));\n    addParent(contains(_types_js__WEBPACK_IMPORTED_MODULE_2__.PLUGIN_THUMBNAILS) ? _types_js__WEBPACK_IMPORTED_MODULE_2__.PLUGIN_THUMBNAILS : _types_js__WEBPACK_IMPORTED_MODULE_2__.MODULE_CONTROLLER, (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.createModule)(_types_js__WEBPACK_IMPORTED_MODULE_2__.PLUGIN_FULLSCREEN, FullscreenContextProvider));\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMveWV0LWFub3RoZXItcmVhY3QtbGlnaHRib3gvZGlzdC9wbHVnaW5zL2Z1bGxzY3JlZW4vaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUErQjtBQUMySztBQUNqRzs7QUFFekc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVELDBCQUEwQixnREFBbUI7QUFDN0Msc0JBQXNCLHlEQUFjO0FBQ3BDLHFDQUFxQywyQ0FBMkM7QUFDaEYsWUFBWSxZQUFZO0FBQ3hCLHlCQUF5Qix5Q0FBWTtBQUNyQyxvQ0FBb0MsMkNBQWM7QUFDbEQsd0NBQXdDLDJDQUFjO0FBQ3RELDBCQUEwQix5Q0FBWTtBQUN0QyxZQUFZLG1CQUFtQixFQUFFLDZEQUFrQjtBQUNuRCxJQUFJLDBEQUFlO0FBQ25CO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxpQ0FBaUMsOENBQWlCO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLGtCQUFrQiw4Q0FBaUI7QUFDbkM7QUFDQTtBQUNBO0FBQ0EsNkRBQTZEO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLGlCQUFpQiw4Q0FBaUI7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhEQUE4RDtBQUM5RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxJQUFJLDRDQUFlO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxrREFBTztBQUN0QjtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTCw4QkFBOEIsMkRBQWdCLFNBQVMsUUFBUSxvRkFBb0Y7QUFDbkosNkJBQTZCLDJEQUFnQixTQUFTLFFBQVEsbUZBQW1GO0FBQ2pKLElBQUksNENBQWU7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLGlDQUFpQywyREFBZ0I7QUFDakQ7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLElBQUksNENBQWU7QUFDbkIsb0JBQW9CLDBDQUFhLFVBQVUsbUNBQW1DO0FBQzlFLElBQUksc0RBQXlCO0FBQzdCLFlBQVksZ0RBQW1CLFVBQVUsOEJBQThCLCtDQUFJLENBQUMsbURBQVEsQ0FBQyx3REFBaUIsR0FBRyxtREFBUSxDQUFDLHFEQUFjLElBQUk7QUFDcEksUUFBUSxnREFBbUIsK0JBQStCLGdCQUFnQjtBQUMxRTs7QUFFQSw0QkFBNEIscURBQVUsb0JBQW9CLGdEQUFtQixXQUFXLHFGQUFxRjtBQUM3SywyQkFBMkIscURBQVUsbUJBQW1CLGdEQUFtQixXQUFXLG9GQUFvRjtBQUMxSztBQUNBO0FBQ0EsWUFBWSxvQ0FBb0M7QUFDaEQsWUFBWSxTQUFTLEVBQUUsMkRBQWdCO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBLGVBQWUsZ0RBQW1CLENBQUMsMkNBQWMsOEZBQThGLG1DQUFtQztBQUNsTDtBQUNBLFlBQVksZ0RBQW1CLENBQUMsaURBQVUsSUFBSSxrUUFBa1E7QUFDaFQ7O0FBRUEsc0JBQXNCLDhCQUE4QjtBQUNwRCxlQUFlLG1DQUFtQztBQUNsRCxpQkFBaUIsMkRBQWdCLFVBQVUsd0RBQWlCLEVBQUUsZ0RBQW1CO0FBQ2pGO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsdUJBQXVCLHdEQUFpQixJQUFJLHdEQUFpQixHQUFHLHdEQUFpQixFQUFFLHVEQUFZLENBQUMsd0RBQWlCO0FBQ2pIOztBQUVpQyIsInNvdXJjZXMiOlsiRTpcXENvZGluZ1xcU29oYW5TaXJcXFlQX1ZFUlNJT05fMlxcZnJvbnRlbmRcXG5vZGVfbW9kdWxlc1xceWV0LWFub3RoZXItcmVhY3QtbGlnaHRib3hcXGRpc3RcXHBsdWdpbnNcXGZ1bGxzY3JlZW5cXGluZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IG1ha2VVc2VDb250ZXh0LCB1c2VEb2N1bWVudENvbnRleHQsIHVzZUxheW91dEVmZmVjdCwgY2xlYW51cCwgdXNlRXZlbnRDYWxsYmFjaywgY2xzeCwgY3NzQ2xhc3MsIGNyZWF0ZUljb24sIHVzZUxpZ2h0Ym94UHJvcHMsIEljb25CdXR0b24sIGFkZFRvb2xiYXJCdXR0b24sIGNyZWF0ZU1vZHVsZSB9IGZyb20gJy4uLy4uL2luZGV4LmpzJztcbmltcG9ydCB7IFBMVUdJTl9GVUxMU0NSRUVOLCBDTEFTU19GVUxMU0laRSwgUExVR0lOX1RIVU1CTkFJTFMsIE1PRFVMRV9DT05UUk9MTEVSIH0gZnJvbSAnLi4vLi4vdHlwZXMuanMnO1xuXG5jb25zdCBkZWZhdWx0RnVsbHNjcmVlblByb3BzID0ge1xuICAgIGF1dG86IGZhbHNlLFxuICAgIHJlZjogbnVsbCxcbn07XG5jb25zdCByZXNvbHZlRnVsbHNjcmVlblByb3BzID0gKGZ1bGxzY3JlZW4pID0+ICh7XG4gICAgLi4uZGVmYXVsdEZ1bGxzY3JlZW5Qcm9wcyxcbiAgICAuLi5mdWxsc2NyZWVuLFxufSk7XG5cbmNvbnN0IEZ1bGxzY3JlZW5Db250ZXh0ID0gUmVhY3QuY3JlYXRlQ29udGV4dChudWxsKTtcbmNvbnN0IHVzZUZ1bGxzY3JlZW4gPSBtYWtlVXNlQ29udGV4dChcInVzZUZ1bGxzY3JlZW5cIiwgXCJGdWxsc2NyZWVuQ29udGV4dFwiLCBGdWxsc2NyZWVuQ29udGV4dCk7XG5mdW5jdGlvbiBGdWxsc2NyZWVuQ29udGV4dFByb3ZpZGVyKHsgZnVsbHNjcmVlbjogZnVsbHNjcmVlblByb3BzLCBvbiwgY2hpbGRyZW4gfSkge1xuICAgIGNvbnN0IHsgYXV0bywgcmVmIH0gPSByZXNvbHZlRnVsbHNjcmVlblByb3BzKGZ1bGxzY3JlZW5Qcm9wcyk7XG4gICAgY29uc3QgY29udGFpbmVyUmVmID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICAgIGNvbnN0IFtkaXNhYmxlZCwgc2V0RGlzYWJsZWRdID0gUmVhY3QudXNlU3RhdGUoKTtcbiAgICBjb25zdCBbZnVsbHNjcmVlbiwgc2V0RnVsbHNjcmVlbl0gPSBSZWFjdC51c2VTdGF0ZShmYWxzZSk7XG4gICAgY29uc3Qgd2FzRnVsbHNjcmVlbiA9IFJlYWN0LnVzZVJlZihmYWxzZSk7XG4gICAgY29uc3QgeyBnZXRPd25lckRvY3VtZW50IH0gPSB1c2VEb2N1bWVudENvbnRleHQoKTtcbiAgICB1c2VMYXlvdXRFZmZlY3QoKCkgPT4ge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYywgX2Q7XG4gICAgICAgIGNvbnN0IG93bmVyRG9jdW1lbnQgPSBnZXRPd25lckRvY3VtZW50KCk7XG4gICAgICAgIHNldERpc2FibGVkKCEoKF9kID0gKF9jID0gKF9iID0gKF9hID0gb3duZXJEb2N1bWVudC5mdWxsc2NyZWVuRW5hYmxlZCkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogb3duZXJEb2N1bWVudC53ZWJraXRGdWxsc2NyZWVuRW5hYmxlZCkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogb3duZXJEb2N1bWVudC5tb3pGdWxsU2NyZWVuRW5hYmxlZCkgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDogb3duZXJEb2N1bWVudC5tc0Z1bGxzY3JlZW5FbmFibGVkKSAhPT0gbnVsbCAmJiBfZCAhPT0gdm9pZCAwID8gX2QgOiBmYWxzZSkpO1xuICAgIH0sIFtnZXRPd25lckRvY3VtZW50XSk7XG4gICAgY29uc3QgZ2V0RnVsbHNjcmVlbkVsZW1lbnQgPSBSZWFjdC51c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgY29uc3Qgb3duZXJEb2N1bWVudCA9IGdldE93bmVyRG9jdW1lbnQoKTtcbiAgICAgICAgY29uc3QgZnVsbHNjcmVlbkVsZW1lbnQgPSBvd25lckRvY3VtZW50LmZ1bGxzY3JlZW5FbGVtZW50IHx8XG4gICAgICAgICAgICBvd25lckRvY3VtZW50LndlYmtpdEZ1bGxzY3JlZW5FbGVtZW50IHx8XG4gICAgICAgICAgICBvd25lckRvY3VtZW50Lm1vekZ1bGxTY3JlZW5FbGVtZW50IHx8XG4gICAgICAgICAgICBvd25lckRvY3VtZW50Lm1zRnVsbHNjcmVlbkVsZW1lbnQ7XG4gICAgICAgIHJldHVybiAoKF9hID0gZnVsbHNjcmVlbkVsZW1lbnQgPT09IG51bGwgfHwgZnVsbHNjcmVlbkVsZW1lbnQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGZ1bGxzY3JlZW5FbGVtZW50LnNoYWRvd1Jvb3QpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5mdWxsc2NyZWVuRWxlbWVudCkgfHwgZnVsbHNjcmVlbkVsZW1lbnQ7XG4gICAgfSwgW2dldE93bmVyRG9jdW1lbnRdKTtcbiAgICBjb25zdCBlbnRlciA9IFJlYWN0LnVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gY29udGFpbmVyUmVmLmN1cnJlbnQ7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAoY29udGFpbmVyLnJlcXVlc3RGdWxsc2NyZWVuKSB7XG4gICAgICAgICAgICAgICAgY29udGFpbmVyLnJlcXVlc3RGdWxsc2NyZWVuKCkuY2F0Y2goKCkgPT4geyB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNvbnRhaW5lci53ZWJraXRSZXF1ZXN0RnVsbHNjcmVlbikge1xuICAgICAgICAgICAgICAgIGNvbnRhaW5lci53ZWJraXRSZXF1ZXN0RnVsbHNjcmVlbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY29udGFpbmVyLm1velJlcXVlc3RGdWxsU2NyZWVuKSB7XG4gICAgICAgICAgICAgICAgY29udGFpbmVyLm1velJlcXVlc3RGdWxsU2NyZWVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjb250YWluZXIubXNSZXF1ZXN0RnVsbHNjcmVlbikge1xuICAgICAgICAgICAgICAgIGNvbnRhaW5lci5tc1JlcXVlc3RGdWxsc2NyZWVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICB9XG4gICAgfSwgW10pO1xuICAgIGNvbnN0IGV4aXQgPSBSZWFjdC51c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgICAgIGlmICghZ2V0RnVsbHNjcmVlbkVsZW1lbnQoKSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3Qgb3duZXJEb2N1bWVudCA9IGdldE93bmVyRG9jdW1lbnQoKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmIChvd25lckRvY3VtZW50LmV4aXRGdWxsc2NyZWVuKSB7XG4gICAgICAgICAgICAgICAgb3duZXJEb2N1bWVudC5leGl0RnVsbHNjcmVlbigpLmNhdGNoKCgpID0+IHsgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChvd25lckRvY3VtZW50LndlYmtpdEV4aXRGdWxsc2NyZWVuKSB7XG4gICAgICAgICAgICAgICAgb3duZXJEb2N1bWVudC53ZWJraXRFeGl0RnVsbHNjcmVlbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAob3duZXJEb2N1bWVudC5tb3pDYW5jZWxGdWxsU2NyZWVuKSB7XG4gICAgICAgICAgICAgICAgb3duZXJEb2N1bWVudC5tb3pDYW5jZWxGdWxsU2NyZWVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChvd25lckRvY3VtZW50Lm1zRXhpdEZ1bGxzY3JlZW4pIHtcbiAgICAgICAgICAgICAgICBvd25lckRvY3VtZW50Lm1zRXhpdEZ1bGxzY3JlZW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgIH1cbiAgICB9LCBbZ2V0RnVsbHNjcmVlbkVsZW1lbnQsIGdldE93bmVyRG9jdW1lbnRdKTtcbiAgICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBjb25zdCBvd25lckRvY3VtZW50ID0gZ2V0T3duZXJEb2N1bWVudCgpO1xuICAgICAgICBjb25zdCBsaXN0ZW5lciA9ICgpID0+IHtcbiAgICAgICAgICAgIHNldEZ1bGxzY3JlZW4oZ2V0RnVsbHNjcmVlbkVsZW1lbnQoKSA9PT0gY29udGFpbmVyUmVmLmN1cnJlbnQpO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gY2xlYW51cCguLi5bXCJmdWxsc2NyZWVuY2hhbmdlXCIsIFwid2Via2l0ZnVsbHNjcmVlbmNoYW5nZVwiLCBcIm1vemZ1bGxzY3JlZW5jaGFuZ2VcIiwgXCJNU0Z1bGxzY3JlZW5DaGFuZ2VcIl0ubWFwKChldmVudCkgPT4ge1xuICAgICAgICAgICAgb3duZXJEb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBsaXN0ZW5lcik7XG4gICAgICAgICAgICByZXR1cm4gKCkgPT4gb3duZXJEb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50LCBsaXN0ZW5lcik7XG4gICAgICAgIH0pKTtcbiAgICB9LCBbZ2V0RnVsbHNjcmVlbkVsZW1lbnQsIGdldE93bmVyRG9jdW1lbnRdKTtcbiAgICBjb25zdCBvbkVudGVyRnVsbHNjcmVlbiA9IHVzZUV2ZW50Q2FsbGJhY2soKCkgPT4geyB2YXIgX2E7IHJldHVybiAoX2EgPSBvbi5lbnRlckZ1bGxzY3JlZW4pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKG9uKTsgfSk7XG4gICAgY29uc3Qgb25FeGl0RnVsbHNjcmVlbiA9IHVzZUV2ZW50Q2FsbGJhY2soKCkgPT4geyB2YXIgX2E7IHJldHVybiAoX2EgPSBvbi5leGl0RnVsbHNjcmVlbikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwob24pOyB9KTtcbiAgICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoZnVsbHNjcmVlbikge1xuICAgICAgICAgICAgd2FzRnVsbHNjcmVlbi5jdXJyZW50ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAod2FzRnVsbHNjcmVlbi5jdXJyZW50KSB7XG4gICAgICAgICAgICAoZnVsbHNjcmVlbiA/IG9uRW50ZXJGdWxsc2NyZWVuIDogb25FeGl0RnVsbHNjcmVlbikoKTtcbiAgICAgICAgfVxuICAgIH0sIFtmdWxsc2NyZWVuLCBvbkVudGVyRnVsbHNjcmVlbiwgb25FeGl0RnVsbHNjcmVlbl0pO1xuICAgIGNvbnN0IGhhbmRsZUF1dG9GdWxsc2NyZWVuID0gdXNlRXZlbnRDYWxsYmFjaygoKSA9PiB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgKF9hID0gKGF1dG8gPyBlbnRlciA6IG51bGwpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EoKTtcbiAgICAgICAgcmV0dXJuIGV4aXQ7XG4gICAgfSk7XG4gICAgUmVhY3QudXNlRWZmZWN0KGhhbmRsZUF1dG9GdWxsc2NyZWVuLCBbaGFuZGxlQXV0b0Z1bGxzY3JlZW5dKTtcbiAgICBjb25zdCBjb250ZXh0ID0gUmVhY3QudXNlTWVtbygoKSA9PiAoeyBmdWxsc2NyZWVuLCBkaXNhYmxlZCwgZW50ZXIsIGV4aXQgfSksIFtmdWxsc2NyZWVuLCBkaXNhYmxlZCwgZW50ZXIsIGV4aXRdKTtcbiAgICBSZWFjdC51c2VJbXBlcmF0aXZlSGFuZGxlKHJlZiwgKCkgPT4gY29udGV4dCwgW2NvbnRleHRdKTtcbiAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyByZWY6IGNvbnRhaW5lclJlZiwgY2xhc3NOYW1lOiBjbHN4KGNzc0NsYXNzKFBMVUdJTl9GVUxMU0NSRUVOKSwgY3NzQ2xhc3MoQ0xBU1NfRlVMTFNJWkUpKSB9LFxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KEZ1bGxzY3JlZW5Db250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlOiBjb250ZXh0IH0sIGNoaWxkcmVuKSkpO1xufVxuXG5jb25zdCBFbnRlckZ1bGxzY3JlZW5JY29uID0gY3JlYXRlSWNvbihcIkVudGVyRnVsbHNjcmVlblwiLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7IGQ6IFwiTTcgMTRINXY1aDV2LTJIN3YtM3ptLTItNGgyVjdoM1Y1SDV2NXptMTIgN2gtM3YyaDV2LTVoLTJ2M3pNMTQgNXYyaDN2M2gyVjVoLTV6XCIgfSkpO1xuY29uc3QgRXhpdEZ1bGxzY3JlZW5JY29uID0gY3JlYXRlSWNvbihcIkV4aXRGdWxsc2NyZWVuXCIsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHsgZDogXCJNNSAxNmgzdjNoMnYtNUg1djJ6bTMtOEg1djJoNVY1SDh2M3ptNiAxMWgydi0zaDN2LTJoLTV2NXptMi0xMVY1aC0ydjVoNVY4aC0zelwiIH0pKTtcbmZ1bmN0aW9uIEZ1bGxzY3JlZW5CdXR0b24oKSB7XG4gICAgdmFyIF9hO1xuICAgIGNvbnN0IHsgZnVsbHNjcmVlbiwgZGlzYWJsZWQsIGVudGVyLCBleGl0IH0gPSB1c2VGdWxsc2NyZWVuKCk7XG4gICAgY29uc3QgeyByZW5kZXIgfSA9IHVzZUxpZ2h0Ym94UHJvcHMoKTtcbiAgICBpZiAoZGlzYWJsZWQpXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIGlmIChyZW5kZXIuYnV0dG9uRnVsbHNjcmVlbikge1xuICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChSZWFjdC5GcmFnbWVudCwgbnVsbCwgKF9hID0gcmVuZGVyLmJ1dHRvbkZ1bGxzY3JlZW4pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKHJlbmRlciwgeyBmdWxsc2NyZWVuLCBkaXNhYmxlZCwgZW50ZXIsIGV4aXQgfSkpO1xuICAgIH1cbiAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoSWNvbkJ1dHRvbiwgeyBkaXNhYmxlZDogZGlzYWJsZWQsIGxhYmVsOiBmdWxsc2NyZWVuID8gXCJFeGl0IEZ1bGxzY3JlZW5cIiA6IFwiRW50ZXIgRnVsbHNjcmVlblwiLCBpY29uOiBmdWxsc2NyZWVuID8gRXhpdEZ1bGxzY3JlZW5JY29uIDogRW50ZXJGdWxsc2NyZWVuSWNvbiwgcmVuZGVySWNvbjogZnVsbHNjcmVlbiA/IHJlbmRlci5pY29uRXhpdEZ1bGxzY3JlZW4gOiByZW5kZXIuaWNvbkVudGVyRnVsbHNjcmVlbiwgb25DbGljazogZnVsbHNjcmVlbiA/IGV4aXQgOiBlbnRlciB9KSk7XG59XG5cbmZ1bmN0aW9uIEZ1bGxzY3JlZW4oeyBhdWdtZW50LCBjb250YWlucywgYWRkUGFyZW50IH0pIHtcbiAgICBhdWdtZW50KCh7IGZ1bGxzY3JlZW4sIHRvb2xiYXIsIC4uLnJlc3RQcm9wcyB9KSA9PiAoe1xuICAgICAgICB0b29sYmFyOiBhZGRUb29sYmFyQnV0dG9uKHRvb2xiYXIsIFBMVUdJTl9GVUxMU0NSRUVOLCBSZWFjdC5jcmVhdGVFbGVtZW50KEZ1bGxzY3JlZW5CdXR0b24sIG51bGwpKSxcbiAgICAgICAgZnVsbHNjcmVlbjogcmVzb2x2ZUZ1bGxzY3JlZW5Qcm9wcyhmdWxsc2NyZWVuKSxcbiAgICAgICAgLi4ucmVzdFByb3BzLFxuICAgIH0pKTtcbiAgICBhZGRQYXJlbnQoY29udGFpbnMoUExVR0lOX1RIVU1CTkFJTFMpID8gUExVR0lOX1RIVU1CTkFJTFMgOiBNT0RVTEVfQ09OVFJPTExFUiwgY3JlYXRlTW9kdWxlKFBMVUdJTl9GVUxMU0NSRUVOLCBGdWxsc2NyZWVuQ29udGV4dFByb3ZpZGVyKSk7XG59XG5cbmV4cG9ydCB7IEZ1bGxzY3JlZW4gYXMgZGVmYXVsdCB9O1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/yet-another-react-lightbox/dist/plugins/fullscreen/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/yet-another-react-lightbox/dist/plugins/slideshow/index.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/yet-another-react-lightbox/dist/plugins/slideshow/index.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Slideshow)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var _index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../index.js */ \"(ssr)/./node_modules/yet-another-react-lightbox/dist/index.js\");\n/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../types.js */ \"(ssr)/./node_modules/yet-another-react-lightbox/dist/types.js\");\n\n\n\n\nconst defaultSlideshowProps = {\n    autoplay: false,\n    delay: 3000,\n    ref: null,\n};\nconst resolveSlideshowProps = (slideshow) => ({\n    ...defaultSlideshowProps,\n    ...slideshow,\n});\n\nconst SlideshowContext = react__WEBPACK_IMPORTED_MODULE_0__.createContext(null);\nconst useSlideshow = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.makeUseContext)(\"useSlideshow\", \"SlideshowContext\", SlideshowContext);\nfunction SlideshowContextProvider({ slideshow, carousel: { finite }, on, children }) {\n    const { autoplay, delay, ref } = resolveSlideshowProps(slideshow);\n    const wasPlaying = react__WEBPACK_IMPORTED_MODULE_0__.useRef(autoplay);\n    const [playing, setPlaying] = react__WEBPACK_IMPORTED_MODULE_0__.useState(autoplay);\n    const scheduler = react__WEBPACK_IMPORTED_MODULE_0__.useRef();\n    const slideStatus = react__WEBPACK_IMPORTED_MODULE_0__.useRef();\n    const { slides, currentIndex } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useLightboxState)();\n    const { setTimeout, clearTimeout } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useTimeouts)();\n    const { subscribe } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useEvents)();\n    const { next } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useController)();\n    const disabled = slides.length === 0 || (finite && currentIndex === slides.length - 1);\n    const play = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(() => {\n        if (!playing && !disabled) {\n            setPlaying(true);\n        }\n    }, [playing, disabled]);\n    const pause = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(() => {\n        if (playing) {\n            setPlaying(false);\n        }\n    }, [playing]);\n    const cancelScheduler = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(() => {\n        clearTimeout(scheduler.current);\n        scheduler.current = undefined;\n    }, [clearTimeout]);\n    const scheduleNextSlide = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useEventCallback)(() => {\n        cancelScheduler();\n        if (!playing ||\n            disabled ||\n            slideStatus.current === _types_js__WEBPACK_IMPORTED_MODULE_2__.SLIDE_STATUS_LOADING ||\n            slideStatus.current === _types_js__WEBPACK_IMPORTED_MODULE_2__.SLIDE_STATUS_PLAYING) {\n            return;\n        }\n        scheduler.current = setTimeout(() => {\n            if (playing) {\n                slideStatus.current = undefined;\n                next();\n            }\n        }, delay);\n    });\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(scheduleNextSlide, [currentIndex, playing, scheduleNextSlide]);\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n        if (playing && disabled) {\n            setPlaying(false);\n        }\n    }, [currentIndex, playing, disabled]);\n    const onSlideshowStart = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useEventCallback)(() => { var _a; return (_a = on.slideshowStart) === null || _a === void 0 ? void 0 : _a.call(on); });\n    const onSlideshowStop = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useEventCallback)(() => { var _a; return (_a = on.slideshowStop) === null || _a === void 0 ? void 0 : _a.call(on); });\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n        if (playing) {\n            onSlideshowStart();\n        }\n        else if (wasPlaying.current) {\n            onSlideshowStop();\n        }\n        wasPlaying.current = playing;\n    }, [playing, onSlideshowStart, onSlideshowStop]);\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cleanup)(cancelScheduler, subscribe(_types_js__WEBPACK_IMPORTED_MODULE_2__.ACTIVE_SLIDE_LOADING, () => {\n        slideStatus.current = _types_js__WEBPACK_IMPORTED_MODULE_2__.SLIDE_STATUS_LOADING;\n        cancelScheduler();\n    }), subscribe(_types_js__WEBPACK_IMPORTED_MODULE_2__.ACTIVE_SLIDE_PLAYING, () => {\n        slideStatus.current = _types_js__WEBPACK_IMPORTED_MODULE_2__.SLIDE_STATUS_PLAYING;\n        cancelScheduler();\n    }), subscribe(_types_js__WEBPACK_IMPORTED_MODULE_2__.ACTIVE_SLIDE_ERROR, () => {\n        slideStatus.current = _types_js__WEBPACK_IMPORTED_MODULE_2__.SLIDE_STATUS_ERROR;\n        scheduleNextSlide();\n    }), subscribe(_types_js__WEBPACK_IMPORTED_MODULE_2__.ACTIVE_SLIDE_COMPLETE, () => {\n        slideStatus.current = _types_js__WEBPACK_IMPORTED_MODULE_2__.SLIDE_STATUS_COMPLETE;\n        scheduleNextSlide();\n    })), [subscribe, cancelScheduler, scheduleNextSlide]);\n    const context = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => ({ playing, disabled, play, pause }), [playing, disabled, play, pause]);\n    react__WEBPACK_IMPORTED_MODULE_0__.useImperativeHandle(ref, () => context, [context]);\n    return react__WEBPACK_IMPORTED_MODULE_0__.createElement(SlideshowContext.Provider, { value: context }, children);\n}\n\nconst PlayIcon = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.createIcon)(\"Play\", react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M8 5v14l11-7z\" }));\nconst PauseIcon = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.createIcon)(\"Pause\", react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M6 19h4V5H6v14zm8-14v14h4V5h-4z\" }));\nfunction SlideshowButton() {\n    const { playing, disabled, play, pause } = useSlideshow();\n    const { render } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useLightboxProps)();\n    const focusListeners = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useLoseFocus)((0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useController)().focus, disabled);\n    if (render.buttonSlideshow) {\n        return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, render.buttonSlideshow({ playing, disabled, play, pause }));\n    }\n    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_index_js__WEBPACK_IMPORTED_MODULE_1__.IconButton, { label: playing ? \"Pause\" : \"Play\", icon: playing ? PauseIcon : PlayIcon, renderIcon: playing ? render.iconSlideshowPause : render.iconSlideshowPlay, onClick: playing ? pause : play, disabled: disabled, ...focusListeners }));\n}\n\nfunction Slideshow({ augment, addModule }) {\n    augment(({ slideshow, toolbar, ...restProps }) => ({\n        toolbar: (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.addToolbarButton)(toolbar, _types_js__WEBPACK_IMPORTED_MODULE_2__.PLUGIN_SLIDESHOW, react__WEBPACK_IMPORTED_MODULE_0__.createElement(SlideshowButton, null)),\n        slideshow: resolveSlideshowProps(slideshow),\n        ...restProps,\n    }));\n    addModule((0,_index_js__WEBPACK_IMPORTED_MODULE_1__.createModule)(_types_js__WEBPACK_IMPORTED_MODULE_2__.PLUGIN_SLIDESHOW, SlideshowContextProvider));\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMveWV0LWFub3RoZXItcmVhY3QtbGlnaHRib3gvZGlzdC9wbHVnaW5zL3NsaWRlc2hvdy9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQStCO0FBQzZMO0FBQ0k7O0FBRWhPO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVELHlCQUF5QixnREFBbUI7QUFDNUMscUJBQXFCLHlEQUFjO0FBQ25DLG9DQUFvQyx1QkFBdUIsUUFBUSxnQkFBZ0I7QUFDbkYsWUFBWSx1QkFBdUI7QUFDbkMsdUJBQXVCLHlDQUFZO0FBQ25DLGtDQUFrQywyQ0FBYztBQUNoRCxzQkFBc0IseUNBQVk7QUFDbEMsd0JBQXdCLHlDQUFZO0FBQ3BDLFlBQVksdUJBQXVCLEVBQUUsMkRBQWdCO0FBQ3JELFlBQVksMkJBQTJCLEVBQUUsc0RBQVc7QUFDcEQsWUFBWSxZQUFZLEVBQUUsb0RBQVM7QUFDbkMsWUFBWSxPQUFPLEVBQUUsd0RBQWE7QUFDbEM7QUFDQSxpQkFBaUIsOENBQWlCO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxrQkFBa0IsOENBQWlCO0FBQ25DO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCw0QkFBNEIsOENBQWlCO0FBQzdDO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsOEJBQThCLDJEQUFnQjtBQUM5QztBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MsMkRBQW9CO0FBQ3hELG9DQUFvQywyREFBb0I7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMLElBQUksNENBQWU7QUFDbkIsSUFBSSw0Q0FBZTtBQUNuQjtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsNkJBQTZCLDJEQUFnQixTQUFTLFFBQVEsbUZBQW1GO0FBQ2pKLDRCQUE0QiwyREFBZ0IsU0FBUyxRQUFRLGtGQUFrRjtBQUMvSSxJQUFJLDRDQUFlO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLElBQUksNENBQWUsT0FBTyxrREFBTyw0QkFBNEIsMkRBQW9CO0FBQ2pGLDhCQUE4QiwyREFBb0I7QUFDbEQ7QUFDQSxLQUFLLGFBQWEsMkRBQW9CO0FBQ3RDLDhCQUE4QiwyREFBb0I7QUFDbEQ7QUFDQSxLQUFLLGFBQWEseURBQWtCO0FBQ3BDLDhCQUE4Qix5REFBa0I7QUFDaEQ7QUFDQSxLQUFLLGFBQWEsNERBQXFCO0FBQ3ZDLDhCQUE4Qiw0REFBcUI7QUFDbkQ7QUFDQSxLQUFLO0FBQ0wsb0JBQW9CLDBDQUFhLFVBQVUsZ0NBQWdDO0FBQzNFLElBQUksc0RBQXlCO0FBQzdCLFdBQVcsZ0RBQW1CLDhCQUE4QixnQkFBZ0I7QUFDNUU7O0FBRUEsaUJBQWlCLHFEQUFVLFNBQVMsZ0RBQW1CLFdBQVcsb0JBQW9CO0FBQ3RGLGtCQUFrQixxREFBVSxVQUFVLGdEQUFtQixXQUFXLHNDQUFzQztBQUMxRztBQUNBLFlBQVksaUNBQWlDO0FBQzdDLFlBQVksU0FBUyxFQUFFLDJEQUFnQjtBQUN2QywyQkFBMkIsdURBQVksQ0FBQyx3REFBYTtBQUNyRDtBQUNBLGVBQWUsZ0RBQW1CLENBQUMsMkNBQWMsaUNBQWlDLGdDQUFnQztBQUNsSDtBQUNBLFlBQVksZ0RBQW1CLENBQUMsaURBQVUsSUFBSSw2TkFBNk47QUFDM1E7O0FBRUEscUJBQXFCLG9CQUFvQjtBQUN6QyxlQUFlLGtDQUFrQztBQUNqRCxpQkFBaUIsMkRBQWdCLFVBQVUsdURBQWdCLEVBQUUsZ0RBQW1CO0FBQ2hGO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsY0FBYyx1REFBWSxDQUFDLHVEQUFnQjtBQUMzQzs7QUFFZ0MiLCJzb3VyY2VzIjpbIkU6XFxDb2RpbmdcXFNvaGFuU2lyXFxZUF9WRVJTSU9OXzJcXGZyb250ZW5kXFxub2RlX21vZHVsZXNcXHlldC1hbm90aGVyLXJlYWN0LWxpZ2h0Ym94XFxkaXN0XFxwbHVnaW5zXFxzbGlkZXNob3dcXGluZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IG1ha2VVc2VDb250ZXh0LCB1c2VMaWdodGJveFN0YXRlLCB1c2VUaW1lb3V0cywgdXNlRXZlbnRzLCB1c2VDb250cm9sbGVyLCB1c2VFdmVudENhbGxiYWNrLCBjbGVhbnVwLCBjcmVhdGVJY29uLCB1c2VMaWdodGJveFByb3BzLCB1c2VMb3NlRm9jdXMsIEljb25CdXR0b24sIGFkZFRvb2xiYXJCdXR0b24sIGNyZWF0ZU1vZHVsZSB9IGZyb20gJy4uLy4uL2luZGV4LmpzJztcbmltcG9ydCB7IFNMSURFX1NUQVRVU19MT0FESU5HLCBTTElERV9TVEFUVVNfUExBWUlORywgQUNUSVZFX1NMSURFX0xPQURJTkcsIEFDVElWRV9TTElERV9QTEFZSU5HLCBBQ1RJVkVfU0xJREVfRVJST1IsIFNMSURFX1NUQVRVU19FUlJPUiwgQUNUSVZFX1NMSURFX0NPTVBMRVRFLCBTTElERV9TVEFUVVNfQ09NUExFVEUsIFBMVUdJTl9TTElERVNIT1cgfSBmcm9tICcuLi8uLi90eXBlcy5qcyc7XG5cbmNvbnN0IGRlZmF1bHRTbGlkZXNob3dQcm9wcyA9IHtcbiAgICBhdXRvcGxheTogZmFsc2UsXG4gICAgZGVsYXk6IDMwMDAsXG4gICAgcmVmOiBudWxsLFxufTtcbmNvbnN0IHJlc29sdmVTbGlkZXNob3dQcm9wcyA9IChzbGlkZXNob3cpID0+ICh7XG4gICAgLi4uZGVmYXVsdFNsaWRlc2hvd1Byb3BzLFxuICAgIC4uLnNsaWRlc2hvdyxcbn0pO1xuXG5jb25zdCBTbGlkZXNob3dDb250ZXh0ID0gUmVhY3QuY3JlYXRlQ29udGV4dChudWxsKTtcbmNvbnN0IHVzZVNsaWRlc2hvdyA9IG1ha2VVc2VDb250ZXh0KFwidXNlU2xpZGVzaG93XCIsIFwiU2xpZGVzaG93Q29udGV4dFwiLCBTbGlkZXNob3dDb250ZXh0KTtcbmZ1bmN0aW9uIFNsaWRlc2hvd0NvbnRleHRQcm92aWRlcih7IHNsaWRlc2hvdywgY2Fyb3VzZWw6IHsgZmluaXRlIH0sIG9uLCBjaGlsZHJlbiB9KSB7XG4gICAgY29uc3QgeyBhdXRvcGxheSwgZGVsYXksIHJlZiB9ID0gcmVzb2x2ZVNsaWRlc2hvd1Byb3BzKHNsaWRlc2hvdyk7XG4gICAgY29uc3Qgd2FzUGxheWluZyA9IFJlYWN0LnVzZVJlZihhdXRvcGxheSk7XG4gICAgY29uc3QgW3BsYXlpbmcsIHNldFBsYXlpbmddID0gUmVhY3QudXNlU3RhdGUoYXV0b3BsYXkpO1xuICAgIGNvbnN0IHNjaGVkdWxlciA9IFJlYWN0LnVzZVJlZigpO1xuICAgIGNvbnN0IHNsaWRlU3RhdHVzID0gUmVhY3QudXNlUmVmKCk7XG4gICAgY29uc3QgeyBzbGlkZXMsIGN1cnJlbnRJbmRleCB9ID0gdXNlTGlnaHRib3hTdGF0ZSgpO1xuICAgIGNvbnN0IHsgc2V0VGltZW91dCwgY2xlYXJUaW1lb3V0IH0gPSB1c2VUaW1lb3V0cygpO1xuICAgIGNvbnN0IHsgc3Vic2NyaWJlIH0gPSB1c2VFdmVudHMoKTtcbiAgICBjb25zdCB7IG5leHQgfSA9IHVzZUNvbnRyb2xsZXIoKTtcbiAgICBjb25zdCBkaXNhYmxlZCA9IHNsaWRlcy5sZW5ndGggPT09IDAgfHwgKGZpbml0ZSAmJiBjdXJyZW50SW5kZXggPT09IHNsaWRlcy5sZW5ndGggLSAxKTtcbiAgICBjb25zdCBwbGF5ID0gUmVhY3QudXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgICAgICBpZiAoIXBsYXlpbmcgJiYgIWRpc2FibGVkKSB7XG4gICAgICAgICAgICBzZXRQbGF5aW5nKHRydWUpO1xuICAgICAgICB9XG4gICAgfSwgW3BsYXlpbmcsIGRpc2FibGVkXSk7XG4gICAgY29uc3QgcGF1c2UgPSBSZWFjdC51c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgICAgIGlmIChwbGF5aW5nKSB7XG4gICAgICAgICAgICBzZXRQbGF5aW5nKGZhbHNlKTtcbiAgICAgICAgfVxuICAgIH0sIFtwbGF5aW5nXSk7XG4gICAgY29uc3QgY2FuY2VsU2NoZWR1bGVyID0gUmVhY3QudXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgICAgICBjbGVhclRpbWVvdXQoc2NoZWR1bGVyLmN1cnJlbnQpO1xuICAgICAgICBzY2hlZHVsZXIuY3VycmVudCA9IHVuZGVmaW5lZDtcbiAgICB9LCBbY2xlYXJUaW1lb3V0XSk7XG4gICAgY29uc3Qgc2NoZWR1bGVOZXh0U2xpZGUgPSB1c2VFdmVudENhbGxiYWNrKCgpID0+IHtcbiAgICAgICAgY2FuY2VsU2NoZWR1bGVyKCk7XG4gICAgICAgIGlmICghcGxheWluZyB8fFxuICAgICAgICAgICAgZGlzYWJsZWQgfHxcbiAgICAgICAgICAgIHNsaWRlU3RhdHVzLmN1cnJlbnQgPT09IFNMSURFX1NUQVRVU19MT0FESU5HIHx8XG4gICAgICAgICAgICBzbGlkZVN0YXR1cy5jdXJyZW50ID09PSBTTElERV9TVEFUVVNfUExBWUlORykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHNjaGVkdWxlci5jdXJyZW50ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBpZiAocGxheWluZykge1xuICAgICAgICAgICAgICAgIHNsaWRlU3RhdHVzLmN1cnJlbnQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgbmV4dCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCBkZWxheSk7XG4gICAgfSk7XG4gICAgUmVhY3QudXNlRWZmZWN0KHNjaGVkdWxlTmV4dFNsaWRlLCBbY3VycmVudEluZGV4LCBwbGF5aW5nLCBzY2hlZHVsZU5leHRTbGlkZV0pO1xuICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChwbGF5aW5nICYmIGRpc2FibGVkKSB7XG4gICAgICAgICAgICBzZXRQbGF5aW5nKGZhbHNlKTtcbiAgICAgICAgfVxuICAgIH0sIFtjdXJyZW50SW5kZXgsIHBsYXlpbmcsIGRpc2FibGVkXSk7XG4gICAgY29uc3Qgb25TbGlkZXNob3dTdGFydCA9IHVzZUV2ZW50Q2FsbGJhY2soKCkgPT4geyB2YXIgX2E7IHJldHVybiAoX2EgPSBvbi5zbGlkZXNob3dTdGFydCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwob24pOyB9KTtcbiAgICBjb25zdCBvblNsaWRlc2hvd1N0b3AgPSB1c2VFdmVudENhbGxiYWNrKCgpID0+IHsgdmFyIF9hOyByZXR1cm4gKF9hID0gb24uc2xpZGVzaG93U3RvcCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwob24pOyB9KTtcbiAgICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAocGxheWluZykge1xuICAgICAgICAgICAgb25TbGlkZXNob3dTdGFydCgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHdhc1BsYXlpbmcuY3VycmVudCkge1xuICAgICAgICAgICAgb25TbGlkZXNob3dTdG9wKCk7XG4gICAgICAgIH1cbiAgICAgICAgd2FzUGxheWluZy5jdXJyZW50ID0gcGxheWluZztcbiAgICB9LCBbcGxheWluZywgb25TbGlkZXNob3dTdGFydCwgb25TbGlkZXNob3dTdG9wXSk7XG4gICAgUmVhY3QudXNlRWZmZWN0KCgpID0+IGNsZWFudXAoY2FuY2VsU2NoZWR1bGVyLCBzdWJzY3JpYmUoQUNUSVZFX1NMSURFX0xPQURJTkcsICgpID0+IHtcbiAgICAgICAgc2xpZGVTdGF0dXMuY3VycmVudCA9IFNMSURFX1NUQVRVU19MT0FESU5HO1xuICAgICAgICBjYW5jZWxTY2hlZHVsZXIoKTtcbiAgICB9KSwgc3Vic2NyaWJlKEFDVElWRV9TTElERV9QTEFZSU5HLCAoKSA9PiB7XG4gICAgICAgIHNsaWRlU3RhdHVzLmN1cnJlbnQgPSBTTElERV9TVEFUVVNfUExBWUlORztcbiAgICAgICAgY2FuY2VsU2NoZWR1bGVyKCk7XG4gICAgfSksIHN1YnNjcmliZShBQ1RJVkVfU0xJREVfRVJST1IsICgpID0+IHtcbiAgICAgICAgc2xpZGVTdGF0dXMuY3VycmVudCA9IFNMSURFX1NUQVRVU19FUlJPUjtcbiAgICAgICAgc2NoZWR1bGVOZXh0U2xpZGUoKTtcbiAgICB9KSwgc3Vic2NyaWJlKEFDVElWRV9TTElERV9DT01QTEVURSwgKCkgPT4ge1xuICAgICAgICBzbGlkZVN0YXR1cy5jdXJyZW50ID0gU0xJREVfU1RBVFVTX0NPTVBMRVRFO1xuICAgICAgICBzY2hlZHVsZU5leHRTbGlkZSgpO1xuICAgIH0pKSwgW3N1YnNjcmliZSwgY2FuY2VsU2NoZWR1bGVyLCBzY2hlZHVsZU5leHRTbGlkZV0pO1xuICAgIGNvbnN0IGNvbnRleHQgPSBSZWFjdC51c2VNZW1vKCgpID0+ICh7IHBsYXlpbmcsIGRpc2FibGVkLCBwbGF5LCBwYXVzZSB9KSwgW3BsYXlpbmcsIGRpc2FibGVkLCBwbGF5LCBwYXVzZV0pO1xuICAgIFJlYWN0LnVzZUltcGVyYXRpdmVIYW5kbGUocmVmLCAoKSA9PiBjb250ZXh0LCBbY29udGV4dF0pO1xuICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFNsaWRlc2hvd0NvbnRleHQuUHJvdmlkZXIsIHsgdmFsdWU6IGNvbnRleHQgfSwgY2hpbGRyZW4pO1xufVxuXG5jb25zdCBQbGF5SWNvbiA9IGNyZWF0ZUljb24oXCJQbGF5XCIsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHsgZDogXCJNOCA1djE0bDExLTd6XCIgfSkpO1xuY29uc3QgUGF1c2VJY29uID0gY3JlYXRlSWNvbihcIlBhdXNlXCIsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHsgZDogXCJNNiAxOWg0VjVINnYxNHptOC0xNHYxNGg0VjVoLTR6XCIgfSkpO1xuZnVuY3Rpb24gU2xpZGVzaG93QnV0dG9uKCkge1xuICAgIGNvbnN0IHsgcGxheWluZywgZGlzYWJsZWQsIHBsYXksIHBhdXNlIH0gPSB1c2VTbGlkZXNob3coKTtcbiAgICBjb25zdCB7IHJlbmRlciB9ID0gdXNlTGlnaHRib3hQcm9wcygpO1xuICAgIGNvbnN0IGZvY3VzTGlzdGVuZXJzID0gdXNlTG9zZUZvY3VzKHVzZUNvbnRyb2xsZXIoKS5mb2N1cywgZGlzYWJsZWQpO1xuICAgIGlmIChyZW5kZXIuYnV0dG9uU2xpZGVzaG93KSB7XG4gICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFJlYWN0LkZyYWdtZW50LCBudWxsLCByZW5kZXIuYnV0dG9uU2xpZGVzaG93KHsgcGxheWluZywgZGlzYWJsZWQsIHBsYXksIHBhdXNlIH0pKTtcbiAgICB9XG4gICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KEljb25CdXR0b24sIHsgbGFiZWw6IHBsYXlpbmcgPyBcIlBhdXNlXCIgOiBcIlBsYXlcIiwgaWNvbjogcGxheWluZyA/IFBhdXNlSWNvbiA6IFBsYXlJY29uLCByZW5kZXJJY29uOiBwbGF5aW5nID8gcmVuZGVyLmljb25TbGlkZXNob3dQYXVzZSA6IHJlbmRlci5pY29uU2xpZGVzaG93UGxheSwgb25DbGljazogcGxheWluZyA/IHBhdXNlIDogcGxheSwgZGlzYWJsZWQ6IGRpc2FibGVkLCAuLi5mb2N1c0xpc3RlbmVycyB9KSk7XG59XG5cbmZ1bmN0aW9uIFNsaWRlc2hvdyh7IGF1Z21lbnQsIGFkZE1vZHVsZSB9KSB7XG4gICAgYXVnbWVudCgoeyBzbGlkZXNob3csIHRvb2xiYXIsIC4uLnJlc3RQcm9wcyB9KSA9PiAoe1xuICAgICAgICB0b29sYmFyOiBhZGRUb29sYmFyQnV0dG9uKHRvb2xiYXIsIFBMVUdJTl9TTElERVNIT1csIFJlYWN0LmNyZWF0ZUVsZW1lbnQoU2xpZGVzaG93QnV0dG9uLCBudWxsKSksXG4gICAgICAgIHNsaWRlc2hvdzogcmVzb2x2ZVNsaWRlc2hvd1Byb3BzKHNsaWRlc2hvdyksXG4gICAgICAgIC4uLnJlc3RQcm9wcyxcbiAgICB9KSk7XG4gICAgYWRkTW9kdWxlKGNyZWF0ZU1vZHVsZShQTFVHSU5fU0xJREVTSE9XLCBTbGlkZXNob3dDb250ZXh0UHJvdmlkZXIpKTtcbn1cblxuZXhwb3J0IHsgU2xpZGVzaG93IGFzIGRlZmF1bHQgfTtcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/yet-another-react-lightbox/dist/plugins/slideshow/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/yet-another-react-lightbox/dist/plugins/thumbnails/index.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/yet-another-react-lightbox/dist/plugins/thumbnails/index.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Thumbnails)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var _index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../index.js */ \"(ssr)/./node_modules/yet-another-react-lightbox/dist/index.js\");\n/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../types.js */ \"(ssr)/./node_modules/yet-another-react-lightbox/dist/types.js\");\n\n\n\n\nconst defaultThumbnailsProps = {\n    ref: null,\n    position: \"bottom\",\n    width: 120,\n    height: 80,\n    border: 1,\n    borderRadius: 4,\n    padding: 4,\n    gap: 16,\n    imageFit: \"contain\",\n    vignette: true,\n    hidden: false,\n    showToggle: false,\n};\nconst resolveThumbnailsProps = (thumbnails) => ({\n    ...defaultThumbnailsProps,\n    ...thumbnails,\n});\nfunction useThumbnailsProps() {\n    const { thumbnails } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useLightboxProps)();\n    return resolveThumbnailsProps(thumbnails);\n}\n\nconst cssPrefix = (value) => (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.composePrefix)(_types_js__WEBPACK_IMPORTED_MODULE_2__.PLUGIN_THUMBNAILS, value);\nconst cssThumbnailPrefix = (value) => cssPrefix((0,_index_js__WEBPACK_IMPORTED_MODULE_1__.composePrefix)(\"thumbnail\", value));\n\nconst VideoThumbnailIcon = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.createIcon)(\"VideoThumbnail\", react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M10 16.5l6-4.5-6-4.5v9zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z\" }));\nconst UnknownThumbnailIcon = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.createIcon)(\"UnknownThumbnail\", react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M23 18V6c0-1.1-.9-2-2-2H3c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2zM8.5 12.5l2.5 3.01L14.5 11l4.5 6H5l3.5-4.5z\" }));\nfunction renderThumbnail({ slide, render, rect, imageFit }) {\n    var _a;\n    const customThumbnail = (_a = render.thumbnail) === null || _a === void 0 ? void 0 : _a.call(render, { slide, render, rect, imageFit });\n    if (customThumbnail) {\n        return customThumbnail;\n    }\n    const imageSlideProps = { render, rect, imageFit };\n    if (slide.thumbnail) {\n        return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_index_js__WEBPACK_IMPORTED_MODULE_1__.ImageSlide, { slide: { src: slide.thumbnail }, ...imageSlideProps });\n    }\n    if ((0,_index_js__WEBPACK_IMPORTED_MODULE_1__.isImageSlide)(slide)) {\n        return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_index_js__WEBPACK_IMPORTED_MODULE_1__.ImageSlide, { slide: slide, ...imageSlideProps });\n    }\n    const thumbnailIconClass = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssClass)(cssThumbnailPrefix(_types_js__WEBPACK_IMPORTED_MODULE_2__.ELEMENT_ICON));\n    if (slide.type === \"video\") {\n        return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null,\n            slide.poster && react__WEBPACK_IMPORTED_MODULE_0__.createElement(_index_js__WEBPACK_IMPORTED_MODULE_1__.ImageSlide, { slide: { src: slide.poster }, ...imageSlideProps }),\n            react__WEBPACK_IMPORTED_MODULE_0__.createElement(VideoThumbnailIcon, { className: thumbnailIconClass })));\n    }\n    return react__WEBPACK_IMPORTED_MODULE_0__.createElement(UnknownThumbnailIcon, { className: thumbnailIconClass });\n}\nconst activePrefix = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.makeComposePrefix)(\"active\");\nconst fadeInPrefix = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.makeComposePrefix)(\"fadein\");\nconst fadeOutPrefix = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.makeComposePrefix)(\"fadeout\");\nconst placeholderPrefix = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.makeComposePrefix)(\"placeholder\");\nconst DELAY = \"delay\";\nconst DURATION = \"duration\";\nfunction Thumbnail({ slide, onClick, active, fadeIn, fadeOut, placeholder, onLoseFocus }) {\n    const ref = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n    const { render, styles } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useLightboxProps)();\n    const { getOwnerDocument } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useDocumentContext)();\n    const { width, height, imageFit } = useThumbnailsProps();\n    const rect = { width, height };\n    const onLoseFocusCallback = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useEventCallback)(onLoseFocus);\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n        if (fadeOut && getOwnerDocument().activeElement === ref.current) {\n            onLoseFocusCallback();\n        }\n    }, [fadeOut, onLoseFocusCallback, getOwnerDocument]);\n    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"button\", { ref: ref, type: \"button\", className: (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.clsx)((0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssClass)(_types_js__WEBPACK_IMPORTED_MODULE_2__.CLASS_FLEX_CENTER), (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssClass)(cssThumbnailPrefix()), active && (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssClass)(cssThumbnailPrefix(activePrefix())), fadeIn && (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssClass)(cssThumbnailPrefix(fadeInPrefix())), fadeOut && (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssClass)(cssThumbnailPrefix(fadeOutPrefix())), placeholder && (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssClass)(cssThumbnailPrefix(placeholderPrefix()))), style: {\n            ...(fadeIn\n                ? {\n                    [(0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssVar)(cssThumbnailPrefix(fadeInPrefix(DURATION)))]: `${fadeIn.duration}ms`,\n                    [(0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssVar)(cssThumbnailPrefix(fadeInPrefix(DELAY)))]: `${fadeIn.delay}ms`,\n                }\n                : null),\n            ...(fadeOut\n                ? {\n                    [(0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssVar)(cssThumbnailPrefix(fadeOutPrefix(DURATION)))]: `${fadeOut.duration}ms`,\n                    [(0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssVar)(cssThumbnailPrefix(fadeOutPrefix(DELAY)))]: `${fadeOut.delay}ms`,\n                }\n                : null),\n            ...styles.thumbnail,\n        }, onClick: onClick }, slide && renderThumbnail({ slide, render, rect, imageFit })));\n}\n\nfunction isHorizontal(position) {\n    return [\"top\", \"bottom\"].includes(position);\n}\nfunction boxSize(thumbnails, dimension) {\n    return dimension + 2 * (thumbnails.border + thumbnails.padding) + thumbnails.gap;\n}\nfunction getThumbnailKey(slide) {\n    const { thumbnail, poster } = slide || { thumbnail: \"placeholder\" };\n    return ((typeof thumbnail === \"string\" && thumbnail) ||\n        (typeof poster === \"string\" && poster) ||\n        (slide && (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.getSlideKey)(slide)) ||\n        undefined);\n}\nfunction ThumbnailsTrack({ visible, containerRef }) {\n    const track = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n    const isRTL = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useRTL)();\n    const { publish, subscribe } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useEvents)();\n    const { carousel, styles } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useLightboxProps)();\n    const { slides, globalIndex, animation } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useLightboxState)();\n    const { registerSensors, subscribeSensors } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useSensors)();\n    (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useKeyboardNavigation)(subscribeSensors);\n    const thumbnails = useThumbnailsProps();\n    const { position, width, height, border, borderStyle, borderColor, borderRadius, padding, gap, vignette } = thumbnails;\n    const animationDuration = (animation === null || animation === void 0 ? void 0 : animation.duration) || 0;\n    const offset = (animationDuration > 0 && (animation === null || animation === void 0 ? void 0 : animation.increment)) || 0;\n    const { prepareAnimation } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useAnimation)(track, (snapshot) => ({\n        keyframes: isHorizontal(position)\n            ? [\n                {\n                    transform: `translateX(${(isRTL ? -1 : 1) * boxSize(thumbnails, width) * offset + snapshot}px)`,\n                },\n                { transform: \"translateX(0)\" },\n            ]\n            : [\n                {\n                    transform: `translateY(${boxSize(thumbnails, height) * offset + snapshot}px)`,\n                },\n                { transform: \"translateY(0)\" },\n            ],\n        duration: animationDuration,\n        easing: animation === null || animation === void 0 ? void 0 : animation.easing,\n    }));\n    const handleControllerSwipe = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useEventCallback)(() => {\n        let animationOffset = 0;\n        if (containerRef.current && track.current) {\n            const containerRect = containerRef.current.getBoundingClientRect();\n            const trackRect = track.current.getBoundingClientRect();\n            animationOffset = isHorizontal(position)\n                ? trackRect.left - containerRect.left - (containerRect.width - trackRect.width) / 2\n                : trackRect.top - containerRect.top - (containerRect.height - trackRect.height) / 2;\n        }\n        prepareAnimation(animationOffset);\n    });\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cleanup)(subscribe(_types_js__WEBPACK_IMPORTED_MODULE_2__.ACTION_SWIPE, handleControllerSwipe)), [subscribe, handleControllerSwipe]);\n    const preload = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.calculatePreload)(carousel, slides);\n    const items = [];\n    if ((0,_index_js__WEBPACK_IMPORTED_MODULE_1__.hasSlides)(slides)) {\n        for (let index = globalIndex - preload - Math.abs(offset); index <= globalIndex + preload + Math.abs(offset); index += 1) {\n            const placeholder = (carousel.finite && (index < 0 || index > slides.length - 1)) ||\n                (offset < 0 && index < globalIndex - preload) ||\n                (offset > 0 && index > globalIndex + preload);\n            const slide = !placeholder ? (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.getSlide)(slides, index) : null;\n            const key = [`${index}`, getThumbnailKey(slide)].filter(Boolean).join(\"|\");\n            items.push({ key, index, slide });\n        }\n    }\n    const handleClick = (slideIndex) => () => {\n        if (slideIndex > globalIndex) {\n            publish(_types_js__WEBPACK_IMPORTED_MODULE_2__.ACTION_NEXT, { count: slideIndex - globalIndex });\n        }\n        else if (slideIndex < globalIndex) {\n            publish(_types_js__WEBPACK_IMPORTED_MODULE_2__.ACTION_PREV, { count: globalIndex - slideIndex });\n        }\n    };\n    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.clsx)((0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssClass)(cssPrefix(\"container\")), (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssClass)(_types_js__WEBPACK_IMPORTED_MODULE_2__.CLASS_FLEX_CENTER)), style: {\n            ...(!visible ? { display: \"none\" } : null),\n            ...(width !== defaultThumbnailsProps.width ? { [(0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssVar)(cssThumbnailPrefix(\"width\"))]: `${width}px` } : null),\n            ...(height !== defaultThumbnailsProps.height\n                ? { [(0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssVar)(cssThumbnailPrefix(\"height\"))]: `${height}px` }\n                : null),\n            ...(border !== defaultThumbnailsProps.border\n                ? { [(0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssVar)(cssThumbnailPrefix(\"border\"))]: `${border}px` }\n                : null),\n            ...(borderStyle ? { [(0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssVar)(cssThumbnailPrefix(\"border_style\"))]: borderStyle } : null),\n            ...(borderColor ? { [(0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssVar)(cssThumbnailPrefix(\"border_color\"))]: borderColor } : null),\n            ...(borderRadius !== defaultThumbnailsProps.borderRadius\n                ? { [(0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssVar)(cssThumbnailPrefix(\"border_radius\"))]: `${borderRadius}px` }\n                : null),\n            ...(padding !== defaultThumbnailsProps.padding\n                ? { [(0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssVar)(cssThumbnailPrefix(\"padding\"))]: `${padding}px` }\n                : null),\n            ...(gap !== defaultThumbnailsProps.gap ? { [(0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssVar)(cssThumbnailPrefix(\"gap\"))]: `${gap}px` } : null),\n            ...styles.thumbnailsContainer,\n        } },\n        react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"nav\", { ref: track, style: styles.thumbnailsTrack, className: (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.clsx)((0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssClass)(cssPrefix(\"track\")), (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssClass)(_types_js__WEBPACK_IMPORTED_MODULE_2__.CLASS_FLEX_CENTER)), tabIndex: -1, ...registerSensors }, items.map(({ key, index, slide }) => {\n            const fadeAnimationDuration = animationDuration / Math.abs(offset || 1);\n            const fadeIn = (offset > 0 && index > globalIndex + preload - offset && index <= globalIndex + preload) ||\n                (offset < 0 && index < globalIndex - preload - offset && index >= globalIndex - preload)\n                ? {\n                    duration: fadeAnimationDuration,\n                    delay: ((offset > 0 ? index - (globalIndex + preload - offset) : globalIndex - preload - offset - index) -\n                        1) *\n                        fadeAnimationDuration,\n                }\n                : undefined;\n            const fadeOut = (offset > 0 && index < globalIndex - preload) || (offset < 0 && index > globalIndex + preload)\n                ? {\n                    duration: fadeAnimationDuration,\n                    delay: (offset > 0\n                        ? offset - (globalIndex - preload - index)\n                        : -offset - (index - (globalIndex + preload))) * fadeAnimationDuration,\n                }\n                : undefined;\n            return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(Thumbnail, { key: key, slide: slide, active: index === globalIndex, fadeIn: fadeIn, fadeOut: fadeOut, placeholder: !slide, onClick: handleClick(index), onLoseFocus: () => { var _a; return (_a = track.current) === null || _a === void 0 ? void 0 : _a.focus(); } }));\n        })),\n        vignette && react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssClass)(cssPrefix(\"vignette\")) })));\n}\n\nconst ThumbnailsContext = react__WEBPACK_IMPORTED_MODULE_0__.createContext(null);\nconst useThumbnails = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.makeUseContext)(\"useThumbnails\", \"ThumbnailsContext\", ThumbnailsContext);\nfunction ThumbnailsContextProvider({ children, ...props }) {\n    const { ref, position, hidden } = resolveThumbnailsProps(props.thumbnails);\n    const [visible, setVisible] = react__WEBPACK_IMPORTED_MODULE_0__.useState(!hidden);\n    const containerRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n    const context = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => ({\n        visible,\n        show: () => setVisible(true),\n        hide: () => setVisible(false),\n    }), [visible]);\n    react__WEBPACK_IMPORTED_MODULE_0__.useImperativeHandle(ref, () => context, [context]);\n    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_index_js__WEBPACK_IMPORTED_MODULE_1__.LightboxPropsProvider, { ...props },\n        react__WEBPACK_IMPORTED_MODULE_0__.createElement(ThumbnailsContext.Provider, { value: context },\n            react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { ref: containerRef, className: (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.clsx)((0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssClass)(cssPrefix()), (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssClass)(cssPrefix(`${position}`))) },\n                [\"start\", \"top\"].includes(position) && react__WEBPACK_IMPORTED_MODULE_0__.createElement(ThumbnailsTrack, { containerRef: containerRef, visible: visible }),\n                react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssClass)(cssPrefix(\"wrapper\")) }, children),\n                [\"end\", \"bottom\"].includes(position) && react__WEBPACK_IMPORTED_MODULE_0__.createElement(ThumbnailsTrack, { containerRef: containerRef, visible: visible })))));\n}\n\nconst thumbnailsIcon = () => (react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null,\n    react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { strokeWidth: 2, stroke: \"currentColor\", strokeLinejoin: \"round\", fill: \"none\", d: \"M3 5l18 0l0 14l-18 0l0-14z\" }),\n    react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M5 14h4v3h-4zM10 14h4v3h-4zM15 14h4v3h-4z\" })));\nconst ThumbnailsVisible = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.createIcon)(\"ThumbnailsVisible\", thumbnailsIcon());\nconst ThumbnailsHidden = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.createIconDisabled)(\"ThumbnailsHidden\", thumbnailsIcon());\nfunction ThumbnailsButton() {\n    const { visible, show, hide } = useThumbnails();\n    const { render } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useLightboxProps)();\n    if (render.buttonThumbnails) {\n        return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, render.buttonThumbnails({ visible, show, hide }));\n    }\n    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_index_js__WEBPACK_IMPORTED_MODULE_1__.IconButton, { label: visible ? \"Hide thumbnails\" : \"Show thumbnails\", icon: visible ? ThumbnailsVisible : ThumbnailsHidden, renderIcon: visible ? render.iconThumbnailsVisible : render.iconThumbnailsHidden, onClick: visible ? hide : show }));\n}\n\nfunction Thumbnails({ augment, contains, append, addParent }) {\n    augment(({ thumbnails: thumbnailsProps, toolbar, ...restProps }) => {\n        const thumbnails = resolveThumbnailsProps(thumbnailsProps);\n        return {\n            toolbar: (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.addToolbarButton)(toolbar, _types_js__WEBPACK_IMPORTED_MODULE_2__.PLUGIN_THUMBNAILS, thumbnails.showToggle ? react__WEBPACK_IMPORTED_MODULE_0__.createElement(ThumbnailsButton, null) : null),\n            thumbnails,\n            ...restProps,\n        };\n    });\n    const module = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.createModule)(_types_js__WEBPACK_IMPORTED_MODULE_2__.PLUGIN_THUMBNAILS, ThumbnailsContextProvider);\n    if (contains(_types_js__WEBPACK_IMPORTED_MODULE_2__.PLUGIN_FULLSCREEN)) {\n        append(_types_js__WEBPACK_IMPORTED_MODULE_2__.PLUGIN_FULLSCREEN, module);\n    }\n    else {\n        addParent(_types_js__WEBPACK_IMPORTED_MODULE_2__.MODULE_CONTROLLER, module);\n    }\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMveWV0LWFub3RoZXItcmVhY3QtbGlnaHRib3gvZGlzdC9wbHVnaW5zL3RodW1ibmFpbHMvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUErQjtBQUNtWjtBQUNoUjs7QUFFbEs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBLFlBQVksYUFBYSxFQUFFLDJEQUFnQjtBQUMzQztBQUNBOztBQUVBLDZCQUE2Qix3REFBYSxDQUFDLHdEQUFpQjtBQUM1RCxnREFBZ0Qsd0RBQWE7O0FBRTdELDJCQUEyQixxREFBVSxtQkFBbUIsZ0RBQW1CLFdBQVcsMEpBQTBKO0FBQ2hQLDZCQUE2QixxREFBVSxxQkFBcUIsZ0RBQW1CLFdBQVcsK0hBQStIO0FBQ3pOLDJCQUEyQiwrQkFBK0I7QUFDMUQ7QUFDQSwyR0FBMkcsK0JBQStCO0FBQzFJO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QjtBQUM5QjtBQUNBLGVBQWUsZ0RBQW1CLENBQUMsaURBQVUsSUFBSSxTQUFTLHNCQUFzQixzQkFBc0I7QUFDdEc7QUFDQSxRQUFRLHVEQUFZO0FBQ3BCLGVBQWUsZ0RBQW1CLENBQUMsaURBQVUsSUFBSSxrQ0FBa0M7QUFDbkY7QUFDQSwrQkFBK0IsbURBQVEsb0JBQW9CLG1EQUFZO0FBQ3ZFO0FBQ0EsZ0JBQWdCLGdEQUFtQixDQUFDLDJDQUFjO0FBQ2xELDRCQUE0QixnREFBbUIsQ0FBQyxpREFBVSxJQUFJLFNBQVMsbUJBQW1CLHNCQUFzQjtBQUNoSCxZQUFZLGdEQUFtQix1QkFBdUIsK0JBQStCO0FBQ3JGO0FBQ0EsV0FBVyxnREFBbUIseUJBQXlCLCtCQUErQjtBQUN0RjtBQUNBLHFCQUFxQiw0REFBaUI7QUFDdEMscUJBQXFCLDREQUFpQjtBQUN0QyxzQkFBc0IsNERBQWlCO0FBQ3ZDLDBCQUEwQiw0REFBaUI7QUFD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QUFzQjtBQUNsQyxZQUFZLFNBQVMsRUFBRSwyREFBZ0I7QUFDdkM7QUFDQSxlQUFlLGdEQUFtQixDQUFDLDJDQUFjLGtDQUFrQyxxQkFBcUI7QUFDeEc7QUFDQSxZQUFZLGdEQUFtQixDQUFDLGlEQUFVLElBQUksZ09BQWdPO0FBQzlROztBQUVBLHNCQUFzQixzQ0FBc0M7QUFDNUQsZUFBZSxvREFBb0Q7QUFDbkU7QUFDQTtBQUNBLHFCQUFxQiwyREFBZ0IsVUFBVSx3REFBaUIsMEJBQTBCLGdEQUFtQjtBQUM3RztBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsbUJBQW1CLHVEQUFZLENBQUMsd0RBQWlCO0FBQ2pELGlCQUFpQix3REFBaUI7QUFDbEMsZUFBZSx3REFBaUI7QUFDaEM7QUFDQTtBQUNBLGtCQUFrQix3REFBaUI7QUFDbkM7QUFDQTs7QUFFaUMiLCJzb3VyY2VzIjpbIkU6XFxDb2RpbmdcXFNvaGFuU2lyXFxZUF9WRVJTSU9OXzJcXGZyb250ZW5kXFxub2RlX21vZHVsZXNcXHlldC1hbm90aGVyLXJlYWN0LWxpZ2h0Ym94XFxkaXN0XFxwbHVnaW5zXFx0aHVtYm5haWxzXFxpbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VMaWdodGJveFByb3BzLCBjb21wb3NlUHJlZml4LCBjcmVhdGVJY29uLCBJbWFnZVNsaWRlLCBpc0ltYWdlU2xpZGUsIGNzc0NsYXNzLCBtYWtlQ29tcG9zZVByZWZpeCwgdXNlRG9jdW1lbnRDb250ZXh0LCB1c2VFdmVudENhbGxiYWNrLCBjbHN4LCBjc3NWYXIsIGdldFNsaWRlS2V5LCB1c2VSVEwsIHVzZUV2ZW50cywgdXNlTGlnaHRib3hTdGF0ZSwgdXNlU2Vuc29ycywgdXNlS2V5Ym9hcmROYXZpZ2F0aW9uLCB1c2VBbmltYXRpb24sIGNsZWFudXAsIGNhbGN1bGF0ZVByZWxvYWQsIGhhc1NsaWRlcywgZ2V0U2xpZGUsIG1ha2VVc2VDb250ZXh0LCBMaWdodGJveFByb3BzUHJvdmlkZXIsIGNyZWF0ZUljb25EaXNhYmxlZCwgSWNvbkJ1dHRvbiwgYWRkVG9vbGJhckJ1dHRvbiwgY3JlYXRlTW9kdWxlIH0gZnJvbSAnLi4vLi4vaW5kZXguanMnO1xuaW1wb3J0IHsgUExVR0lOX1RIVU1CTkFJTFMsIEVMRU1FTlRfSUNPTiwgQ0xBU1NfRkxFWF9DRU5URVIsIEFDVElPTl9TV0lQRSwgQUNUSU9OX05FWFQsIEFDVElPTl9QUkVWLCBQTFVHSU5fRlVMTFNDUkVFTiwgTU9EVUxFX0NPTlRST0xMRVIgfSBmcm9tICcuLi8uLi90eXBlcy5qcyc7XG5cbmNvbnN0IGRlZmF1bHRUaHVtYm5haWxzUHJvcHMgPSB7XG4gICAgcmVmOiBudWxsLFxuICAgIHBvc2l0aW9uOiBcImJvdHRvbVwiLFxuICAgIHdpZHRoOiAxMjAsXG4gICAgaGVpZ2h0OiA4MCxcbiAgICBib3JkZXI6IDEsXG4gICAgYm9yZGVyUmFkaXVzOiA0LFxuICAgIHBhZGRpbmc6IDQsXG4gICAgZ2FwOiAxNixcbiAgICBpbWFnZUZpdDogXCJjb250YWluXCIsXG4gICAgdmlnbmV0dGU6IHRydWUsXG4gICAgaGlkZGVuOiBmYWxzZSxcbiAgICBzaG93VG9nZ2xlOiBmYWxzZSxcbn07XG5jb25zdCByZXNvbHZlVGh1bWJuYWlsc1Byb3BzID0gKHRodW1ibmFpbHMpID0+ICh7XG4gICAgLi4uZGVmYXVsdFRodW1ibmFpbHNQcm9wcyxcbiAgICAuLi50aHVtYm5haWxzLFxufSk7XG5mdW5jdGlvbiB1c2VUaHVtYm5haWxzUHJvcHMoKSB7XG4gICAgY29uc3QgeyB0aHVtYm5haWxzIH0gPSB1c2VMaWdodGJveFByb3BzKCk7XG4gICAgcmV0dXJuIHJlc29sdmVUaHVtYm5haWxzUHJvcHModGh1bWJuYWlscyk7XG59XG5cbmNvbnN0IGNzc1ByZWZpeCA9ICh2YWx1ZSkgPT4gY29tcG9zZVByZWZpeChQTFVHSU5fVEhVTUJOQUlMUywgdmFsdWUpO1xuY29uc3QgY3NzVGh1bWJuYWlsUHJlZml4ID0gKHZhbHVlKSA9PiBjc3NQcmVmaXgoY29tcG9zZVByZWZpeChcInRodW1ibmFpbFwiLCB2YWx1ZSkpO1xuXG5jb25zdCBWaWRlb1RodW1ibmFpbEljb24gPSBjcmVhdGVJY29uKFwiVmlkZW9UaHVtYm5haWxcIiwgUmVhY3QuY3JlYXRlRWxlbWVudChcInBhdGhcIiwgeyBkOiBcIk0xMCAxNi41bDYtNC41LTYtNC41djl6TTEyIDJDNi40OCAyIDIgNi40OCAyIDEyczQuNDggMTAgMTAgMTAgMTAtNC40OCAxMC0xMFMxNy41MiAyIDEyIDJ6bTAgMThjLTQuNDEgMC04LTMuNTktOC04czMuNTktOCA4LTggOCAzLjU5IDggOC0zLjU5IDgtOCA4elwiIH0pKTtcbmNvbnN0IFVua25vd25UaHVtYm5haWxJY29uID0gY3JlYXRlSWNvbihcIlVua25vd25UaHVtYm5haWxcIiwgUmVhY3QuY3JlYXRlRWxlbWVudChcInBhdGhcIiwgeyBkOiBcIk0yMyAxOFY2YzAtMS4xLS45LTItMi0ySDNjLTEuMSAwLTIgLjktMiAydjEyYzAgMS4xLjkgMiAyIDJoMThjMS4xIDAgMi0uOSAyLTJ6TTguNSAxMi41bDIuNSAzLjAxTDE0LjUgMTFsNC41IDZINWwzLjUtNC41elwiIH0pKTtcbmZ1bmN0aW9uIHJlbmRlclRodW1ibmFpbCh7IHNsaWRlLCByZW5kZXIsIHJlY3QsIGltYWdlRml0IH0pIHtcbiAgICB2YXIgX2E7XG4gICAgY29uc3QgY3VzdG9tVGh1bWJuYWlsID0gKF9hID0gcmVuZGVyLnRodW1ibmFpbCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwocmVuZGVyLCB7IHNsaWRlLCByZW5kZXIsIHJlY3QsIGltYWdlRml0IH0pO1xuICAgIGlmIChjdXN0b21UaHVtYm5haWwpIHtcbiAgICAgICAgcmV0dXJuIGN1c3RvbVRodW1ibmFpbDtcbiAgICB9XG4gICAgY29uc3QgaW1hZ2VTbGlkZVByb3BzID0geyByZW5kZXIsIHJlY3QsIGltYWdlRml0IH07XG4gICAgaWYgKHNsaWRlLnRodW1ibmFpbCkge1xuICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChJbWFnZVNsaWRlLCB7IHNsaWRlOiB7IHNyYzogc2xpZGUudGh1bWJuYWlsIH0sIC4uLmltYWdlU2xpZGVQcm9wcyB9KTtcbiAgICB9XG4gICAgaWYgKGlzSW1hZ2VTbGlkZShzbGlkZSkpIHtcbiAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoSW1hZ2VTbGlkZSwgeyBzbGlkZTogc2xpZGUsIC4uLmltYWdlU2xpZGVQcm9wcyB9KTtcbiAgICB9XG4gICAgY29uc3QgdGh1bWJuYWlsSWNvbkNsYXNzID0gY3NzQ2xhc3MoY3NzVGh1bWJuYWlsUHJlZml4KEVMRU1FTlRfSUNPTikpO1xuICAgIGlmIChzbGlkZS50eXBlID09PSBcInZpZGVvXCIpIHtcbiAgICAgICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFJlYWN0LkZyYWdtZW50LCBudWxsLFxuICAgICAgICAgICAgc2xpZGUucG9zdGVyICYmIFJlYWN0LmNyZWF0ZUVsZW1lbnQoSW1hZ2VTbGlkZSwgeyBzbGlkZTogeyBzcmM6IHNsaWRlLnBvc3RlciB9LCAuLi5pbWFnZVNsaWRlUHJvcHMgfSksXG4gICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFZpZGVvVGh1bWJuYWlsSWNvbiwgeyBjbGFzc05hbWU6IHRodW1ibmFpbEljb25DbGFzcyB9KSkpO1xuICAgIH1cbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChVbmtub3duVGh1bWJuYWlsSWNvbiwgeyBjbGFzc05hbWU6IHRodW1ibmFpbEljb25DbGFzcyB9KTtcbn1cbmNvbnN0IGFjdGl2ZVByZWZpeCA9IG1ha2VDb21wb3NlUHJlZml4KFwiYWN0aXZlXCIpO1xuY29uc3QgZmFkZUluUHJlZml4ID0gbWFrZUNvbXBvc2VQcmVmaXgoXCJmYWRlaW5cIik7XG5jb25zdCBmYWRlT3V0UHJlZml4ID0gbWFrZUNvbXBvc2VQcmVmaXgoXCJmYWRlb3V0XCIpO1xuY29uc3QgcGxhY2Vob2xkZXJQcmVmaXggPSBtYWtlQ29tcG9zZVByZWZpeChcInBsYWNlaG9sZGVyXCIpO1xuY29uc3QgREVMQVkgPSBcImRlbGF5XCI7XG5jb25zdCBEVVJBVElPTiA9IFwiZHVyYXRpb25cIjtcbmZ1bmN0aW9uIFRodW1ibmFpbCh7IHNsaWRlLCBvbkNsaWNrLCBhY3RpdmUsIGZhZGVJbiwgZmFkZU91dCwgcGxhY2Vob2xkZXIsIG9uTG9zZUZvY3VzIH0pIHtcbiAgICBjb25zdCByZWYgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gICAgY29uc3QgeyByZW5kZXIsIHN0eWxlcyB9ID0gdXNlTGlnaHRib3hQcm9wcygpO1xuICAgIGNvbnN0IHsgZ2V0T3duZXJEb2N1bWVudCB9ID0gdXNlRG9jdW1lbnRDb250ZXh0KCk7XG4gICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0LCBpbWFnZUZpdCB9ID0gdXNlVGh1bWJuYWlsc1Byb3BzKCk7XG4gICAgY29uc3QgcmVjdCA9IHsgd2lkdGgsIGhlaWdodCB9O1xuICAgIGNvbnN0IG9uTG9zZUZvY3VzQ2FsbGJhY2sgPSB1c2VFdmVudENhbGxiYWNrKG9uTG9zZUZvY3VzKTtcbiAgICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoZmFkZU91dCAmJiBnZXRPd25lckRvY3VtZW50KCkuYWN0aXZlRWxlbWVudCA9PT0gcmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAgIG9uTG9zZUZvY3VzQ2FsbGJhY2soKTtcbiAgICAgICAgfVxuICAgIH0sIFtmYWRlT3V0LCBvbkxvc2VGb2N1c0NhbGxiYWNrLCBnZXRPd25lckRvY3VtZW50XSk7XG4gICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIsIHsgcmVmOiByZWYsIHR5cGU6IFwiYnV0dG9uXCIsIGNsYXNzTmFtZTogY2xzeChjc3NDbGFzcyhDTEFTU19GTEVYX0NFTlRFUiksIGNzc0NsYXNzKGNzc1RodW1ibmFpbFByZWZpeCgpKSwgYWN0aXZlICYmIGNzc0NsYXNzKGNzc1RodW1ibmFpbFByZWZpeChhY3RpdmVQcmVmaXgoKSkpLCBmYWRlSW4gJiYgY3NzQ2xhc3MoY3NzVGh1bWJuYWlsUHJlZml4KGZhZGVJblByZWZpeCgpKSksIGZhZGVPdXQgJiYgY3NzQ2xhc3MoY3NzVGh1bWJuYWlsUHJlZml4KGZhZGVPdXRQcmVmaXgoKSkpLCBwbGFjZWhvbGRlciAmJiBjc3NDbGFzcyhjc3NUaHVtYm5haWxQcmVmaXgocGxhY2Vob2xkZXJQcmVmaXgoKSkpKSwgc3R5bGU6IHtcbiAgICAgICAgICAgIC4uLihmYWRlSW5cbiAgICAgICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICAgICAgW2Nzc1Zhcihjc3NUaHVtYm5haWxQcmVmaXgoZmFkZUluUHJlZml4KERVUkFUSU9OKSkpXTogYCR7ZmFkZUluLmR1cmF0aW9ufW1zYCxcbiAgICAgICAgICAgICAgICAgICAgW2Nzc1Zhcihjc3NUaHVtYm5haWxQcmVmaXgoZmFkZUluUHJlZml4KERFTEFZKSkpXTogYCR7ZmFkZUluLmRlbGF5fW1zYCxcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgOiBudWxsKSxcbiAgICAgICAgICAgIC4uLihmYWRlT3V0XG4gICAgICAgICAgICAgICAgPyB7XG4gICAgICAgICAgICAgICAgICAgIFtjc3NWYXIoY3NzVGh1bWJuYWlsUHJlZml4KGZhZGVPdXRQcmVmaXgoRFVSQVRJT04pKSldOiBgJHtmYWRlT3V0LmR1cmF0aW9ufW1zYCxcbiAgICAgICAgICAgICAgICAgICAgW2Nzc1Zhcihjc3NUaHVtYm5haWxQcmVmaXgoZmFkZU91dFByZWZpeChERUxBWSkpKV06IGAke2ZhZGVPdXQuZGVsYXl9bXNgLFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICA6IG51bGwpLFxuICAgICAgICAgICAgLi4uc3R5bGVzLnRodW1ibmFpbCxcbiAgICAgICAgfSwgb25DbGljazogb25DbGljayB9LCBzbGlkZSAmJiByZW5kZXJUaHVtYm5haWwoeyBzbGlkZSwgcmVuZGVyLCByZWN0LCBpbWFnZUZpdCB9KSkpO1xufVxuXG5mdW5jdGlvbiBpc0hvcml6b250YWwocG9zaXRpb24pIHtcbiAgICByZXR1cm4gW1widG9wXCIsIFwiYm90dG9tXCJdLmluY2x1ZGVzKHBvc2l0aW9uKTtcbn1cbmZ1bmN0aW9uIGJveFNpemUodGh1bWJuYWlscywgZGltZW5zaW9uKSB7XG4gICAgcmV0dXJuIGRpbWVuc2lvbiArIDIgKiAodGh1bWJuYWlscy5ib3JkZXIgKyB0aHVtYm5haWxzLnBhZGRpbmcpICsgdGh1bWJuYWlscy5nYXA7XG59XG5mdW5jdGlvbiBnZXRUaHVtYm5haWxLZXkoc2xpZGUpIHtcbiAgICBjb25zdCB7IHRodW1ibmFpbCwgcG9zdGVyIH0gPSBzbGlkZSB8fCB7IHRodW1ibmFpbDogXCJwbGFjZWhvbGRlclwiIH07XG4gICAgcmV0dXJuICgodHlwZW9mIHRodW1ibmFpbCA9PT0gXCJzdHJpbmdcIiAmJiB0aHVtYm5haWwpIHx8XG4gICAgICAgICh0eXBlb2YgcG9zdGVyID09PSBcInN0cmluZ1wiICYmIHBvc3RlcikgfHxcbiAgICAgICAgKHNsaWRlICYmIGdldFNsaWRlS2V5KHNsaWRlKSkgfHxcbiAgICAgICAgdW5kZWZpbmVkKTtcbn1cbmZ1bmN0aW9uIFRodW1ibmFpbHNUcmFjayh7IHZpc2libGUsIGNvbnRhaW5lclJlZiB9KSB7XG4gICAgY29uc3QgdHJhY2sgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gICAgY29uc3QgaXNSVEwgPSB1c2VSVEwoKTtcbiAgICBjb25zdCB7IHB1Ymxpc2gsIHN1YnNjcmliZSB9ID0gdXNlRXZlbnRzKCk7XG4gICAgY29uc3QgeyBjYXJvdXNlbCwgc3R5bGVzIH0gPSB1c2VMaWdodGJveFByb3BzKCk7XG4gICAgY29uc3QgeyBzbGlkZXMsIGdsb2JhbEluZGV4LCBhbmltYXRpb24gfSA9IHVzZUxpZ2h0Ym94U3RhdGUoKTtcbiAgICBjb25zdCB7IHJlZ2lzdGVyU2Vuc29ycywgc3Vic2NyaWJlU2Vuc29ycyB9ID0gdXNlU2Vuc29ycygpO1xuICAgIHVzZUtleWJvYXJkTmF2aWdhdGlvbihzdWJzY3JpYmVTZW5zb3JzKTtcbiAgICBjb25zdCB0aHVtYm5haWxzID0gdXNlVGh1bWJuYWlsc1Byb3BzKCk7XG4gICAgY29uc3QgeyBwb3NpdGlvbiwgd2lkdGgsIGhlaWdodCwgYm9yZGVyLCBib3JkZXJTdHlsZSwgYm9yZGVyQ29sb3IsIGJvcmRlclJhZGl1cywgcGFkZGluZywgZ2FwLCB2aWduZXR0ZSB9ID0gdGh1bWJuYWlscztcbiAgICBjb25zdCBhbmltYXRpb25EdXJhdGlvbiA9IChhbmltYXRpb24gPT09IG51bGwgfHwgYW5pbWF0aW9uID09PSB2b2lkIDAgPyB2b2lkIDAgOiBhbmltYXRpb24uZHVyYXRpb24pIHx8IDA7XG4gICAgY29uc3Qgb2Zmc2V0ID0gKGFuaW1hdGlvbkR1cmF0aW9uID4gMCAmJiAoYW5pbWF0aW9uID09PSBudWxsIHx8IGFuaW1hdGlvbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogYW5pbWF0aW9uLmluY3JlbWVudCkpIHx8IDA7XG4gICAgY29uc3QgeyBwcmVwYXJlQW5pbWF0aW9uIH0gPSB1c2VBbmltYXRpb24odHJhY2ssIChzbmFwc2hvdCkgPT4gKHtcbiAgICAgICAga2V5ZnJhbWVzOiBpc0hvcml6b250YWwocG9zaXRpb24pXG4gICAgICAgICAgICA/IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogYHRyYW5zbGF0ZVgoJHsoaXNSVEwgPyAtMSA6IDEpICogYm94U2l6ZSh0aHVtYm5haWxzLCB3aWR0aCkgKiBvZmZzZXQgKyBzbmFwc2hvdH1weClgLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgeyB0cmFuc2Zvcm06IFwidHJhbnNsYXRlWCgwKVwiIH0sXG4gICAgICAgICAgICBdXG4gICAgICAgICAgICA6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogYHRyYW5zbGF0ZVkoJHtib3hTaXplKHRodW1ibmFpbHMsIGhlaWdodCkgKiBvZmZzZXQgKyBzbmFwc2hvdH1weClgLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgeyB0cmFuc2Zvcm06IFwidHJhbnNsYXRlWSgwKVwiIH0sXG4gICAgICAgICAgICBdLFxuICAgICAgICBkdXJhdGlvbjogYW5pbWF0aW9uRHVyYXRpb24sXG4gICAgICAgIGVhc2luZzogYW5pbWF0aW9uID09PSBudWxsIHx8IGFuaW1hdGlvbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogYW5pbWF0aW9uLmVhc2luZyxcbiAgICB9KSk7XG4gICAgY29uc3QgaGFuZGxlQ29udHJvbGxlclN3aXBlID0gdXNlRXZlbnRDYWxsYmFjaygoKSA9PiB7XG4gICAgICAgIGxldCBhbmltYXRpb25PZmZzZXQgPSAwO1xuICAgICAgICBpZiAoY29udGFpbmVyUmVmLmN1cnJlbnQgJiYgdHJhY2suY3VycmVudCkge1xuICAgICAgICAgICAgY29uc3QgY29udGFpbmVyUmVjdCA9IGNvbnRhaW5lclJlZi5jdXJyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgICAgY29uc3QgdHJhY2tSZWN0ID0gdHJhY2suY3VycmVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgICAgIGFuaW1hdGlvbk9mZnNldCA9IGlzSG9yaXpvbnRhbChwb3NpdGlvbilcbiAgICAgICAgICAgICAgICA/IHRyYWNrUmVjdC5sZWZ0IC0gY29udGFpbmVyUmVjdC5sZWZ0IC0gKGNvbnRhaW5lclJlY3Qud2lkdGggLSB0cmFja1JlY3Qud2lkdGgpIC8gMlxuICAgICAgICAgICAgICAgIDogdHJhY2tSZWN0LnRvcCAtIGNvbnRhaW5lclJlY3QudG9wIC0gKGNvbnRhaW5lclJlY3QuaGVpZ2h0IC0gdHJhY2tSZWN0LmhlaWdodCkgLyAyO1xuICAgICAgICB9XG4gICAgICAgIHByZXBhcmVBbmltYXRpb24oYW5pbWF0aW9uT2Zmc2V0KTtcbiAgICB9KTtcbiAgICBSZWFjdC51c2VFZmZlY3QoKCkgPT4gY2xlYW51cChzdWJzY3JpYmUoQUNUSU9OX1NXSVBFLCBoYW5kbGVDb250cm9sbGVyU3dpcGUpKSwgW3N1YnNjcmliZSwgaGFuZGxlQ29udHJvbGxlclN3aXBlXSk7XG4gICAgY29uc3QgcHJlbG9hZCA9IGNhbGN1bGF0ZVByZWxvYWQoY2Fyb3VzZWwsIHNsaWRlcyk7XG4gICAgY29uc3QgaXRlbXMgPSBbXTtcbiAgICBpZiAoaGFzU2xpZGVzKHNsaWRlcykpIHtcbiAgICAgICAgZm9yIChsZXQgaW5kZXggPSBnbG9iYWxJbmRleCAtIHByZWxvYWQgLSBNYXRoLmFicyhvZmZzZXQpOyBpbmRleCA8PSBnbG9iYWxJbmRleCArIHByZWxvYWQgKyBNYXRoLmFicyhvZmZzZXQpOyBpbmRleCArPSAxKSB7XG4gICAgICAgICAgICBjb25zdCBwbGFjZWhvbGRlciA9IChjYXJvdXNlbC5maW5pdGUgJiYgKGluZGV4IDwgMCB8fCBpbmRleCA+IHNsaWRlcy5sZW5ndGggLSAxKSkgfHxcbiAgICAgICAgICAgICAgICAob2Zmc2V0IDwgMCAmJiBpbmRleCA8IGdsb2JhbEluZGV4IC0gcHJlbG9hZCkgfHxcbiAgICAgICAgICAgICAgICAob2Zmc2V0ID4gMCAmJiBpbmRleCA+IGdsb2JhbEluZGV4ICsgcHJlbG9hZCk7XG4gICAgICAgICAgICBjb25zdCBzbGlkZSA9ICFwbGFjZWhvbGRlciA/IGdldFNsaWRlKHNsaWRlcywgaW5kZXgpIDogbnVsbDtcbiAgICAgICAgICAgIGNvbnN0IGtleSA9IFtgJHtpbmRleH1gLCBnZXRUaHVtYm5haWxLZXkoc2xpZGUpXS5maWx0ZXIoQm9vbGVhbikuam9pbihcInxcIik7XG4gICAgICAgICAgICBpdGVtcy5wdXNoKHsga2V5LCBpbmRleCwgc2xpZGUgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgaGFuZGxlQ2xpY2sgPSAoc2xpZGVJbmRleCkgPT4gKCkgPT4ge1xuICAgICAgICBpZiAoc2xpZGVJbmRleCA+IGdsb2JhbEluZGV4KSB7XG4gICAgICAgICAgICBwdWJsaXNoKEFDVElPTl9ORVhULCB7IGNvdW50OiBzbGlkZUluZGV4IC0gZ2xvYmFsSW5kZXggfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoc2xpZGVJbmRleCA8IGdsb2JhbEluZGV4KSB7XG4gICAgICAgICAgICBwdWJsaXNoKEFDVElPTl9QUkVWLCB7IGNvdW50OiBnbG9iYWxJbmRleCAtIHNsaWRlSW5kZXggfSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogY2xzeChjc3NDbGFzcyhjc3NQcmVmaXgoXCJjb250YWluZXJcIikpLCBjc3NDbGFzcyhDTEFTU19GTEVYX0NFTlRFUikpLCBzdHlsZToge1xuICAgICAgICAgICAgLi4uKCF2aXNpYmxlID8geyBkaXNwbGF5OiBcIm5vbmVcIiB9IDogbnVsbCksXG4gICAgICAgICAgICAuLi4od2lkdGggIT09IGRlZmF1bHRUaHVtYm5haWxzUHJvcHMud2lkdGggPyB7IFtjc3NWYXIoY3NzVGh1bWJuYWlsUHJlZml4KFwid2lkdGhcIikpXTogYCR7d2lkdGh9cHhgIH0gOiBudWxsKSxcbiAgICAgICAgICAgIC4uLihoZWlnaHQgIT09IGRlZmF1bHRUaHVtYm5haWxzUHJvcHMuaGVpZ2h0XG4gICAgICAgICAgICAgICAgPyB7IFtjc3NWYXIoY3NzVGh1bWJuYWlsUHJlZml4KFwiaGVpZ2h0XCIpKV06IGAke2hlaWdodH1weGAgfVxuICAgICAgICAgICAgICAgIDogbnVsbCksXG4gICAgICAgICAgICAuLi4oYm9yZGVyICE9PSBkZWZhdWx0VGh1bWJuYWlsc1Byb3BzLmJvcmRlclxuICAgICAgICAgICAgICAgID8geyBbY3NzVmFyKGNzc1RodW1ibmFpbFByZWZpeChcImJvcmRlclwiKSldOiBgJHtib3JkZXJ9cHhgIH1cbiAgICAgICAgICAgICAgICA6IG51bGwpLFxuICAgICAgICAgICAgLi4uKGJvcmRlclN0eWxlID8geyBbY3NzVmFyKGNzc1RodW1ibmFpbFByZWZpeChcImJvcmRlcl9zdHlsZVwiKSldOiBib3JkZXJTdHlsZSB9IDogbnVsbCksXG4gICAgICAgICAgICAuLi4oYm9yZGVyQ29sb3IgPyB7IFtjc3NWYXIoY3NzVGh1bWJuYWlsUHJlZml4KFwiYm9yZGVyX2NvbG9yXCIpKV06IGJvcmRlckNvbG9yIH0gOiBudWxsKSxcbiAgICAgICAgICAgIC4uLihib3JkZXJSYWRpdXMgIT09IGRlZmF1bHRUaHVtYm5haWxzUHJvcHMuYm9yZGVyUmFkaXVzXG4gICAgICAgICAgICAgICAgPyB7IFtjc3NWYXIoY3NzVGh1bWJuYWlsUHJlZml4KFwiYm9yZGVyX3JhZGl1c1wiKSldOiBgJHtib3JkZXJSYWRpdXN9cHhgIH1cbiAgICAgICAgICAgICAgICA6IG51bGwpLFxuICAgICAgICAgICAgLi4uKHBhZGRpbmcgIT09IGRlZmF1bHRUaHVtYm5haWxzUHJvcHMucGFkZGluZ1xuICAgICAgICAgICAgICAgID8geyBbY3NzVmFyKGNzc1RodW1ibmFpbFByZWZpeChcInBhZGRpbmdcIikpXTogYCR7cGFkZGluZ31weGAgfVxuICAgICAgICAgICAgICAgIDogbnVsbCksXG4gICAgICAgICAgICAuLi4oZ2FwICE9PSBkZWZhdWx0VGh1bWJuYWlsc1Byb3BzLmdhcCA/IHsgW2Nzc1Zhcihjc3NUaHVtYm5haWxQcmVmaXgoXCJnYXBcIikpXTogYCR7Z2FwfXB4YCB9IDogbnVsbCksXG4gICAgICAgICAgICAuLi5zdHlsZXMudGh1bWJuYWlsc0NvbnRhaW5lcixcbiAgICAgICAgfSB9LFxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwibmF2XCIsIHsgcmVmOiB0cmFjaywgc3R5bGU6IHN0eWxlcy50aHVtYm5haWxzVHJhY2ssIGNsYXNzTmFtZTogY2xzeChjc3NDbGFzcyhjc3NQcmVmaXgoXCJ0cmFja1wiKSksIGNzc0NsYXNzKENMQVNTX0ZMRVhfQ0VOVEVSKSksIHRhYkluZGV4OiAtMSwgLi4ucmVnaXN0ZXJTZW5zb3JzIH0sIGl0ZW1zLm1hcCgoeyBrZXksIGluZGV4LCBzbGlkZSB9KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBmYWRlQW5pbWF0aW9uRHVyYXRpb24gPSBhbmltYXRpb25EdXJhdGlvbiAvIE1hdGguYWJzKG9mZnNldCB8fCAxKTtcbiAgICAgICAgICAgIGNvbnN0IGZhZGVJbiA9IChvZmZzZXQgPiAwICYmIGluZGV4ID4gZ2xvYmFsSW5kZXggKyBwcmVsb2FkIC0gb2Zmc2V0ICYmIGluZGV4IDw9IGdsb2JhbEluZGV4ICsgcHJlbG9hZCkgfHxcbiAgICAgICAgICAgICAgICAob2Zmc2V0IDwgMCAmJiBpbmRleCA8IGdsb2JhbEluZGV4IC0gcHJlbG9hZCAtIG9mZnNldCAmJiBpbmRleCA+PSBnbG9iYWxJbmRleCAtIHByZWxvYWQpXG4gICAgICAgICAgICAgICAgPyB7XG4gICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiBmYWRlQW5pbWF0aW9uRHVyYXRpb24sXG4gICAgICAgICAgICAgICAgICAgIGRlbGF5OiAoKG9mZnNldCA+IDAgPyBpbmRleCAtIChnbG9iYWxJbmRleCArIHByZWxvYWQgLSBvZmZzZXQpIDogZ2xvYmFsSW5kZXggLSBwcmVsb2FkIC0gb2Zmc2V0IC0gaW5kZXgpIC1cbiAgICAgICAgICAgICAgICAgICAgICAgIDEpICpcbiAgICAgICAgICAgICAgICAgICAgICAgIGZhZGVBbmltYXRpb25EdXJhdGlvbixcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICBjb25zdCBmYWRlT3V0ID0gKG9mZnNldCA+IDAgJiYgaW5kZXggPCBnbG9iYWxJbmRleCAtIHByZWxvYWQpIHx8IChvZmZzZXQgPCAwICYmIGluZGV4ID4gZ2xvYmFsSW5kZXggKyBwcmVsb2FkKVxuICAgICAgICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogZmFkZUFuaW1hdGlvbkR1cmF0aW9uLFxuICAgICAgICAgICAgICAgICAgICBkZWxheTogKG9mZnNldCA+IDBcbiAgICAgICAgICAgICAgICAgICAgICAgID8gb2Zmc2V0IC0gKGdsb2JhbEluZGV4IC0gcHJlbG9hZCAtIGluZGV4KVxuICAgICAgICAgICAgICAgICAgICAgICAgOiAtb2Zmc2V0IC0gKGluZGV4IC0gKGdsb2JhbEluZGV4ICsgcHJlbG9hZCkpKSAqIGZhZGVBbmltYXRpb25EdXJhdGlvbixcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoVGh1bWJuYWlsLCB7IGtleToga2V5LCBzbGlkZTogc2xpZGUsIGFjdGl2ZTogaW5kZXggPT09IGdsb2JhbEluZGV4LCBmYWRlSW46IGZhZGVJbiwgZmFkZU91dDogZmFkZU91dCwgcGxhY2Vob2xkZXI6ICFzbGlkZSwgb25DbGljazogaGFuZGxlQ2xpY2soaW5kZXgpLCBvbkxvc2VGb2N1czogKCkgPT4geyB2YXIgX2E7IHJldHVybiAoX2EgPSB0cmFjay5jdXJyZW50KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZm9jdXMoKTsgfSB9KSk7XG4gICAgICAgIH0pKSxcbiAgICAgICAgdmlnbmV0dGUgJiYgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogY3NzQ2xhc3MoY3NzUHJlZml4KFwidmlnbmV0dGVcIikpIH0pKSk7XG59XG5cbmNvbnN0IFRodW1ibmFpbHNDb250ZXh0ID0gUmVhY3QuY3JlYXRlQ29udGV4dChudWxsKTtcbmNvbnN0IHVzZVRodW1ibmFpbHMgPSBtYWtlVXNlQ29udGV4dChcInVzZVRodW1ibmFpbHNcIiwgXCJUaHVtYm5haWxzQ29udGV4dFwiLCBUaHVtYm5haWxzQ29udGV4dCk7XG5mdW5jdGlvbiBUaHVtYm5haWxzQ29udGV4dFByb3ZpZGVyKHsgY2hpbGRyZW4sIC4uLnByb3BzIH0pIHtcbiAgICBjb25zdCB7IHJlZiwgcG9zaXRpb24sIGhpZGRlbiB9ID0gcmVzb2x2ZVRodW1ibmFpbHNQcm9wcyhwcm9wcy50aHVtYm5haWxzKTtcbiAgICBjb25zdCBbdmlzaWJsZSwgc2V0VmlzaWJsZV0gPSBSZWFjdC51c2VTdGF0ZSghaGlkZGVuKTtcbiAgICBjb25zdCBjb250YWluZXJSZWYgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gICAgY29uc3QgY29udGV4dCA9IFJlYWN0LnVzZU1lbW8oKCkgPT4gKHtcbiAgICAgICAgdmlzaWJsZSxcbiAgICAgICAgc2hvdzogKCkgPT4gc2V0VmlzaWJsZSh0cnVlKSxcbiAgICAgICAgaGlkZTogKCkgPT4gc2V0VmlzaWJsZShmYWxzZSksXG4gICAgfSksIFt2aXNpYmxlXSk7XG4gICAgUmVhY3QudXNlSW1wZXJhdGl2ZUhhbmRsZShyZWYsICgpID0+IGNvbnRleHQsIFtjb250ZXh0XSk7XG4gICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KExpZ2h0Ym94UHJvcHNQcm92aWRlciwgeyAuLi5wcm9wcyB9LFxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFRodW1ibmFpbHNDb250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlOiBjb250ZXh0IH0sXG4gICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgcmVmOiBjb250YWluZXJSZWYsIGNsYXNzTmFtZTogY2xzeChjc3NDbGFzcyhjc3NQcmVmaXgoKSksIGNzc0NsYXNzKGNzc1ByZWZpeChgJHtwb3NpdGlvbn1gKSkpIH0sXG4gICAgICAgICAgICAgICAgW1wic3RhcnRcIiwgXCJ0b3BcIl0uaW5jbHVkZXMocG9zaXRpb24pICYmIFJlYWN0LmNyZWF0ZUVsZW1lbnQoVGh1bWJuYWlsc1RyYWNrLCB7IGNvbnRhaW5lclJlZjogY29udGFpbmVyUmVmLCB2aXNpYmxlOiB2aXNpYmxlIH0pLFxuICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IGNzc0NsYXNzKGNzc1ByZWZpeChcIndyYXBwZXJcIikpIH0sIGNoaWxkcmVuKSxcbiAgICAgICAgICAgICAgICBbXCJlbmRcIiwgXCJib3R0b21cIl0uaW5jbHVkZXMocG9zaXRpb24pICYmIFJlYWN0LmNyZWF0ZUVsZW1lbnQoVGh1bWJuYWlsc1RyYWNrLCB7IGNvbnRhaW5lclJlZjogY29udGFpbmVyUmVmLCB2aXNpYmxlOiB2aXNpYmxlIH0pKSkpKTtcbn1cblxuY29uc3QgdGh1bWJuYWlsc0ljb24gPSAoKSA9PiAoUmVhY3QuY3JlYXRlRWxlbWVudChSZWFjdC5GcmFnbWVudCwgbnVsbCxcbiAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7IHN0cm9rZVdpZHRoOiAyLCBzdHJva2U6IFwiY3VycmVudENvbG9yXCIsIHN0cm9rZUxpbmVqb2luOiBcInJvdW5kXCIsIGZpbGw6IFwibm9uZVwiLCBkOiBcIk0zIDVsMTggMGwwIDE0bC0xOCAwbDAtMTR6XCIgfSksXG4gICAgUmVhY3QuY3JlYXRlRWxlbWVudChcInBhdGhcIiwgeyBkOiBcIk01IDE0aDR2M2gtNHpNMTAgMTRoNHYzaC00ek0xNSAxNGg0djNoLTR6XCIgfSkpKTtcbmNvbnN0IFRodW1ibmFpbHNWaXNpYmxlID0gY3JlYXRlSWNvbihcIlRodW1ibmFpbHNWaXNpYmxlXCIsIHRodW1ibmFpbHNJY29uKCkpO1xuY29uc3QgVGh1bWJuYWlsc0hpZGRlbiA9IGNyZWF0ZUljb25EaXNhYmxlZChcIlRodW1ibmFpbHNIaWRkZW5cIiwgdGh1bWJuYWlsc0ljb24oKSk7XG5mdW5jdGlvbiBUaHVtYm5haWxzQnV0dG9uKCkge1xuICAgIGNvbnN0IHsgdmlzaWJsZSwgc2hvdywgaGlkZSB9ID0gdXNlVGh1bWJuYWlscygpO1xuICAgIGNvbnN0IHsgcmVuZGVyIH0gPSB1c2VMaWdodGJveFByb3BzKCk7XG4gICAgaWYgKHJlbmRlci5idXR0b25UaHVtYm5haWxzKSB7XG4gICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFJlYWN0LkZyYWdtZW50LCBudWxsLCByZW5kZXIuYnV0dG9uVGh1bWJuYWlscyh7IHZpc2libGUsIHNob3csIGhpZGUgfSkpO1xuICAgIH1cbiAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoSWNvbkJ1dHRvbiwgeyBsYWJlbDogdmlzaWJsZSA/IFwiSGlkZSB0aHVtYm5haWxzXCIgOiBcIlNob3cgdGh1bWJuYWlsc1wiLCBpY29uOiB2aXNpYmxlID8gVGh1bWJuYWlsc1Zpc2libGUgOiBUaHVtYm5haWxzSGlkZGVuLCByZW5kZXJJY29uOiB2aXNpYmxlID8gcmVuZGVyLmljb25UaHVtYm5haWxzVmlzaWJsZSA6IHJlbmRlci5pY29uVGh1bWJuYWlsc0hpZGRlbiwgb25DbGljazogdmlzaWJsZSA/IGhpZGUgOiBzaG93IH0pKTtcbn1cblxuZnVuY3Rpb24gVGh1bWJuYWlscyh7IGF1Z21lbnQsIGNvbnRhaW5zLCBhcHBlbmQsIGFkZFBhcmVudCB9KSB7XG4gICAgYXVnbWVudCgoeyB0aHVtYm5haWxzOiB0aHVtYm5haWxzUHJvcHMsIHRvb2xiYXIsIC4uLnJlc3RQcm9wcyB9KSA9PiB7XG4gICAgICAgIGNvbnN0IHRodW1ibmFpbHMgPSByZXNvbHZlVGh1bWJuYWlsc1Byb3BzKHRodW1ibmFpbHNQcm9wcyk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0b29sYmFyOiBhZGRUb29sYmFyQnV0dG9uKHRvb2xiYXIsIFBMVUdJTl9USFVNQk5BSUxTLCB0aHVtYm5haWxzLnNob3dUb2dnbGUgPyBSZWFjdC5jcmVhdGVFbGVtZW50KFRodW1ibmFpbHNCdXR0b24sIG51bGwpIDogbnVsbCksXG4gICAgICAgICAgICB0aHVtYm5haWxzLFxuICAgICAgICAgICAgLi4ucmVzdFByb3BzLFxuICAgICAgICB9O1xuICAgIH0pO1xuICAgIGNvbnN0IG1vZHVsZSA9IGNyZWF0ZU1vZHVsZShQTFVHSU5fVEhVTUJOQUlMUywgVGh1bWJuYWlsc0NvbnRleHRQcm92aWRlcik7XG4gICAgaWYgKGNvbnRhaW5zKFBMVUdJTl9GVUxMU0NSRUVOKSkge1xuICAgICAgICBhcHBlbmQoUExVR0lOX0ZVTExTQ1JFRU4sIG1vZHVsZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBhZGRQYXJlbnQoTU9EVUxFX0NPTlRST0xMRVIsIG1vZHVsZSk7XG4gICAgfVxufVxuXG5leHBvcnQgeyBUaHVtYm5haWxzIGFzIGRlZmF1bHQgfTtcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/yet-another-react-lightbox/dist/plugins/thumbnails/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/yet-another-react-lightbox/dist/plugins/zoom/index.js":
/*!****************************************************************************!*\
  !*** ./node_modules/yet-another-react-lightbox/dist/plugins/zoom/index.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Zoom)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var _index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../index.js */ \"(ssr)/./node_modules/yet-another-react-lightbox/dist/index.js\");\n/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../types.js */ \"(ssr)/./node_modules/yet-another-react-lightbox/dist/types.js\");\n\n\n\n\nconst defaultZoomProps = {\n    maxZoomPixelRatio: 1,\n    zoomInMultiplier: 2,\n    doubleTapDelay: 300,\n    doubleClickDelay: 500,\n    doubleClickMaxStops: 2,\n    keyboardMoveDistance: 50,\n    wheelZoomDistanceFactor: 100,\n    pinchZoomDistanceFactor: 100,\n    scrollToZoom: false,\n};\nconst resolveZoomProps = (zoom) => ({\n    ...defaultZoomProps,\n    ...zoom,\n});\n\nfunction useZoomAnimation(zoom, offsetX, offsetY, zoomWrapperRef) {\n    const zoomAnimation = react__WEBPACK_IMPORTED_MODULE_0__.useRef();\n    const zoomAnimationStart = react__WEBPACK_IMPORTED_MODULE_0__.useRef();\n    const { zoom: zoomAnimationDuration } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useLightboxProps)().animation;\n    const reduceMotion = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useMotionPreference)();\n    const playZoomAnimation = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useEventCallback)(() => {\n        var _a, _b, _c;\n        (_a = zoomAnimation.current) === null || _a === void 0 ? void 0 : _a.cancel();\n        zoomAnimation.current = undefined;\n        if (zoomAnimationStart.current && (zoomWrapperRef === null || zoomWrapperRef === void 0 ? void 0 : zoomWrapperRef.current)) {\n            try {\n                zoomAnimation.current = (_c = (_b = zoomWrapperRef.current).animate) === null || _c === void 0 ? void 0 : _c.call(_b, [\n                    { transform: zoomAnimationStart.current },\n                    { transform: `scale(${zoom}) translateX(${offsetX}px) translateY(${offsetY}px)` },\n                ], {\n                    duration: !reduceMotion ? (zoomAnimationDuration !== null && zoomAnimationDuration !== void 0 ? zoomAnimationDuration : 500) : 0,\n                    easing: zoomAnimation.current ? \"ease-out\" : \"ease-in-out\",\n                });\n            }\n            catch (err) {\n                console.error(err);\n            }\n            zoomAnimationStart.current = undefined;\n            if (zoomAnimation.current) {\n                zoomAnimation.current.onfinish = () => {\n                    zoomAnimation.current = undefined;\n                };\n            }\n        }\n    });\n    (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useLayoutEffect)(playZoomAnimation, [zoom, offsetX, offsetY, playZoomAnimation]);\n    return react__WEBPACK_IMPORTED_MODULE_0__.useCallback(() => {\n        zoomAnimationStart.current = (zoomWrapperRef === null || zoomWrapperRef === void 0 ? void 0 : zoomWrapperRef.current)\n            ? window.getComputedStyle(zoomWrapperRef.current).transform\n            : undefined;\n    }, [zoomWrapperRef]);\n}\n\nfunction useZoomCallback(zoom, disabled) {\n    const { on } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useLightboxProps)();\n    const onZoomCallback = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useEventCallback)(() => {\n        var _a;\n        if (!disabled) {\n            (_a = on.zoom) === null || _a === void 0 ? void 0 : _a.call(on, { zoom });\n        }\n    });\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(onZoomCallback, [zoom, onZoomCallback]);\n}\n\nfunction useZoomProps() {\n    const { zoom } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useLightboxProps)();\n    return resolveZoomProps(zoom);\n}\n\nfunction useZoomImageRect(slideRect, imageDimensions) {\n    var _a, _b;\n    let imageRect = { width: 0, height: 0 };\n    let maxImageRect = { width: 0, height: 0 };\n    const { currentSlide } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useLightboxState)();\n    const { imageFit } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useLightboxProps)().carousel;\n    const { maxZoomPixelRatio } = useZoomProps();\n    if (slideRect && currentSlide) {\n        const slide = { ...currentSlide, ...imageDimensions };\n        if ((0,_index_js__WEBPACK_IMPORTED_MODULE_1__.isImageSlide)(slide)) {\n            const cover = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.isImageFitCover)(slide, imageFit);\n            const width = Math.max(...(((_a = slide.srcSet) === null || _a === void 0 ? void 0 : _a.map((x) => x.width)) || []).concat(slide.width ? [slide.width] : []));\n            const height = Math.max(...(((_b = slide.srcSet) === null || _b === void 0 ? void 0 : _b.map((x) => x.height)) || []).concat(slide.height ? [slide.height] : []));\n            if (width > 0 && height > 0 && slideRect.width > 0 && slideRect.height > 0) {\n                maxImageRect = cover\n                    ? {\n                        width: Math.round(Math.min(width, (slideRect.width / slideRect.height) * height)),\n                        height: Math.round(Math.min(height, (slideRect.height / slideRect.width) * width)),\n                    }\n                    : { width, height };\n                maxImageRect = {\n                    width: maxImageRect.width * maxZoomPixelRatio,\n                    height: maxImageRect.height * maxZoomPixelRatio,\n                };\n                imageRect = cover\n                    ? {\n                        width: Math.min(slideRect.width, maxImageRect.width, width),\n                        height: Math.min(slideRect.height, maxImageRect.height, height),\n                    }\n                    : {\n                        width: Math.round(Math.min(slideRect.width, (slideRect.height / height) * width, width)),\n                        height: Math.round(Math.min(slideRect.height, (slideRect.width / width) * height, height)),\n                    };\n            }\n        }\n    }\n    const maxZoom = imageRect.width ? Math.max((0,_index_js__WEBPACK_IMPORTED_MODULE_1__.round)(maxImageRect.width / imageRect.width, 5), 1) : 1;\n    return { imageRect, maxZoom };\n}\n\nfunction distance(pointerA, pointerB) {\n    return ((pointerA.clientX - pointerB.clientX) ** 2 + (pointerA.clientY - pointerB.clientY) ** 2) ** 0.5;\n}\nfunction scaleZoom(value, delta, factor = 100, clamp = 2) {\n    return value * Math.min(1 + Math.abs(delta / factor), clamp) ** Math.sign(delta);\n}\nfunction useZoomSensors(zoom, maxZoom, disabled, changeZoom, changeOffsets, zoomWrapperRef) {\n    const activePointers = react__WEBPACK_IMPORTED_MODULE_0__.useRef([]);\n    const lastPointerDown = react__WEBPACK_IMPORTED_MODULE_0__.useRef(0);\n    const pinchZoomDistance = react__WEBPACK_IMPORTED_MODULE_0__.useRef();\n    const { globalIndex } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useLightboxState)();\n    const { getOwnerWindow } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useDocumentContext)();\n    const { containerRef, subscribeSensors } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useController)();\n    const { keyboardMoveDistance, zoomInMultiplier, wheelZoomDistanceFactor, scrollToZoom, doubleTapDelay, doubleClickDelay, doubleClickMaxStops, pinchZoomDistanceFactor, } = useZoomProps();\n    const translateCoordinates = react__WEBPACK_IMPORTED_MODULE_0__.useCallback((event) => {\n        if (containerRef.current) {\n            const { pageX, pageY } = event;\n            const { scrollX, scrollY } = getOwnerWindow();\n            const { left, top, width, height } = containerRef.current.getBoundingClientRect();\n            return [pageX - left - scrollX - width / 2, pageY - top - scrollY - height / 2];\n        }\n        return [];\n    }, [containerRef, getOwnerWindow]);\n    const onKeyDown = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useEventCallback)((event) => {\n        const preventDefault = () => {\n            event.preventDefault();\n            event.stopPropagation();\n        };\n        if (zoom > 1) {\n            const move = (deltaX, deltaY) => {\n                preventDefault();\n                changeOffsets(deltaX, deltaY);\n            };\n            if (event.key === \"ArrowDown\") {\n                move(0, keyboardMoveDistance);\n            }\n            else if (event.key === \"ArrowUp\") {\n                move(0, -keyboardMoveDistance);\n            }\n            else if (event.key === \"ArrowLeft\") {\n                move(-keyboardMoveDistance, 0);\n            }\n            else if (event.key === \"ArrowRight\") {\n                move(keyboardMoveDistance, 0);\n            }\n        }\n        const handleChangeZoom = (zoomValue) => {\n            preventDefault();\n            changeZoom(zoomValue);\n        };\n        const hasMeta = () => event.getModifierState(\"Meta\");\n        if (event.key === \"+\" || (event.key === \"=\" && hasMeta())) {\n            handleChangeZoom(zoom * zoomInMultiplier);\n        }\n        else if (event.key === \"-\" || (event.key === \"_\" && hasMeta())) {\n            handleChangeZoom(zoom / zoomInMultiplier);\n        }\n        else if (event.key === \"0\" && hasMeta()) {\n            handleChangeZoom(1);\n        }\n    });\n    const onWheel = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useEventCallback)((event) => {\n        if (event.ctrlKey || scrollToZoom) {\n            if (Math.abs(event.deltaY) > Math.abs(event.deltaX)) {\n                event.stopPropagation();\n                changeZoom(scaleZoom(zoom, -event.deltaY, wheelZoomDistanceFactor), true, ...translateCoordinates(event));\n                return;\n            }\n        }\n        if (zoom > 1) {\n            event.stopPropagation();\n            if (!scrollToZoom) {\n                changeOffsets(event.deltaX, event.deltaY);\n            }\n        }\n    });\n    const clearPointer = react__WEBPACK_IMPORTED_MODULE_0__.useCallback((event) => {\n        const pointers = activePointers.current;\n        pointers.splice(0, pointers.length, ...pointers.filter((p) => p.pointerId !== event.pointerId));\n    }, []);\n    const replacePointer = react__WEBPACK_IMPORTED_MODULE_0__.useCallback((event) => {\n        clearPointer(event);\n        event.persist();\n        activePointers.current.push(event);\n    }, [clearPointer]);\n    const onPointerDown = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useEventCallback)((event) => {\n        var _a;\n        const pointers = activePointers.current;\n        if ((event.pointerType === \"mouse\" && event.buttons > 1) ||\n            !((_a = zoomWrapperRef === null || zoomWrapperRef === void 0 ? void 0 : zoomWrapperRef.current) === null || _a === void 0 ? void 0 : _a.contains(event.target))) {\n            return;\n        }\n        if (zoom > 1) {\n            event.stopPropagation();\n        }\n        const { timeStamp } = event;\n        if (pointers.length === 0 &&\n            timeStamp - lastPointerDown.current < (event.pointerType === \"touch\" ? doubleTapDelay : doubleClickDelay)) {\n            lastPointerDown.current = 0;\n            changeZoom(zoom !== maxZoom ? zoom * Math.max(maxZoom ** (1 / doubleClickMaxStops), zoomInMultiplier) : 1, false, ...translateCoordinates(event));\n        }\n        else {\n            lastPointerDown.current = timeStamp;\n        }\n        replacePointer(event);\n        if (pointers.length === 2) {\n            pinchZoomDistance.current = distance(pointers[0], pointers[1]);\n        }\n    });\n    const onPointerMove = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useEventCallback)((event) => {\n        const pointers = activePointers.current;\n        const activePointer = pointers.find((p) => p.pointerId === event.pointerId);\n        if (pointers.length === 2 && pinchZoomDistance.current) {\n            event.stopPropagation();\n            replacePointer(event);\n            const currentDistance = distance(pointers[0], pointers[1]);\n            const delta = currentDistance - pinchZoomDistance.current;\n            if (Math.abs(delta) > 0) {\n                changeZoom(scaleZoom(zoom, delta, pinchZoomDistanceFactor), true, ...pointers\n                    .map((x) => translateCoordinates(x))\n                    .reduce((acc, coordinate) => coordinate.map((x, i) => acc[i] + x / 2)));\n                pinchZoomDistance.current = currentDistance;\n            }\n            return;\n        }\n        if (zoom > 1) {\n            event.stopPropagation();\n            if (activePointer) {\n                if (pointers.length === 1) {\n                    changeOffsets((activePointer.clientX - event.clientX) / zoom, (activePointer.clientY - event.clientY) / zoom);\n                }\n                replacePointer(event);\n            }\n        }\n    });\n    const onPointerUp = react__WEBPACK_IMPORTED_MODULE_0__.useCallback((event) => {\n        const pointers = activePointers.current;\n        if (pointers.length === 2 && pointers.find((p) => p.pointerId === event.pointerId)) {\n            pinchZoomDistance.current = undefined;\n        }\n        clearPointer(event);\n    }, [clearPointer]);\n    const cleanupSensors = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(() => {\n        const pointers = activePointers.current;\n        pointers.splice(0, pointers.length);\n        lastPointerDown.current = 0;\n        pinchZoomDistance.current = undefined;\n    }, []);\n    (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.usePointerEvents)(subscribeSensors, onPointerDown, onPointerMove, onPointerUp, disabled);\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(cleanupSensors, [globalIndex, cleanupSensors]);\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n        if (!disabled) {\n            return (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cleanup)(cleanupSensors, subscribeSensors(_types_js__WEBPACK_IMPORTED_MODULE_2__.EVENT_ON_KEY_DOWN, onKeyDown), subscribeSensors(_types_js__WEBPACK_IMPORTED_MODULE_2__.EVENT_ON_WHEEL, onWheel));\n        }\n        return () => { };\n    }, [disabled, subscribeSensors, cleanupSensors, onKeyDown, onWheel]);\n}\n\nfunction useZoomState(imageRect, maxZoom, zoomWrapperRef) {\n    const [zoom, setZoom] = react__WEBPACK_IMPORTED_MODULE_0__.useState(1);\n    const [offsetX, setOffsetX] = react__WEBPACK_IMPORTED_MODULE_0__.useState(0);\n    const [offsetY, setOffsetY] = react__WEBPACK_IMPORTED_MODULE_0__.useState(0);\n    const animate = useZoomAnimation(zoom, offsetX, offsetY, zoomWrapperRef);\n    const { currentSlide, globalIndex } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useLightboxState)();\n    const { containerRect, slideRect } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useController)();\n    const { zoomInMultiplier } = useZoomProps();\n    const currentSource = currentSlide && (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.isImageSlide)(currentSlide) ? currentSlide.src : undefined;\n    const disabled = !currentSource || !(zoomWrapperRef === null || zoomWrapperRef === void 0 ? void 0 : zoomWrapperRef.current);\n    (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useLayoutEffect)(() => {\n        setZoom(1);\n        setOffsetX(0);\n        setOffsetY(0);\n    }, [globalIndex, currentSource]);\n    const changeOffsets = react__WEBPACK_IMPORTED_MODULE_0__.useCallback((dx, dy, targetZoom) => {\n        const newZoom = targetZoom || zoom;\n        const newOffsetX = offsetX - (dx || 0);\n        const newOffsetY = offsetY - (dy || 0);\n        const maxOffsetX = (imageRect.width * newZoom - slideRect.width) / 2 / newZoom;\n        const maxOffsetY = (imageRect.height * newZoom - slideRect.height) / 2 / newZoom;\n        setOffsetX(Math.min(Math.abs(newOffsetX), Math.max(maxOffsetX, 0)) * Math.sign(newOffsetX));\n        setOffsetY(Math.min(Math.abs(newOffsetY), Math.max(maxOffsetY, 0)) * Math.sign(newOffsetY));\n    }, [zoom, offsetX, offsetY, slideRect, imageRect.width, imageRect.height]);\n    const changeZoom = react__WEBPACK_IMPORTED_MODULE_0__.useCallback((targetZoom, rapid, dx, dy) => {\n        const newZoom = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.round)(Math.min(Math.max(targetZoom + 0.001 < maxZoom ? targetZoom : maxZoom, 1), maxZoom), 5);\n        if (newZoom === zoom)\n            return;\n        if (!rapid) {\n            animate();\n        }\n        changeOffsets(dx ? dx * (1 / zoom - 1 / newZoom) : 0, dy ? dy * (1 / zoom - 1 / newZoom) : 0, newZoom);\n        setZoom(newZoom);\n    }, [zoom, maxZoom, changeOffsets, animate]);\n    const handleControllerRectChange = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useEventCallback)(() => {\n        if (zoom > 1) {\n            if (zoom > maxZoom) {\n                changeZoom(maxZoom, true);\n            }\n            changeOffsets();\n        }\n    });\n    (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useLayoutEffect)(handleControllerRectChange, [containerRect.width, containerRect.height, handleControllerRectChange]);\n    const zoomIn = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(() => changeZoom(zoom * zoomInMultiplier), [zoom, zoomInMultiplier, changeZoom]);\n    const zoomOut = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(() => changeZoom(zoom / zoomInMultiplier), [zoom, zoomInMultiplier, changeZoom]);\n    return { zoom, offsetX, offsetY, disabled, changeOffsets, changeZoom, zoomIn, zoomOut };\n}\n\nconst ZoomControllerContext = react__WEBPACK_IMPORTED_MODULE_0__.createContext(null);\nconst useZoom = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.makeUseContext)(\"useZoom\", \"ZoomControllerContext\", ZoomControllerContext);\nfunction ZoomContextProvider({ children }) {\n    const [zoomWrapper, setZoomWrapper] = react__WEBPACK_IMPORTED_MODULE_0__.useState();\n    const { slideRect } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useController)();\n    const { imageRect, maxZoom } = useZoomImageRect(slideRect, zoomWrapper === null || zoomWrapper === void 0 ? void 0 : zoomWrapper.imageDimensions);\n    const { zoom, offsetX, offsetY, disabled, changeZoom, changeOffsets, zoomIn, zoomOut } = useZoomState(imageRect, maxZoom, zoomWrapper === null || zoomWrapper === void 0 ? void 0 : zoomWrapper.zoomWrapperRef);\n    useZoomCallback(zoom, disabled);\n    useZoomSensors(zoom, maxZoom, disabled, changeZoom, changeOffsets, zoomWrapper === null || zoomWrapper === void 0 ? void 0 : zoomWrapper.zoomWrapperRef);\n    const zoomRef = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => ({ zoom, maxZoom, offsetX, offsetY, disabled, zoomIn, zoomOut, changeZoom }), [zoom, maxZoom, offsetX, offsetY, disabled, zoomIn, zoomOut, changeZoom]);\n    react__WEBPACK_IMPORTED_MODULE_0__.useImperativeHandle(useZoomProps().ref, () => zoomRef, [zoomRef]);\n    const context = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => ({ ...zoomRef, setZoomWrapper }), [zoomRef, setZoomWrapper]);\n    return react__WEBPACK_IMPORTED_MODULE_0__.createElement(ZoomControllerContext.Provider, { value: context }, children);\n}\n\nconst ZoomInIcon = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.createIcon)(\"ZoomIn\", react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null,\n    react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\" }),\n    react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z\" })));\nconst ZoomOutIcon = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.createIcon)(\"ZoomOut\", react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z\" }));\nconst ZoomButton = react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(function ZoomButton({ zoomIn, onLoseFocus }, ref) {\n    const wasEnabled = react__WEBPACK_IMPORTED_MODULE_0__.useRef(false);\n    const wasFocused = react__WEBPACK_IMPORTED_MODULE_0__.useRef(false);\n    const { zoom, maxZoom, zoomIn: zoomInCallback, zoomOut: zoomOutCallback, disabled: zoomDisabled } = useZoom();\n    const { render } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useLightboxProps)();\n    const disabled = zoomDisabled || (zoomIn ? zoom >= maxZoom : zoom <= 1);\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n        if (disabled && wasEnabled.current && wasFocused.current) {\n            onLoseFocus();\n        }\n        if (!disabled) {\n            wasEnabled.current = true;\n        }\n    }, [disabled, onLoseFocus]);\n    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_index_js__WEBPACK_IMPORTED_MODULE_1__.IconButton, { ref: ref, disabled: disabled, label: zoomIn ? \"Zoom in\" : \"Zoom out\", icon: zoomIn ? ZoomInIcon : ZoomOutIcon, renderIcon: zoomIn ? render.iconZoomIn : render.iconZoomOut, onClick: zoomIn ? zoomInCallback : zoomOutCallback, onFocus: () => {\n            wasFocused.current = true;\n        }, onBlur: () => {\n            wasFocused.current = false;\n        } }));\n});\n\nfunction ZoomButtonsGroup() {\n    const zoomInRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n    const zoomOutRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n    const { focus } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useController)();\n    const focusSibling = react__WEBPACK_IMPORTED_MODULE_0__.useCallback((sibling) => {\n        var _a, _b;\n        if (!((_a = sibling.current) === null || _a === void 0 ? void 0 : _a.disabled)) {\n            (_b = sibling.current) === null || _b === void 0 ? void 0 : _b.focus();\n        }\n        else {\n            focus();\n        }\n    }, [focus]);\n    const focusZoomIn = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(() => focusSibling(zoomInRef), [focusSibling]);\n    const focusZoomOut = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(() => focusSibling(zoomOutRef), [focusSibling]);\n    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null,\n        react__WEBPACK_IMPORTED_MODULE_0__.createElement(ZoomButton, { zoomIn: true, ref: zoomInRef, onLoseFocus: focusZoomOut }),\n        react__WEBPACK_IMPORTED_MODULE_0__.createElement(ZoomButton, { ref: zoomOutRef, onLoseFocus: focusZoomIn })));\n}\n\nfunction ZoomToolbarControl() {\n    const { render } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useLightboxProps)();\n    const zoomRef = useZoom();\n    if (render.buttonZoom) {\n        return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, render.buttonZoom(zoomRef));\n    }\n    return react__WEBPACK_IMPORTED_MODULE_0__.createElement(ZoomButtonsGroup, null);\n}\n\nfunction isResponsiveImageSlide(slide) {\n    var _a;\n    return (((_a = slide.srcSet) === null || _a === void 0 ? void 0 : _a.length) || 0) > 0;\n}\nfunction reducer({ current, preload }, { type, source }) {\n    switch (type) {\n        case \"fetch\":\n            if (!current) {\n                return { current: source };\n            }\n            return { current, preload: source };\n        case \"done\":\n            if (source === preload) {\n                return { current: source };\n            }\n            return { current, preload };\n        default:\n            throw new Error(_types_js__WEBPACK_IMPORTED_MODULE_2__.UNKNOWN_ACTION_TYPE);\n    }\n}\nfunction ResponsiveImage(props) {\n    var _a, _b;\n    const [{ current, preload }, dispatch] = react__WEBPACK_IMPORTED_MODULE_0__.useReducer(reducer, {});\n    const { slide: image, rect, imageFit, render, interactive } = props;\n    const srcSet = image.srcSet.sort((a, b) => a.width - b.width);\n    const width = (_a = image.width) !== null && _a !== void 0 ? _a : srcSet[srcSet.length - 1].width;\n    const height = (_b = image.height) !== null && _b !== void 0 ? _b : srcSet[srcSet.length - 1].height;\n    const cover = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.isImageFitCover)(image, imageFit);\n    const maxWidth = Math.max(...srcSet.map((x) => x.width));\n    const targetWidth = Math.min((cover ? Math.max : Math.min)(rect.width, width * (rect.height / height)), maxWidth);\n    const pixelDensity = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.devicePixelRatio)();\n    const handleResize = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useEventCallback)(() => {\n        var _a;\n        const targetSource = (_a = srcSet.find((x) => x.width >= targetWidth * pixelDensity)) !== null && _a !== void 0 ? _a : srcSet[srcSet.length - 1];\n        if (!current || srcSet.findIndex((x) => x.src === current) < srcSet.findIndex((x) => x === targetSource)) {\n            dispatch({ type: \"fetch\", source: targetSource.src });\n        }\n    });\n    (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useLayoutEffect)(handleResize, [rect.width, rect.height, pixelDensity, handleResize]);\n    const handlePreload = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useEventCallback)((currentPreload) => dispatch({ type: \"done\", source: currentPreload }));\n    const style = {\n        WebkitTransform: !interactive ? \"translateZ(0)\" : \"initial\",\n    };\n    if (!cover) {\n        Object.assign(style, rect.width / rect.height < width / height ? { width: \"100%\", height: \"auto\" } : { width: \"auto\", height: \"100%\" });\n    }\n    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null,\n        preload && preload !== current && (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_index_js__WEBPACK_IMPORTED_MODULE_1__.ImageSlide, { key: \"preload\", ...props, slide: { ...image, src: preload, srcSet: undefined }, style: { position: \"absolute\", visibility: \"hidden\", ...style }, onLoad: () => handlePreload(preload), render: {\n                ...render,\n                iconLoading: () => null,\n                iconError: () => null,\n            } })),\n        current && (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_index_js__WEBPACK_IMPORTED_MODULE_1__.ImageSlide, { key: \"current\", ...props, slide: { ...image, src: current, srcSet: undefined }, style: style }))));\n}\n\nfunction ZoomWrapper({ render, slide, offset, rect }) {\n    var _a;\n    const [imageDimensions, setImageDimensions] = react__WEBPACK_IMPORTED_MODULE_0__.useState();\n    const zoomWrapperRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n    const { zoom, maxZoom, offsetX, offsetY, setZoomWrapper } = useZoom();\n    const interactive = zoom > 1;\n    const { carousel, on } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useLightboxProps)();\n    const { currentIndex } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useLightboxState)();\n    (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useLayoutEffect)(() => {\n        if (offset === 0) {\n            setZoomWrapper({ zoomWrapperRef, imageDimensions });\n            return () => setZoomWrapper(undefined);\n        }\n        return () => { };\n    }, [offset, imageDimensions, setZoomWrapper]);\n    let rendered = (_a = render.slide) === null || _a === void 0 ? void 0 : _a.call(render, { slide, offset, rect, zoom, maxZoom });\n    if (!rendered && (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.isImageSlide)(slide)) {\n        const slideProps = {\n            slide,\n            offset,\n            rect,\n            render,\n            imageFit: carousel.imageFit,\n            imageProps: carousel.imageProps,\n            onClick: offset === 0 ? () => { var _a; return (_a = on.click) === null || _a === void 0 ? void 0 : _a.call(on, { index: currentIndex }); } : undefined,\n        };\n        rendered = isResponsiveImageSlide(slide) ? (react__WEBPACK_IMPORTED_MODULE_0__.createElement(ResponsiveImage, { ...slideProps, slide: slide, interactive: interactive, rect: offset === 0 ? { width: rect.width * zoom, height: rect.height * zoom } : rect })) : (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_index_js__WEBPACK_IMPORTED_MODULE_1__.ImageSlide, { onLoad: (img) => setImageDimensions({ width: img.naturalWidth, height: img.naturalHeight }), ...slideProps }));\n    }\n    if (!rendered)\n        return null;\n    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { ref: zoomWrapperRef, className: (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.clsx)((0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssClass)(_types_js__WEBPACK_IMPORTED_MODULE_2__.CLASS_FULLSIZE), (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssClass)(_types_js__WEBPACK_IMPORTED_MODULE_2__.CLASS_FLEX_CENTER), (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssClass)(_types_js__WEBPACK_IMPORTED_MODULE_2__.CLASS_SLIDE_WRAPPER), interactive && (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssClass)(_types_js__WEBPACK_IMPORTED_MODULE_2__.CLASS_SLIDE_WRAPPER_INTERACTIVE)), style: offset === 0 ? { transform: `scale(${zoom}) translateX(${offsetX}px) translateY(${offsetY}px)` } : undefined }, rendered));\n}\n\nconst Zoom = ({ augment, addModule }) => {\n    augment(({ zoom: zoomProps, toolbar, render, controller, ...restProps }) => {\n        const zoom = resolveZoomProps(zoomProps);\n        return {\n            zoom,\n            toolbar: (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.addToolbarButton)(toolbar, _types_js__WEBPACK_IMPORTED_MODULE_2__.PLUGIN_ZOOM, react__WEBPACK_IMPORTED_MODULE_0__.createElement(ZoomToolbarControl, null)),\n            render: {\n                ...render,\n                slide: (props) => { var _a; return (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.isImageSlide)(props.slide) ? react__WEBPACK_IMPORTED_MODULE_0__.createElement(ZoomWrapper, { render: render, ...props }) : (_a = render.slide) === null || _a === void 0 ? void 0 : _a.call(render, props); },\n            },\n            controller: { ...controller, preventDefaultWheelY: zoom.scrollToZoom },\n            ...restProps,\n        };\n    });\n    addModule((0,_index_js__WEBPACK_IMPORTED_MODULE_1__.createModule)(_types_js__WEBPACK_IMPORTED_MODULE_2__.PLUGIN_ZOOM, ZoomContextProvider));\n};\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMveWV0LWFub3RoZXItcmVhY3QtbGlnaHRib3gvZGlzdC9wbHVnaW5zL3pvb20vaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUErQjtBQUN1VDtBQUN4Sjs7QUFFOUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQSwwQkFBMEIseUNBQVk7QUFDdEMsK0JBQStCLHlDQUFZO0FBQzNDLFlBQVksOEJBQThCLEVBQUUsMkRBQWdCO0FBQzVELHlCQUF5Qiw4REFBbUI7QUFDNUMsOEJBQThCLDJEQUFnQjtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsdUNBQXVDO0FBQzdELHNCQUFzQixvQkFBb0IsS0FBSyxlQUFlLFFBQVEsaUJBQWlCLFFBQVEsTUFBTTtBQUNyRztBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxJQUFJLDBEQUFlO0FBQ25CLFdBQVcsOENBQWlCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBLFlBQVksS0FBSyxFQUFFLDJEQUFnQjtBQUNuQywyQkFBMkIsMkRBQWdCO0FBQzNDO0FBQ0E7QUFDQSw4RUFBOEUsTUFBTTtBQUNwRjtBQUNBLEtBQUs7QUFDTCxJQUFJLDRDQUFlO0FBQ25COztBQUVBO0FBQ0EsWUFBWSxPQUFPLEVBQUUsMkRBQWdCO0FBQ3JDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHNCQUFzQjtBQUN0Qix5QkFBeUI7QUFDekIsWUFBWSxlQUFlLEVBQUUsMkRBQWdCO0FBQzdDLFlBQVksV0FBVyxFQUFFLDJEQUFnQjtBQUN6QyxZQUFZLG9CQUFvQjtBQUNoQztBQUNBLHdCQUF3QjtBQUN4QixZQUFZLHVEQUFZO0FB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XFxDb2RpbmdcXFNvaGFuU2lyXFxZUF9WRVJTSU9OXzJcXGZyb250ZW5kXFxub2RlX21vZHVsZXNcXHlldC1hbm90aGVyLXJlYWN0LWxpZ2h0Ym94XFxkaXN0XFxwbHVnaW5zXFx6b29tXFxpbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VMaWdodGJveFByb3BzLCB1c2VNb3Rpb25QcmVmZXJlbmNlLCB1c2VFdmVudENhbGxiYWNrLCB1c2VMYXlvdXRFZmZlY3QsIHVzZUxpZ2h0Ym94U3RhdGUsIGlzSW1hZ2VTbGlkZSwgaXNJbWFnZUZpdENvdmVyLCByb3VuZCwgdXNlRG9jdW1lbnRDb250ZXh0LCB1c2VDb250cm9sbGVyLCB1c2VQb2ludGVyRXZlbnRzLCBjbGVhbnVwLCBtYWtlVXNlQ29udGV4dCwgY3JlYXRlSWNvbiwgSWNvbkJ1dHRvbiwgZGV2aWNlUGl4ZWxSYXRpbywgSW1hZ2VTbGlkZSwgY2xzeCwgY3NzQ2xhc3MsIGFkZFRvb2xiYXJCdXR0b24sIGNyZWF0ZU1vZHVsZSB9IGZyb20gJy4uLy4uL2luZGV4LmpzJztcbmltcG9ydCB7IEVWRU5UX09OX0tFWV9ET1dOLCBFVkVOVF9PTl9XSEVFTCwgVU5LTk9XTl9BQ1RJT05fVFlQRSwgQ0xBU1NfRlVMTFNJWkUsIENMQVNTX0ZMRVhfQ0VOVEVSLCBDTEFTU19TTElERV9XUkFQUEVSLCBDTEFTU19TTElERV9XUkFQUEVSX0lOVEVSQUNUSVZFLCBQTFVHSU5fWk9PTSB9IGZyb20gJy4uLy4uL3R5cGVzLmpzJztcblxuY29uc3QgZGVmYXVsdFpvb21Qcm9wcyA9IHtcbiAgICBtYXhab29tUGl4ZWxSYXRpbzogMSxcbiAgICB6b29tSW5NdWx0aXBsaWVyOiAyLFxuICAgIGRvdWJsZVRhcERlbGF5OiAzMDAsXG4gICAgZG91YmxlQ2xpY2tEZWxheTogNTAwLFxuICAgIGRvdWJsZUNsaWNrTWF4U3RvcHM6IDIsXG4gICAga2V5Ym9hcmRNb3ZlRGlzdGFuY2U6IDUwLFxuICAgIHdoZWVsWm9vbURpc3RhbmNlRmFjdG9yOiAxMDAsXG4gICAgcGluY2hab29tRGlzdGFuY2VGYWN0b3I6IDEwMCxcbiAgICBzY3JvbGxUb1pvb206IGZhbHNlLFxufTtcbmNvbnN0IHJlc29sdmVab29tUHJvcHMgPSAoem9vbSkgPT4gKHtcbiAgICAuLi5kZWZhdWx0Wm9vbVByb3BzLFxuICAgIC4uLnpvb20sXG59KTtcblxuZnVuY3Rpb24gdXNlWm9vbUFuaW1hdGlvbih6b29tLCBvZmZzZXRYLCBvZmZzZXRZLCB6b29tV3JhcHBlclJlZikge1xuICAgIGNvbnN0IHpvb21BbmltYXRpb24gPSBSZWFjdC51c2VSZWYoKTtcbiAgICBjb25zdCB6b29tQW5pbWF0aW9uU3RhcnQgPSBSZWFjdC51c2VSZWYoKTtcbiAgICBjb25zdCB7IHpvb206IHpvb21BbmltYXRpb25EdXJhdGlvbiB9ID0gdXNlTGlnaHRib3hQcm9wcygpLmFuaW1hdGlvbjtcbiAgICBjb25zdCByZWR1Y2VNb3Rpb24gPSB1c2VNb3Rpb25QcmVmZXJlbmNlKCk7XG4gICAgY29uc3QgcGxheVpvb21BbmltYXRpb24gPSB1c2VFdmVudENhbGxiYWNrKCgpID0+IHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgICAgIChfYSA9IHpvb21BbmltYXRpb24uY3VycmVudCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbmNlbCgpO1xuICAgICAgICB6b29tQW5pbWF0aW9uLmN1cnJlbnQgPSB1bmRlZmluZWQ7XG4gICAgICAgIGlmICh6b29tQW5pbWF0aW9uU3RhcnQuY3VycmVudCAmJiAoem9vbVdyYXBwZXJSZWYgPT09IG51bGwgfHwgem9vbVdyYXBwZXJSZWYgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHpvb21XcmFwcGVyUmVmLmN1cnJlbnQpKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHpvb21BbmltYXRpb24uY3VycmVudCA9IChfYyA9IChfYiA9IHpvb21XcmFwcGVyUmVmLmN1cnJlbnQpLmFuaW1hdGUpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5jYWxsKF9iLCBbXG4gICAgICAgICAgICAgICAgICAgIHsgdHJhbnNmb3JtOiB6b29tQW5pbWF0aW9uU3RhcnQuY3VycmVudCB9LFxuICAgICAgICAgICAgICAgICAgICB7IHRyYW5zZm9ybTogYHNjYWxlKCR7em9vbX0pIHRyYW5zbGF0ZVgoJHtvZmZzZXRYfXB4KSB0cmFuc2xhdGVZKCR7b2Zmc2V0WX1weClgIH0sXG4gICAgICAgICAgICAgICAgXSwge1xuICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogIXJlZHVjZU1vdGlvbiA/ICh6b29tQW5pbWF0aW9uRHVyYXRpb24gIT09IG51bGwgJiYgem9vbUFuaW1hdGlvbkR1cmF0aW9uICE9PSB2b2lkIDAgPyB6b29tQW5pbWF0aW9uRHVyYXRpb24gOiA1MDApIDogMCxcbiAgICAgICAgICAgICAgICAgICAgZWFzaW5nOiB6b29tQW5pbWF0aW9uLmN1cnJlbnQgPyBcImVhc2Utb3V0XCIgOiBcImVhc2UtaW4tb3V0XCIsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgem9vbUFuaW1hdGlvblN0YXJ0LmN1cnJlbnQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBpZiAoem9vbUFuaW1hdGlvbi5jdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgem9vbUFuaW1hdGlvbi5jdXJyZW50Lm9uZmluaXNoID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB6b29tQW5pbWF0aW9uLmN1cnJlbnQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHVzZUxheW91dEVmZmVjdChwbGF5Wm9vbUFuaW1hdGlvbiwgW3pvb20sIG9mZnNldFgsIG9mZnNldFksIHBsYXlab29tQW5pbWF0aW9uXSk7XG4gICAgcmV0dXJuIFJlYWN0LnVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICAgICAgem9vbUFuaW1hdGlvblN0YXJ0LmN1cnJlbnQgPSAoem9vbVdyYXBwZXJSZWYgPT09IG51bGwgfHwgem9vbVdyYXBwZXJSZWYgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHpvb21XcmFwcGVyUmVmLmN1cnJlbnQpXG4gICAgICAgICAgICA/IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHpvb21XcmFwcGVyUmVmLmN1cnJlbnQpLnRyYW5zZm9ybVxuICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgfSwgW3pvb21XcmFwcGVyUmVmXSk7XG59XG5cbmZ1bmN0aW9uIHVzZVpvb21DYWxsYmFjayh6b29tLCBkaXNhYmxlZCkge1xuICAgIGNvbnN0IHsgb24gfSA9IHVzZUxpZ2h0Ym94UHJvcHMoKTtcbiAgICBjb25zdCBvblpvb21DYWxsYmFjayA9IHVzZUV2ZW50Q2FsbGJhY2soKCkgPT4ge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmICghZGlzYWJsZWQpIHtcbiAgICAgICAgICAgIChfYSA9IG9uLnpvb20pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKG9uLCB7IHpvb20gfSk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBSZWFjdC51c2VFZmZlY3Qob25ab29tQ2FsbGJhY2ssIFt6b29tLCBvblpvb21DYWxsYmFja10pO1xufVxuXG5mdW5jdGlvbiB1c2Vab29tUHJvcHMoKSB7XG4gICAgY29uc3QgeyB6b29tIH0gPSB1c2VMaWdodGJveFByb3BzKCk7XG4gICAgcmV0dXJuIHJlc29sdmVab29tUHJvcHMoem9vbSk7XG59XG5cbmZ1bmN0aW9uIHVzZVpvb21JbWFnZVJlY3Qoc2xpZGVSZWN0LCBpbWFnZURpbWVuc2lvbnMpIHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIGxldCBpbWFnZVJlY3QgPSB7IHdpZHRoOiAwLCBoZWlnaHQ6IDAgfTtcbiAgICBsZXQgbWF4SW1hZ2VSZWN0ID0geyB3aWR0aDogMCwgaGVpZ2h0OiAwIH07XG4gICAgY29uc3QgeyBjdXJyZW50U2xpZGUgfSA9IHVzZUxpZ2h0Ym94U3RhdGUoKTtcbiAgICBjb25zdCB7IGltYWdlRml0IH0gPSB1c2VMaWdodGJveFByb3BzKCkuY2Fyb3VzZWw7XG4gICAgY29uc3QgeyBtYXhab29tUGl4ZWxSYXRpbyB9ID0gdXNlWm9vbVByb3BzKCk7XG4gICAgaWYgKHNsaWRlUmVjdCAmJiBjdXJyZW50U2xpZGUpIHtcbiAgICAgICAgY29uc3Qgc2xpZGUgPSB7IC4uLmN1cnJlbnRTbGlkZSwgLi4uaW1hZ2VEaW1lbnNpb25zIH07XG4gICAgICAgIGlmIChpc0ltYWdlU2xpZGUoc2xpZGUpKSB7XG4gICAgICAgICAgICBjb25zdCBjb3ZlciA9IGlzSW1hZ2VGaXRDb3ZlcihzbGlkZSwgaW1hZ2VGaXQpO1xuICAgICAgICAgICAgY29uc3Qgd2lkdGggPSBNYXRoLm1heCguLi4oKChfYSA9IHNsaWRlLnNyY1NldCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLm1hcCgoeCkgPT4geC53aWR0aCkpIHx8IFtdKS5jb25jYXQoc2xpZGUud2lkdGggPyBbc2xpZGUud2lkdGhdIDogW10pKTtcbiAgICAgICAgICAgIGNvbnN0IGhlaWdodCA9IE1hdGgubWF4KC4uLigoKF9iID0gc2xpZGUuc3JjU2V0KSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IubWFwKCh4KSA9PiB4LmhlaWdodCkpIHx8IFtdKS5jb25jYXQoc2xpZGUuaGVpZ2h0ID8gW3NsaWRlLmhlaWdodF0gOiBbXSkpO1xuICAgICAgICAgICAgaWYgKHdpZHRoID4gMCAmJiBoZWlnaHQgPiAwICYmIHNsaWRlUmVjdC53aWR0aCA+IDAgJiYgc2xpZGVSZWN0LmhlaWdodCA+IDApIHtcbiAgICAgICAgICAgICAgICBtYXhJbWFnZVJlY3QgPSBjb3ZlclxuICAgICAgICAgICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBNYXRoLnJvdW5kKE1hdGgubWluKHdpZHRoLCAoc2xpZGVSZWN0LndpZHRoIC8gc2xpZGVSZWN0LmhlaWdodCkgKiBoZWlnaHQpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogTWF0aC5yb3VuZChNYXRoLm1pbihoZWlnaHQsIChzbGlkZVJlY3QuaGVpZ2h0IC8gc2xpZGVSZWN0LndpZHRoKSAqIHdpZHRoKSksXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgOiB7IHdpZHRoLCBoZWlnaHQgfTtcbiAgICAgICAgICAgICAgICBtYXhJbWFnZVJlY3QgPSB7XG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiBtYXhJbWFnZVJlY3Qud2lkdGggKiBtYXhab29tUGl4ZWxSYXRpbyxcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBtYXhJbWFnZVJlY3QuaGVpZ2h0ICogbWF4Wm9vbVBpeGVsUmF0aW8sXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBpbWFnZVJlY3QgPSBjb3ZlclxuICAgICAgICAgICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBNYXRoLm1pbihzbGlkZVJlY3Qud2lkdGgsIG1heEltYWdlUmVjdC53aWR0aCwgd2lkdGgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBNYXRoLm1pbihzbGlkZVJlY3QuaGVpZ2h0LCBtYXhJbWFnZVJlY3QuaGVpZ2h0LCBoZWlnaHQpLFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IE1hdGgucm91bmQoTWF0aC5taW4oc2xpZGVSZWN0LndpZHRoLCAoc2xpZGVSZWN0LmhlaWdodCAvIGhlaWdodCkgKiB3aWR0aCwgd2lkdGgpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogTWF0aC5yb3VuZChNYXRoLm1pbihzbGlkZVJlY3QuaGVpZ2h0LCAoc2xpZGVSZWN0LndpZHRoIC8gd2lkdGgpICogaGVpZ2h0LCBoZWlnaHQpKSxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBtYXhab29tID0gaW1hZ2VSZWN0LndpZHRoID8gTWF0aC5tYXgocm91bmQobWF4SW1hZ2VSZWN0LndpZHRoIC8gaW1hZ2VSZWN0LndpZHRoLCA1KSwgMSkgOiAxO1xuICAgIHJldHVybiB7IGltYWdlUmVjdCwgbWF4Wm9vbSB9O1xufVxuXG5mdW5jdGlvbiBkaXN0YW5jZShwb2ludGVyQSwgcG9pbnRlckIpIHtcbiAgICByZXR1cm4gKChwb2ludGVyQS5jbGllbnRYIC0gcG9pbnRlckIuY2xpZW50WCkgKiogMiArIChwb2ludGVyQS5jbGllbnRZIC0gcG9pbnRlckIuY2xpZW50WSkgKiogMikgKiogMC41O1xufVxuZnVuY3Rpb24gc2NhbGVab29tKHZhbHVlLCBkZWx0YSwgZmFjdG9yID0gMTAwLCBjbGFtcCA9IDIpIHtcbiAgICByZXR1cm4gdmFsdWUgKiBNYXRoLm1pbigxICsgTWF0aC5hYnMoZGVsdGEgLyBmYWN0b3IpLCBjbGFtcCkgKiogTWF0aC5zaWduKGRlbHRhKTtcbn1cbmZ1bmN0aW9uIHVzZVpvb21TZW5zb3JzKHpvb20sIG1heFpvb20sIGRpc2FibGVkLCBjaGFuZ2Vab29tLCBjaGFuZ2VPZmZzZXRzLCB6b29tV3JhcHBlclJlZikge1xuICAgIGNvbnN0IGFjdGl2ZVBvaW50ZXJzID0gUmVhY3QudXNlUmVmKFtdKTtcbiAgICBjb25zdCBsYXN0UG9pbnRlckRvd24gPSBSZWFjdC51c2VSZWYoMCk7XG4gICAgY29uc3QgcGluY2hab29tRGlzdGFuY2UgPSBSZWFjdC51c2VSZWYoKTtcbiAgICBjb25zdCB7IGdsb2JhbEluZGV4IH0gPSB1c2VMaWdodGJveFN0YXRlKCk7XG4gICAgY29uc3QgeyBnZXRPd25lcldpbmRvdyB9ID0gdXNlRG9jdW1lbnRDb250ZXh0KCk7XG4gICAgY29uc3QgeyBjb250YWluZXJSZWYsIHN1YnNjcmliZVNlbnNvcnMgfSA9IHVzZUNvbnRyb2xsZXIoKTtcbiAgICBjb25zdCB7IGtleWJvYXJkTW92ZURpc3RhbmNlLCB6b29tSW5NdWx0aXBsaWVyLCB3aGVlbFpvb21EaXN0YW5jZUZhY3Rvciwgc2Nyb2xsVG9ab29tLCBkb3VibGVUYXBEZWxheSwgZG91YmxlQ2xpY2tEZWxheSwgZG91YmxlQ2xpY2tNYXhTdG9wcywgcGluY2hab29tRGlzdGFuY2VGYWN0b3IsIH0gPSB1c2Vab29tUHJvcHMoKTtcbiAgICBjb25zdCB0cmFuc2xhdGVDb29yZGluYXRlcyA9IFJlYWN0LnVzZUNhbGxiYWNrKChldmVudCkgPT4ge1xuICAgICAgICBpZiAoY29udGFpbmVyUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgcGFnZVgsIHBhZ2VZIH0gPSBldmVudDtcbiAgICAgICAgICAgIGNvbnN0IHsgc2Nyb2xsWCwgc2Nyb2xsWSB9ID0gZ2V0T3duZXJXaW5kb3coKTtcbiAgICAgICAgICAgIGNvbnN0IHsgbGVmdCwgdG9wLCB3aWR0aCwgaGVpZ2h0IH0gPSBjb250YWluZXJSZWYuY3VycmVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgICAgIHJldHVybiBbcGFnZVggLSBsZWZ0IC0gc2Nyb2xsWCAtIHdpZHRoIC8gMiwgcGFnZVkgLSB0b3AgLSBzY3JvbGxZIC0gaGVpZ2h0IC8gMl07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH0sIFtjb250YWluZXJSZWYsIGdldE93bmVyV2luZG93XSk7XG4gICAgY29uc3Qgb25LZXlEb3duID0gdXNlRXZlbnRDYWxsYmFjaygoZXZlbnQpID0+IHtcbiAgICAgICAgY29uc3QgcHJldmVudERlZmF1bHQgPSAoKSA9PiB7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIH07XG4gICAgICAgIGlmICh6b29tID4gMSkge1xuICAgICAgICAgICAgY29uc3QgbW92ZSA9IChkZWx0YVgsIGRlbHRhWSkgPT4ge1xuICAgICAgICAgICAgICAgIHByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgY2hhbmdlT2Zmc2V0cyhkZWx0YVgsIGRlbHRhWSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKGV2ZW50LmtleSA9PT0gXCJBcnJvd0Rvd25cIikge1xuICAgICAgICAgICAgICAgIG1vdmUoMCwga2V5Ym9hcmRNb3ZlRGlzdGFuY2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZXZlbnQua2V5ID09PSBcIkFycm93VXBcIikge1xuICAgICAgICAgICAgICAgIG1vdmUoMCwgLWtleWJvYXJkTW92ZURpc3RhbmNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGV2ZW50LmtleSA9PT0gXCJBcnJvd0xlZnRcIikge1xuICAgICAgICAgICAgICAgIG1vdmUoLWtleWJvYXJkTW92ZURpc3RhbmNlLCAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGV2ZW50LmtleSA9PT0gXCJBcnJvd1JpZ2h0XCIpIHtcbiAgICAgICAgICAgICAgICBtb3ZlKGtleWJvYXJkTW92ZURpc3RhbmNlLCAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBoYW5kbGVDaGFuZ2Vab29tID0gKHpvb21WYWx1ZSkgPT4ge1xuICAgICAgICAgICAgcHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIGNoYW5nZVpvb20oem9vbVZhbHVlKTtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgaGFzTWV0YSA9ICgpID0+IGV2ZW50LmdldE1vZGlmaWVyU3RhdGUoXCJNZXRhXCIpO1xuICAgICAgICBpZiAoZXZlbnQua2V5ID09PSBcIitcIiB8fCAoZXZlbnQua2V5ID09PSBcIj1cIiAmJiBoYXNNZXRhKCkpKSB7XG4gICAgICAgICAgICBoYW5kbGVDaGFuZ2Vab29tKHpvb20gKiB6b29tSW5NdWx0aXBsaWVyKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChldmVudC5rZXkgPT09IFwiLVwiIHx8IChldmVudC5rZXkgPT09IFwiX1wiICYmIGhhc01ldGEoKSkpIHtcbiAgICAgICAgICAgIGhhbmRsZUNoYW5nZVpvb20oem9vbSAvIHpvb21Jbk11bHRpcGxpZXIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGV2ZW50LmtleSA9PT0gXCIwXCIgJiYgaGFzTWV0YSgpKSB7XG4gICAgICAgICAgICBoYW5kbGVDaGFuZ2Vab29tKDEpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgY29uc3Qgb25XaGVlbCA9IHVzZUV2ZW50Q2FsbGJhY2soKGV2ZW50KSA9PiB7XG4gICAgICAgIGlmIChldmVudC5jdHJsS2V5IHx8IHNjcm9sbFRvWm9vbSkge1xuICAgICAgICAgICAgaWYgKE1hdGguYWJzKGV2ZW50LmRlbHRhWSkgPiBNYXRoLmFicyhldmVudC5kZWx0YVgpKSB7XG4gICAgICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgY2hhbmdlWm9vbShzY2FsZVpvb20oem9vbSwgLWV2ZW50LmRlbHRhWSwgd2hlZWxab29tRGlzdGFuY2VGYWN0b3IpLCB0cnVlLCAuLi50cmFuc2xhdGVDb29yZGluYXRlcyhldmVudCkpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoem9vbSA+IDEpIHtcbiAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgaWYgKCFzY3JvbGxUb1pvb20pIHtcbiAgICAgICAgICAgICAgICBjaGFuZ2VPZmZzZXRzKGV2ZW50LmRlbHRhWCwgZXZlbnQuZGVsdGFZKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuICAgIGNvbnN0IGNsZWFyUG9pbnRlciA9IFJlYWN0LnVzZUNhbGxiYWNrKChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCBwb2ludGVycyA9IGFjdGl2ZVBvaW50ZXJzLmN1cnJlbnQ7XG4gICAgICAgIHBvaW50ZXJzLnNwbGljZSgwLCBwb2ludGVycy5sZW5ndGgsIC4uLnBvaW50ZXJzLmZpbHRlcigocCkgPT4gcC5wb2ludGVySWQgIT09IGV2ZW50LnBvaW50ZXJJZCkpO1xuICAgIH0sIFtdKTtcbiAgICBjb25zdCByZXBsYWNlUG9pbnRlciA9IFJlYWN0LnVzZUNhbGxiYWNrKChldmVudCkgPT4ge1xuICAgICAgICBjbGVhclBvaW50ZXIoZXZlbnQpO1xuICAgICAgICBldmVudC5wZXJzaXN0KCk7XG4gICAgICAgIGFjdGl2ZVBvaW50ZXJzLmN1cnJlbnQucHVzaChldmVudCk7XG4gICAgfSwgW2NsZWFyUG9pbnRlcl0pO1xuICAgIGNvbnN0IG9uUG9pbnRlckRvd24gPSB1c2VFdmVudENhbGxiYWNrKChldmVudCkgPT4ge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGNvbnN0IHBvaW50ZXJzID0gYWN0aXZlUG9pbnRlcnMuY3VycmVudDtcbiAgICAgICAgaWYgKChldmVudC5wb2ludGVyVHlwZSA9PT0gXCJtb3VzZVwiICYmIGV2ZW50LmJ1dHRvbnMgPiAxKSB8fFxuICAgICAgICAgICAgISgoX2EgPSB6b29tV3JhcHBlclJlZiA9PT0gbnVsbCB8fCB6b29tV3JhcHBlclJlZiA9PT0gdm9pZCAwID8gdm9pZCAwIDogem9vbVdyYXBwZXJSZWYuY3VycmVudCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNvbnRhaW5zKGV2ZW50LnRhcmdldCkpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHpvb20gPiAxKSB7XG4gICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB7IHRpbWVTdGFtcCB9ID0gZXZlbnQ7XG4gICAgICAgIGlmIChwb2ludGVycy5sZW5ndGggPT09IDAgJiZcbiAgICAgICAgICAgIHRpbWVTdGFtcCAtIGxhc3RQb2ludGVyRG93bi5jdXJyZW50IDwgKGV2ZW50LnBvaW50ZXJUeXBlID09PSBcInRvdWNoXCIgPyBkb3VibGVUYXBEZWxheSA6IGRvdWJsZUNsaWNrRGVsYXkpKSB7XG4gICAgICAgICAgICBsYXN0UG9pbnRlckRvd24uY3VycmVudCA9IDA7XG4gICAgICAgICAgICBjaGFuZ2Vab29tKHpvb20gIT09IG1heFpvb20gPyB6b29tICogTWF0aC5tYXgobWF4Wm9vbSAqKiAoMSAvIGRvdWJsZUNsaWNrTWF4U3RvcHMpLCB6b29tSW5NdWx0aXBsaWVyKSA6IDEsIGZhbHNlLCAuLi50cmFuc2xhdGVDb29yZGluYXRlcyhldmVudCkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbGFzdFBvaW50ZXJEb3duLmN1cnJlbnQgPSB0aW1lU3RhbXA7XG4gICAgICAgIH1cbiAgICAgICAgcmVwbGFjZVBvaW50ZXIoZXZlbnQpO1xuICAgICAgICBpZiAocG9pbnRlcnMubGVuZ3RoID09PSAyKSB7XG4gICAgICAgICAgICBwaW5jaFpvb21EaXN0YW5jZS5jdXJyZW50ID0gZGlzdGFuY2UocG9pbnRlcnNbMF0sIHBvaW50ZXJzWzFdKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIGNvbnN0IG9uUG9pbnRlck1vdmUgPSB1c2VFdmVudENhbGxiYWNrKChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCBwb2ludGVycyA9IGFjdGl2ZVBvaW50ZXJzLmN1cnJlbnQ7XG4gICAgICAgIGNvbnN0IGFjdGl2ZVBvaW50ZXIgPSBwb2ludGVycy5maW5kKChwKSA9PiBwLnBvaW50ZXJJZCA9PT0gZXZlbnQucG9pbnRlcklkKTtcbiAgICAgICAgaWYgKHBvaW50ZXJzLmxlbmd0aCA9PT0gMiAmJiBwaW5jaFpvb21EaXN0YW5jZS5jdXJyZW50KSB7XG4gICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgIHJlcGxhY2VQb2ludGVyKGV2ZW50KTtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnREaXN0YW5jZSA9IGRpc3RhbmNlKHBvaW50ZXJzWzBdLCBwb2ludGVyc1sxXSk7XG4gICAgICAgICAgICBjb25zdCBkZWx0YSA9IGN1cnJlbnREaXN0YW5jZSAtIHBpbmNoWm9vbURpc3RhbmNlLmN1cnJlbnQ7XG4gICAgICAgICAgICBpZiAoTWF0aC5hYnMoZGVsdGEpID4gMCkge1xuICAgICAgICAgICAgICAgIGNoYW5nZVpvb20oc2NhbGVab29tKHpvb20sIGRlbHRhLCBwaW5jaFpvb21EaXN0YW5jZUZhY3RvciksIHRydWUsIC4uLnBvaW50ZXJzXG4gICAgICAgICAgICAgICAgICAgIC5tYXAoKHgpID0+IHRyYW5zbGF0ZUNvb3JkaW5hdGVzKHgpKVxuICAgICAgICAgICAgICAgICAgICAucmVkdWNlKChhY2MsIGNvb3JkaW5hdGUpID0+IGNvb3JkaW5hdGUubWFwKCh4LCBpKSA9PiBhY2NbaV0gKyB4IC8gMikpKTtcbiAgICAgICAgICAgICAgICBwaW5jaFpvb21EaXN0YW5jZS5jdXJyZW50ID0gY3VycmVudERpc3RhbmNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh6b29tID4gMSkge1xuICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICBpZiAoYWN0aXZlUG9pbnRlcikge1xuICAgICAgICAgICAgICAgIGlmIChwb2ludGVycy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgY2hhbmdlT2Zmc2V0cygoYWN0aXZlUG9pbnRlci5jbGllbnRYIC0gZXZlbnQuY2xpZW50WCkgLyB6b29tLCAoYWN0aXZlUG9pbnRlci5jbGllbnRZIC0gZXZlbnQuY2xpZW50WSkgLyB6b29tKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmVwbGFjZVBvaW50ZXIoZXZlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG4gICAgY29uc3Qgb25Qb2ludGVyVXAgPSBSZWFjdC51c2VDYWxsYmFjaygoZXZlbnQpID0+IHtcbiAgICAgICAgY29uc3QgcG9pbnRlcnMgPSBhY3RpdmVQb2ludGVycy5jdXJyZW50O1xuICAgICAgICBpZiAocG9pbnRlcnMubGVuZ3RoID09PSAyICYmIHBvaW50ZXJzLmZpbmQoKHApID0+IHAucG9pbnRlcklkID09PSBldmVudC5wb2ludGVySWQpKSB7XG4gICAgICAgICAgICBwaW5jaFpvb21EaXN0YW5jZS5jdXJyZW50ID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGNsZWFyUG9pbnRlcihldmVudCk7XG4gICAgfSwgW2NsZWFyUG9pbnRlcl0pO1xuICAgIGNvbnN0IGNsZWFudXBTZW5zb3JzID0gUmVhY3QudXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgICAgICBjb25zdCBwb2ludGVycyA9IGFjdGl2ZVBvaW50ZXJzLmN1cnJlbnQ7XG4gICAgICAgIHBvaW50ZXJzLnNwbGljZSgwLCBwb2ludGVycy5sZW5ndGgpO1xuICAgICAgICBsYXN0UG9pbnRlckRvd24uY3VycmVudCA9IDA7XG4gICAgICAgIHBpbmNoWm9vbURpc3RhbmNlLmN1cnJlbnQgPSB1bmRlZmluZWQ7XG4gICAgfSwgW10pO1xuICAgIHVzZVBvaW50ZXJFdmVudHMoc3Vic2NyaWJlU2Vuc29ycywgb25Qb2ludGVyRG93biwgb25Qb2ludGVyTW92ZSwgb25Qb2ludGVyVXAsIGRpc2FibGVkKTtcbiAgICBSZWFjdC51c2VFZmZlY3QoY2xlYW51cFNlbnNvcnMsIFtnbG9iYWxJbmRleCwgY2xlYW51cFNlbnNvcnNdKTtcbiAgICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoIWRpc2FibGVkKSB7XG4gICAgICAgICAgICByZXR1cm4gY2xlYW51cChjbGVhbnVwU2Vuc29ycywgc3Vic2NyaWJlU2Vuc29ycyhFVkVOVF9PTl9LRVlfRE9XTiwgb25LZXlEb3duKSwgc3Vic2NyaWJlU2Vuc29ycyhFVkVOVF9PTl9XSEVFTCwgb25XaGVlbCkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoKSA9PiB7IH07XG4gICAgfSwgW2Rpc2FibGVkLCBzdWJzY3JpYmVTZW5zb3JzLCBjbGVhbnVwU2Vuc29ycywgb25LZXlEb3duLCBvbldoZWVsXSk7XG59XG5cbmZ1bmN0aW9uIHVzZVpvb21TdGF0ZShpbWFnZVJlY3QsIG1heFpvb20sIHpvb21XcmFwcGVyUmVmKSB7XG4gICAgY29uc3QgW3pvb20sIHNldFpvb21dID0gUmVhY3QudXNlU3RhdGUoMSk7XG4gICAgY29uc3QgW29mZnNldFgsIHNldE9mZnNldFhdID0gUmVhY3QudXNlU3RhdGUoMCk7XG4gICAgY29uc3QgW29mZnNldFksIHNldE9mZnNldFldID0gUmVhY3QudXNlU3RhdGUoMCk7XG4gICAgY29uc3QgYW5pbWF0ZSA9IHVzZVpvb21BbmltYXRpb24oem9vbSwgb2Zmc2V0WCwgb2Zmc2V0WSwgem9vbVdyYXBwZXJSZWYpO1xuICAgIGNvbnN0IHsgY3VycmVudFNsaWRlLCBnbG9iYWxJbmRleCB9ID0gdXNlTGlnaHRib3hTdGF0ZSgpO1xuICAgIGNvbnN0IHsgY29udGFpbmVyUmVjdCwgc2xpZGVSZWN0IH0gPSB1c2VDb250cm9sbGVyKCk7XG4gICAgY29uc3QgeyB6b29tSW5NdWx0aXBsaWVyIH0gPSB1c2Vab29tUHJvcHMoKTtcbiAgICBjb25zdCBjdXJyZW50U291cmNlID0gY3VycmVudFNsaWRlICYmIGlzSW1hZ2VTbGlkZShjdXJyZW50U2xpZGUpID8gY3VycmVudFNsaWRlLnNyYyA6IHVuZGVmaW5lZDtcbiAgICBjb25zdCBkaXNhYmxlZCA9ICFjdXJyZW50U291cmNlIHx8ICEoem9vbVdyYXBwZXJSZWYgPT09IG51bGwgfHwgem9vbVdyYXBwZXJSZWYgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHpvb21XcmFwcGVyUmVmLmN1cnJlbnQpO1xuICAgIHVzZUxheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgICAgIHNldFpvb20oMSk7XG4gICAgICAgIHNldE9mZnNldFgoMCk7XG4gICAgICAgIHNldE9mZnNldFkoMCk7XG4gICAgfSwgW2dsb2JhbEluZGV4LCBjdXJyZW50U291cmNlXSk7XG4gICAgY29uc3QgY2hhbmdlT2Zmc2V0cyA9IFJlYWN0LnVzZUNhbGxiYWNrKChkeCwgZHksIHRhcmdldFpvb20pID0+IHtcbiAgICAgICAgY29uc3QgbmV3Wm9vbSA9IHRhcmdldFpvb20gfHwgem9vbTtcbiAgICAgICAgY29uc3QgbmV3T2Zmc2V0WCA9IG9mZnNldFggLSAoZHggfHwgMCk7XG4gICAgICAgIGNvbnN0IG5ld09mZnNldFkgPSBvZmZzZXRZIC0gKGR5IHx8IDApO1xuICAgICAgICBjb25zdCBtYXhPZmZzZXRYID0gKGltYWdlUmVjdC53aWR0aCAqIG5ld1pvb20gLSBzbGlkZVJlY3Qud2lkdGgpIC8gMiAvIG5ld1pvb207XG4gICAgICAgIGNvbnN0IG1heE9mZnNldFkgPSAoaW1hZ2VSZWN0LmhlaWdodCAqIG5ld1pvb20gLSBzbGlkZVJlY3QuaGVpZ2h0KSAvIDIgLyBuZXdab29tO1xuICAgICAgICBzZXRPZmZzZXRYKE1hdGgubWluKE1hdGguYWJzKG5ld09mZnNldFgpLCBNYXRoLm1heChtYXhPZmZzZXRYLCAwKSkgKiBNYXRoLnNpZ24obmV3T2Zmc2V0WCkpO1xuICAgICAgICBzZXRPZmZzZXRZKE1hdGgubWluKE1hdGguYWJzKG5ld09mZnNldFkpLCBNYXRoLm1heChtYXhPZmZzZXRZLCAwKSkgKiBNYXRoLnNpZ24obmV3T2Zmc2V0WSkpO1xuICAgIH0sIFt6b29tLCBvZmZzZXRYLCBvZmZzZXRZLCBzbGlkZVJlY3QsIGltYWdlUmVjdC53aWR0aCwgaW1hZ2VSZWN0LmhlaWdodF0pO1xuICAgIGNvbnN0IGNoYW5nZVpvb20gPSBSZWFjdC51c2VDYWxsYmFjaygodGFyZ2V0Wm9vbSwgcmFwaWQsIGR4LCBkeSkgPT4ge1xuICAgICAgICBjb25zdCBuZXdab29tID0gcm91bmQoTWF0aC5taW4oTWF0aC5tYXgodGFyZ2V0Wm9vbSArIDAuMDAxIDwgbWF4Wm9vbSA/IHRhcmdldFpvb20gOiBtYXhab29tLCAxKSwgbWF4Wm9vbSksIDUpO1xuICAgICAgICBpZiAobmV3Wm9vbSA9PT0gem9vbSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgaWYgKCFyYXBpZCkge1xuICAgICAgICAgICAgYW5pbWF0ZSgpO1xuICAgICAgICB9XG4gICAgICAgIGNoYW5nZU9mZnNldHMoZHggPyBkeCAqICgxIC8gem9vbSAtIDEgLyBuZXdab29tKSA6IDAsIGR5ID8gZHkgKiAoMSAvIHpvb20gLSAxIC8gbmV3Wm9vbSkgOiAwLCBuZXdab29tKTtcbiAgICAgICAgc2V0Wm9vbShuZXdab29tKTtcbiAgICB9LCBbem9vbSwgbWF4Wm9vbSwgY2hhbmdlT2Zmc2V0cywgYW5pbWF0ZV0pO1xuICAgIGNvbnN0IGhhbmRsZUNvbnRyb2xsZXJSZWN0Q2hhbmdlID0gdXNlRXZlbnRDYWxsYmFjaygoKSA9PiB7XG4gICAgICAgIGlmICh6b29tID4gMSkge1xuICAgICAgICAgICAgaWYgKHpvb20gPiBtYXhab29tKSB7XG4gICAgICAgICAgICAgICAgY2hhbmdlWm9vbShtYXhab29tLCB0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNoYW5nZU9mZnNldHMoKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHVzZUxheW91dEVmZmVjdChoYW5kbGVDb250cm9sbGVyUmVjdENoYW5nZSwgW2NvbnRhaW5lclJlY3Qud2lkdGgsIGNvbnRhaW5lclJlY3QuaGVpZ2h0LCBoYW5kbGVDb250cm9sbGVyUmVjdENoYW5nZV0pO1xuICAgIGNvbnN0IHpvb21JbiA9IFJlYWN0LnVzZUNhbGxiYWNrKCgpID0+IGNoYW5nZVpvb20oem9vbSAqIHpvb21Jbk11bHRpcGxpZXIpLCBbem9vbSwgem9vbUluTXVsdGlwbGllciwgY2hhbmdlWm9vbV0pO1xuICAgIGNvbnN0IHpvb21PdXQgPSBSZWFjdC51c2VDYWxsYmFjaygoKSA9PiBjaGFuZ2Vab29tKHpvb20gLyB6b29tSW5NdWx0aXBsaWVyKSwgW3pvb20sIHpvb21Jbk11bHRpcGxpZXIsIGNoYW5nZVpvb21dKTtcbiAgICByZXR1cm4geyB6b29tLCBvZmZzZXRYLCBvZmZzZXRZLCBkaXNhYmxlZCwgY2hhbmdlT2Zmc2V0cywgY2hhbmdlWm9vbSwgem9vbUluLCB6b29tT3V0IH07XG59XG5cbmNvbnN0IFpvb21Db250cm9sbGVyQ29udGV4dCA9IFJlYWN0LmNyZWF0ZUNvbnRleHQobnVsbCk7XG5jb25zdCB1c2Vab29tID0gbWFrZVVzZUNvbnRleHQoXCJ1c2Vab29tXCIsIFwiWm9vbUNvbnRyb2xsZXJDb250ZXh0XCIsIFpvb21Db250cm9sbGVyQ29udGV4dCk7XG5mdW5jdGlvbiBab29tQ29udGV4dFByb3ZpZGVyKHsgY2hpbGRyZW4gfSkge1xuICAgIGNvbnN0IFt6b29tV3JhcHBlciwgc2V0Wm9vbVdyYXBwZXJdID0gUmVhY3QudXNlU3RhdGUoKTtcbiAgICBjb25zdCB7IHNsaWRlUmVjdCB9ID0gdXNlQ29udHJvbGxlcigpO1xuICAgIGNvbnN0IHsgaW1hZ2VSZWN0LCBtYXhab29tIH0gPSB1c2Vab29tSW1hZ2VSZWN0KHNsaWRlUmVjdCwgem9vbVdyYXBwZXIgPT09IG51bGwgfHwgem9vbVdyYXBwZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHpvb21XcmFwcGVyLmltYWdlRGltZW5zaW9ucyk7XG4gICAgY29uc3QgeyB6b29tLCBvZmZzZXRYLCBvZmZzZXRZLCBkaXNhYmxlZCwgY2hhbmdlWm9vbSwgY2hhbmdlT2Zmc2V0cywgem9vbUluLCB6b29tT3V0IH0gPSB1c2Vab29tU3RhdGUoaW1hZ2VSZWN0LCBtYXhab29tLCB6b29tV3JhcHBlciA9PT0gbnVsbCB8fCB6b29tV3JhcHBlciA9PT0gdm9pZCAwID8gdm9pZCAwIDogem9vbVdyYXBwZXIuem9vbVdyYXBwZXJSZWYpO1xuICAgIHVzZVpvb21DYWxsYmFjayh6b29tLCBkaXNhYmxlZCk7XG4gICAgdXNlWm9vbVNlbnNvcnMoem9vbSwgbWF4Wm9vbSwgZGlzYWJsZWQsIGNoYW5nZVpvb20sIGNoYW5nZU9mZnNldHMsIHpvb21XcmFwcGVyID09PSBudWxsIHx8IHpvb21XcmFwcGVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiB6b29tV3JhcHBlci56b29tV3JhcHBlclJlZik7XG4gICAgY29uc3Qgem9vbVJlZiA9IFJlYWN0LnVzZU1lbW8oKCkgPT4gKHsgem9vbSwgbWF4Wm9vbSwgb2Zmc2V0WCwgb2Zmc2V0WSwgZGlzYWJsZWQsIHpvb21Jbiwgem9vbU91dCwgY2hhbmdlWm9vbSB9KSwgW3pvb20sIG1heFpvb20sIG9mZnNldFgsIG9mZnNldFksIGRpc2FibGVkLCB6b29tSW4sIHpvb21PdXQsIGNoYW5nZVpvb21dKTtcbiAgICBSZWFjdC51c2VJbXBlcmF0aXZlSGFuZGxlKHVzZVpvb21Qcm9wcygpLnJlZiwgKCkgPT4gem9vbVJlZiwgW3pvb21SZWZdKTtcbiAgICBjb25zdCBjb250ZXh0ID0gUmVhY3QudXNlTWVtbygoKSA9PiAoeyAuLi56b29tUmVmLCBzZXRab29tV3JhcHBlciB9KSwgW3pvb21SZWYsIHNldFpvb21XcmFwcGVyXSk7XG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoWm9vbUNvbnRyb2xsZXJDb250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlOiBjb250ZXh0IH0sIGNoaWxkcmVuKTtcbn1cblxuY29uc3QgWm9vbUluSWNvbiA9IGNyZWF0ZUljb24oXCJab29tSW5cIiwgUmVhY3QuY3JlYXRlRWxlbWVudChSZWFjdC5GcmFnbWVudCwgbnVsbCxcbiAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7IGQ6IFwiTTE1LjUgMTRoLS43OWwtLjI4LS4yN0MxNS40MSAxMi41OSAxNiAxMS4xMSAxNiA5LjUgMTYgNS45MSAxMy4wOSAzIDkuNSAzUzMgNS45MSAzIDkuNSA1LjkxIDE2IDkuNSAxNmMxLjYxIDAgMy4wOS0uNTkgNC4yMy0xLjU3bC4yNy4yOHYuNzlsNSA0Ljk5TDIwLjQ5IDE5bC00Ljk5LTV6bS02IDBDNy4wMSAxNCA1IDExLjk5IDUgOS41UzcuMDEgNSA5LjUgNSAxNCA3LjAxIDE0IDkuNSAxMS45OSAxNCA5LjUgMTR6XCIgfSksXG4gICAgUmVhY3QuY3JlYXRlRWxlbWVudChcInBhdGhcIiwgeyBkOiBcIk0xMiAxMGgtMnYySDl2LTJIN1Y5aDJWN2gxdjJoMnYxelwiIH0pKSk7XG5jb25zdCBab29tT3V0SWNvbiA9IGNyZWF0ZUljb24oXCJab29tT3V0XCIsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHsgZDogXCJNMTUuNSAxNGgtLjc5bC0uMjgtLjI3QzE1LjQxIDEyLjU5IDE2IDExLjExIDE2IDkuNSAxNiA1LjkxIDEzLjA5IDMgOS41IDNTMyA1LjkxIDMgOS41IDUuOTEgMTYgOS41IDE2YzEuNjEgMCAzLjA5LS41OSA0LjIzLTEuNTdsLjI3LjI4di43OWw1IDQuOTlMMjAuNDkgMTlsLTQuOTktNXptLTYgMEM3LjAxIDE0IDUgMTEuOTkgNSA5LjVTNy4wMSA1IDkuNSA1IDE0IDcuMDEgMTQgOS41IDExLjk5IDE0IDkuNSAxNHpNNyA5aDV2MUg3elwiIH0pKTtcbmNvbnN0IFpvb21CdXR0b24gPSBSZWFjdC5mb3J3YXJkUmVmKGZ1bmN0aW9uIFpvb21CdXR0b24oeyB6b29tSW4sIG9uTG9zZUZvY3VzIH0sIHJlZikge1xuICAgIGNvbnN0IHdhc0VuYWJsZWQgPSBSZWFjdC51c2VSZWYoZmFsc2UpO1xuICAgIGNvbnN0IHdhc0ZvY3VzZWQgPSBSZWFjdC51c2VSZWYoZmFsc2UpO1xuICAgIGNvbnN0IHsgem9vbSwgbWF4Wm9vbSwgem9vbUluOiB6b29tSW5DYWxsYmFjaywgem9vbU91dDogem9vbU91dENhbGxiYWNrLCBkaXNhYmxlZDogem9vbURpc2FibGVkIH0gPSB1c2Vab29tKCk7XG4gICAgY29uc3QgeyByZW5kZXIgfSA9IHVzZUxpZ2h0Ym94UHJvcHMoKTtcbiAgICBjb25zdCBkaXNhYmxlZCA9IHpvb21EaXNhYmxlZCB8fCAoem9vbUluID8gem9vbSA+PSBtYXhab29tIDogem9vbSA8PSAxKTtcbiAgICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoZGlzYWJsZWQgJiYgd2FzRW5hYmxlZC5jdXJyZW50ICYmIHdhc0ZvY3VzZWQuY3VycmVudCkge1xuICAgICAgICAgICAgb25Mb3NlRm9jdXMoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWRpc2FibGVkKSB7XG4gICAgICAgICAgICB3YXNFbmFibGVkLmN1cnJlbnQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfSwgW2Rpc2FibGVkLCBvbkxvc2VGb2N1c10pO1xuICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChJY29uQnV0dG9uLCB7IHJlZjogcmVmLCBkaXNhYmxlZDogZGlzYWJsZWQsIGxhYmVsOiB6b29tSW4gPyBcIlpvb20gaW5cIiA6IFwiWm9vbSBvdXRcIiwgaWNvbjogem9vbUluID8gWm9vbUluSWNvbiA6IFpvb21PdXRJY29uLCByZW5kZXJJY29uOiB6b29tSW4gPyByZW5kZXIuaWNvblpvb21JbiA6IHJlbmRlci5pY29uWm9vbU91dCwgb25DbGljazogem9vbUluID8gem9vbUluQ2FsbGJhY2sgOiB6b29tT3V0Q2FsbGJhY2ssIG9uRm9jdXM6ICgpID0+IHtcbiAgICAgICAgICAgIHdhc0ZvY3VzZWQuY3VycmVudCA9IHRydWU7XG4gICAgICAgIH0sIG9uQmx1cjogKCkgPT4ge1xuICAgICAgICAgICAgd2FzRm9jdXNlZC5jdXJyZW50ID0gZmFsc2U7XG4gICAgICAgIH0gfSkpO1xufSk7XG5cbmZ1bmN0aW9uIFpvb21CdXR0b25zR3JvdXAoKSB7XG4gICAgY29uc3Qgem9vbUluUmVmID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICAgIGNvbnN0IHpvb21PdXRSZWYgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gICAgY29uc3QgeyBmb2N1cyB9ID0gdXNlQ29udHJvbGxlcigpO1xuICAgIGNvbnN0IGZvY3VzU2libGluZyA9IFJlYWN0LnVzZUNhbGxiYWNrKChzaWJsaW5nKSA9PiB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIGlmICghKChfYSA9IHNpYmxpbmcuY3VycmVudCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmRpc2FibGVkKSkge1xuICAgICAgICAgICAgKF9iID0gc2libGluZy5jdXJyZW50KSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuZm9jdXMoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGZvY3VzKCk7XG4gICAgICAgIH1cbiAgICB9LCBbZm9jdXNdKTtcbiAgICBjb25zdCBmb2N1c1pvb21JbiA9IFJlYWN0LnVzZUNhbGxiYWNrKCgpID0+IGZvY3VzU2libGluZyh6b29tSW5SZWYpLCBbZm9jdXNTaWJsaW5nXSk7XG4gICAgY29uc3QgZm9jdXNab29tT3V0ID0gUmVhY3QudXNlQ2FsbGJhY2soKCkgPT4gZm9jdXNTaWJsaW5nKHpvb21PdXRSZWYpLCBbZm9jdXNTaWJsaW5nXSk7XG4gICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFJlYWN0LkZyYWdtZW50LCBudWxsLFxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFpvb21CdXR0b24sIHsgem9vbUluOiB0cnVlLCByZWY6IHpvb21JblJlZiwgb25Mb3NlRm9jdXM6IGZvY3VzWm9vbU91dCB9KSxcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChab29tQnV0dG9uLCB7IHJlZjogem9vbU91dFJlZiwgb25Mb3NlRm9jdXM6IGZvY3VzWm9vbUluIH0pKSk7XG59XG5cbmZ1bmN0aW9uIFpvb21Ub29sYmFyQ29udHJvbCgpIHtcbiAgICBjb25zdCB7IHJlbmRlciB9ID0gdXNlTGlnaHRib3hQcm9wcygpO1xuICAgIGNvbnN0IHpvb21SZWYgPSB1c2Vab29tKCk7XG4gICAgaWYgKHJlbmRlci5idXR0b25ab29tKSB7XG4gICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFJlYWN0LkZyYWdtZW50LCBudWxsLCByZW5kZXIuYnV0dG9uWm9vbSh6b29tUmVmKSk7XG4gICAgfVxuICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFpvb21CdXR0b25zR3JvdXAsIG51bGwpO1xufVxuXG5mdW5jdGlvbiBpc1Jlc3BvbnNpdmVJbWFnZVNsaWRlKHNsaWRlKSB7XG4gICAgdmFyIF9hO1xuICAgIHJldHVybiAoKChfYSA9IHNsaWRlLnNyY1NldCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmxlbmd0aCkgfHwgMCkgPiAwO1xufVxuZnVuY3Rpb24gcmVkdWNlcih7IGN1cnJlbnQsIHByZWxvYWQgfSwgeyB0eXBlLCBzb3VyY2UgfSkge1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlIFwiZmV0Y2hcIjpcbiAgICAgICAgICAgIGlmICghY3VycmVudCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7IGN1cnJlbnQ6IHNvdXJjZSB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHsgY3VycmVudCwgcHJlbG9hZDogc291cmNlIH07XG4gICAgICAgIGNhc2UgXCJkb25lXCI6XG4gICAgICAgICAgICBpZiAoc291cmNlID09PSBwcmVsb2FkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgY3VycmVudDogc291cmNlIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4geyBjdXJyZW50LCBwcmVsb2FkIH07XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoVU5LTk9XTl9BQ1RJT05fVFlQRSk7XG4gICAgfVxufVxuZnVuY3Rpb24gUmVzcG9uc2l2ZUltYWdlKHByb3BzKSB7XG4gICAgdmFyIF9hLCBfYjtcbiAgICBjb25zdCBbeyBjdXJyZW50LCBwcmVsb2FkIH0sIGRpc3BhdGNoXSA9IFJlYWN0LnVzZVJlZHVjZXIocmVkdWNlciwge30pO1xuICAgIGNvbnN0IHsgc2xpZGU6IGltYWdlLCByZWN0LCBpbWFnZUZpdCwgcmVuZGVyLCBpbnRlcmFjdGl2ZSB9ID0gcHJvcHM7XG4gICAgY29uc3Qgc3JjU2V0ID0gaW1hZ2Uuc3JjU2V0LnNvcnQoKGEsIGIpID0+IGEud2lkdGggLSBiLndpZHRoKTtcbiAgICBjb25zdCB3aWR0aCA9IChfYSA9IGltYWdlLndpZHRoKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBzcmNTZXRbc3JjU2V0Lmxlbmd0aCAtIDFdLndpZHRoO1xuICAgIGNvbnN0IGhlaWdodCA9IChfYiA9IGltYWdlLmhlaWdodCkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogc3JjU2V0W3NyY1NldC5sZW5ndGggLSAxXS5oZWlnaHQ7XG4gICAgY29uc3QgY292ZXIgPSBpc0ltYWdlRml0Q292ZXIoaW1hZ2UsIGltYWdlRml0KTtcbiAgICBjb25zdCBtYXhXaWR0aCA9IE1hdGgubWF4KC4uLnNyY1NldC5tYXAoKHgpID0+IHgud2lkdGgpKTtcbiAgICBjb25zdCB0YXJnZXRXaWR0aCA9IE1hdGgubWluKChjb3ZlciA/IE1hdGgubWF4IDogTWF0aC5taW4pKHJlY3Qud2lkdGgsIHdpZHRoICogKHJlY3QuaGVpZ2h0IC8gaGVpZ2h0KSksIG1heFdpZHRoKTtcbiAgICBjb25zdCBwaXhlbERlbnNpdHkgPSBkZXZpY2VQaXhlbFJhdGlvKCk7XG4gICAgY29uc3QgaGFuZGxlUmVzaXplID0gdXNlRXZlbnRDYWxsYmFjaygoKSA9PiB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgY29uc3QgdGFyZ2V0U291cmNlID0gKF9hID0gc3JjU2V0LmZpbmQoKHgpID0+IHgud2lkdGggPj0gdGFyZ2V0V2lkdGggKiBwaXhlbERlbnNpdHkpKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBzcmNTZXRbc3JjU2V0Lmxlbmd0aCAtIDFdO1xuICAgICAgICBpZiAoIWN1cnJlbnQgfHwgc3JjU2V0LmZpbmRJbmRleCgoeCkgPT4geC5zcmMgPT09IGN1cnJlbnQpIDwgc3JjU2V0LmZpbmRJbmRleCgoeCkgPT4geCA9PT0gdGFyZ2V0U291cmNlKSkge1xuICAgICAgICAgICAgZGlzcGF0Y2goeyB0eXBlOiBcImZldGNoXCIsIHNvdXJjZTogdGFyZ2V0U291cmNlLnNyYyB9KTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHVzZUxheW91dEVmZmVjdChoYW5kbGVSZXNpemUsIFtyZWN0LndpZHRoLCByZWN0LmhlaWdodCwgcGl4ZWxEZW5zaXR5LCBoYW5kbGVSZXNpemVdKTtcbiAgICBjb25zdCBoYW5kbGVQcmVsb2FkID0gdXNlRXZlbnRDYWxsYmFjaygoY3VycmVudFByZWxvYWQpID0+IGRpc3BhdGNoKHsgdHlwZTogXCJkb25lXCIsIHNvdXJjZTogY3VycmVudFByZWxvYWQgfSkpO1xuICAgIGNvbnN0IHN0eWxlID0ge1xuICAgICAgICBXZWJraXRUcmFuc2Zvcm06ICFpbnRlcmFjdGl2ZSA/IFwidHJhbnNsYXRlWigwKVwiIDogXCJpbml0aWFsXCIsXG4gICAgfTtcbiAgICBpZiAoIWNvdmVyKSB7XG4gICAgICAgIE9iamVjdC5hc3NpZ24oc3R5bGUsIHJlY3Qud2lkdGggLyByZWN0LmhlaWdodCA8IHdpZHRoIC8gaGVpZ2h0ID8geyB3aWR0aDogXCIxMDAlXCIsIGhlaWdodDogXCJhdXRvXCIgfSA6IHsgd2lkdGg6IFwiYXV0b1wiLCBoZWlnaHQ6IFwiMTAwJVwiIH0pO1xuICAgIH1cbiAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIG51bGwsXG4gICAgICAgIHByZWxvYWQgJiYgcHJlbG9hZCAhPT0gY3VycmVudCAmJiAoUmVhY3QuY3JlYXRlRWxlbWVudChJbWFnZVNsaWRlLCB7IGtleTogXCJwcmVsb2FkXCIsIC4uLnByb3BzLCBzbGlkZTogeyAuLi5pbWFnZSwgc3JjOiBwcmVsb2FkLCBzcmNTZXQ6IHVuZGVmaW5lZCB9LCBzdHlsZTogeyBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLCB2aXNpYmlsaXR5OiBcImhpZGRlblwiLCAuLi5zdHlsZSB9LCBvbkxvYWQ6ICgpID0+IGhhbmRsZVByZWxvYWQocHJlbG9hZCksIHJlbmRlcjoge1xuICAgICAgICAgICAgICAgIC4uLnJlbmRlcixcbiAgICAgICAgICAgICAgICBpY29uTG9hZGluZzogKCkgPT4gbnVsbCxcbiAgICAgICAgICAgICAgICBpY29uRXJyb3I6ICgpID0+IG51bGwsXG4gICAgICAgICAgICB9IH0pKSxcbiAgICAgICAgY3VycmVudCAmJiAoUmVhY3QuY3JlYXRlRWxlbWVudChJbWFnZVNsaWRlLCB7IGtleTogXCJjdXJyZW50XCIsIC4uLnByb3BzLCBzbGlkZTogeyAuLi5pbWFnZSwgc3JjOiBjdXJyZW50LCBzcmNTZXQ6IHVuZGVmaW5lZCB9LCBzdHlsZTogc3R5bGUgfSkpKSk7XG59XG5cbmZ1bmN0aW9uIFpvb21XcmFwcGVyKHsgcmVuZGVyLCBzbGlkZSwgb2Zmc2V0LCByZWN0IH0pIHtcbiAgICB2YXIgX2E7XG4gICAgY29uc3QgW2ltYWdlRGltZW5zaW9ucywgc2V0SW1hZ2VEaW1lbnNpb25zXSA9IFJlYWN0LnVzZVN0YXRlKCk7XG4gICAgY29uc3Qgem9vbVdyYXBwZXJSZWYgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gICAgY29uc3QgeyB6b29tLCBtYXhab29tLCBvZmZzZXRYLCBvZmZzZXRZLCBzZXRab29tV3JhcHBlciB9ID0gdXNlWm9vbSgpO1xuICAgIGNvbnN0IGludGVyYWN0aXZlID0gem9vbSA+IDE7XG4gICAgY29uc3QgeyBjYXJvdXNlbCwgb24gfSA9IHVzZUxpZ2h0Ym94UHJvcHMoKTtcbiAgICBjb25zdCB7IGN1cnJlbnRJbmRleCB9ID0gdXNlTGlnaHRib3hTdGF0ZSgpO1xuICAgIHVzZUxheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChvZmZzZXQgPT09IDApIHtcbiAgICAgICAgICAgIHNldFpvb21XcmFwcGVyKHsgem9vbVdyYXBwZXJSZWYsIGltYWdlRGltZW5zaW9ucyB9KTtcbiAgICAgICAgICAgIHJldHVybiAoKSA9PiBzZXRab29tV3JhcHBlcih1bmRlZmluZWQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoKSA9PiB7IH07XG4gICAgfSwgW29mZnNldCwgaW1hZ2VEaW1lbnNpb25zLCBzZXRab29tV3JhcHBlcl0pO1xuICAgIGxldCByZW5kZXJlZCA9IChfYSA9IHJlbmRlci5zbGlkZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwocmVuZGVyLCB7IHNsaWRlLCBvZmZzZXQsIHJlY3QsIHpvb20sIG1heFpvb20gfSk7XG4gICAgaWYgKCFyZW5kZXJlZCAmJiBpc0ltYWdlU2xpZGUoc2xpZGUpKSB7XG4gICAgICAgIGNvbnN0IHNsaWRlUHJvcHMgPSB7XG4gICAgICAgICAgICBzbGlkZSxcbiAgICAgICAgICAgIG9mZnNldCxcbiAgICAgICAgICAgIHJlY3QsXG4gICAgICAgICAgICByZW5kZXIsXG4gICAgICAgICAgICBpbWFnZUZpdDogY2Fyb3VzZWwuaW1hZ2VGaXQsXG4gICAgICAgICAgICBpbWFnZVByb3BzOiBjYXJvdXNlbC5pbWFnZVByb3BzLFxuICAgICAgICAgICAgb25DbGljazogb2Zmc2V0ID09PSAwID8gKCkgPT4geyB2YXIgX2E7IHJldHVybiAoX2EgPSBvbi5jbGljaykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwob24sIHsgaW5kZXg6IGN1cnJlbnRJbmRleCB9KTsgfSA6IHVuZGVmaW5lZCxcbiAgICAgICAgfTtcbiAgICAgICAgcmVuZGVyZWQgPSBpc1Jlc3BvbnNpdmVJbWFnZVNsaWRlKHNsaWRlKSA/IChSZWFjdC5jcmVhdGVFbGVtZW50KFJlc3BvbnNpdmVJbWFnZSwgeyAuLi5zbGlkZVByb3BzLCBzbGlkZTogc2xpZGUsIGludGVyYWN0aXZlOiBpbnRlcmFjdGl2ZSwgcmVjdDogb2Zmc2V0ID09PSAwID8geyB3aWR0aDogcmVjdC53aWR0aCAqIHpvb20sIGhlaWdodDogcmVjdC5oZWlnaHQgKiB6b29tIH0gOiByZWN0IH0pKSA6IChSZWFjdC5jcmVhdGVFbGVtZW50KEltYWdlU2xpZGUsIHsgb25Mb2FkOiAoaW1nKSA9PiBzZXRJbWFnZURpbWVuc2lvbnMoeyB3aWR0aDogaW1nLm5hdHVyYWxXaWR0aCwgaGVpZ2h0OiBpbWcubmF0dXJhbEhlaWdodCB9KSwgLi4uc2xpZGVQcm9wcyB9KSk7XG4gICAgfVxuICAgIGlmICghcmVuZGVyZWQpXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IHJlZjogem9vbVdyYXBwZXJSZWYsIGNsYXNzTmFtZTogY2xzeChjc3NDbGFzcyhDTEFTU19GVUxMU0laRSksIGNzc0NsYXNzKENMQVNTX0ZMRVhfQ0VOVEVSKSwgY3NzQ2xhc3MoQ0xBU1NfU0xJREVfV1JBUFBFUiksIGludGVyYWN0aXZlICYmIGNzc0NsYXNzKENMQVNTX1NMSURFX1dSQVBQRVJfSU5URVJBQ1RJVkUpKSwgc3R5bGU6IG9mZnNldCA9PT0gMCA/IHsgdHJhbnNmb3JtOiBgc2NhbGUoJHt6b29tfSkgdHJhbnNsYXRlWCgke29mZnNldFh9cHgpIHRyYW5zbGF0ZVkoJHtvZmZzZXRZfXB4KWAgfSA6IHVuZGVmaW5lZCB9LCByZW5kZXJlZCkpO1xufVxuXG5jb25zdCBab29tID0gKHsgYXVnbWVudCwgYWRkTW9kdWxlIH0pID0+IHtcbiAgICBhdWdtZW50KCh7IHpvb206IHpvb21Qcm9wcywgdG9vbGJhciwgcmVuZGVyLCBjb250cm9sbGVyLCAuLi5yZXN0UHJvcHMgfSkgPT4ge1xuICAgICAgICBjb25zdCB6b29tID0gcmVzb2x2ZVpvb21Qcm9wcyh6b29tUHJvcHMpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgem9vbSxcbiAgICAgICAgICAgIHRvb2xiYXI6IGFkZFRvb2xiYXJCdXR0b24odG9vbGJhciwgUExVR0lOX1pPT00sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoWm9vbVRvb2xiYXJDb250cm9sLCBudWxsKSksXG4gICAgICAgICAgICByZW5kZXI6IHtcbiAgICAgICAgICAgICAgICAuLi5yZW5kZXIsXG4gICAgICAgICAgICAgICAgc2xpZGU6IChwcm9wcykgPT4geyB2YXIgX2E7IHJldHVybiBpc0ltYWdlU2xpZGUocHJvcHMuc2xpZGUpID8gUmVhY3QuY3JlYXRlRWxlbWVudChab29tV3JhcHBlciwgeyByZW5kZXI6IHJlbmRlciwgLi4ucHJvcHMgfSkgOiAoX2EgPSByZW5kZXIuc2xpZGUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKHJlbmRlciwgcHJvcHMpOyB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6IHsgLi4uY29udHJvbGxlciwgcHJldmVudERlZmF1bHRXaGVlbFk6IHpvb20uc2Nyb2xsVG9ab29tIH0sXG4gICAgICAgICAgICAuLi5yZXN0UHJvcHMsXG4gICAgICAgIH07XG4gICAgfSk7XG4gICAgYWRkTW9kdWxlKGNyZWF0ZU1vZHVsZShQTFVHSU5fWk9PTSwgWm9vbUNvbnRleHRQcm92aWRlcikpO1xufTtcblxuZXhwb3J0IHsgWm9vbSBhcyBkZWZhdWx0IH07XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/yet-another-react-lightbox/dist/plugins/zoom/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/yet-another-react-lightbox/dist/styles.css":
/*!*****************************************************************!*\
  !*** ./node_modules/yet-another-react-lightbox/dist/styles.css ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"075a87508db5\");\nif (false) {}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMveWV0LWFub3RoZXItcmVhY3QtbGlnaHRib3gvZGlzdC9zdHlsZXMuY3NzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQSxpRUFBZSxjQUFjO0FBQzdCLElBQUksS0FBVSxFQUFFLEVBQXVCIiwic291cmNlcyI6WyJFOlxcQ29kaW5nXFxTb2hhblNpclxcWVBfVkVSU0lPTl8yXFxmcm9udGVuZFxcbm9kZV9tb2R1bGVzXFx5ZXQtYW5vdGhlci1yZWFjdC1saWdodGJveFxcZGlzdFxcc3R5bGVzLmNzcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBcIjA3NWE4NzUwOGRiNVwiXG5pZiAobW9kdWxlLmhvdCkgeyBtb2R1bGUuaG90LmFjY2VwdCgpIH1cbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/yet-another-react-lightbox/dist/styles.css\n");

/***/ }),

/***/ "(ssr)/./node_modules/yet-another-react-lightbox/dist/types.js":
/*!***************************************************************!*\
  !*** ./node_modules/yet-another-react-lightbox/dist/types.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ACTION_CLOSE: () => (/* binding */ ACTION_CLOSE),\n/* harmony export */   ACTION_NEXT: () => (/* binding */ ACTION_NEXT),\n/* harmony export */   ACTION_PREV: () => (/* binding */ ACTION_PREV),\n/* harmony export */   ACTION_SWIPE: () => (/* binding */ ACTION_SWIPE),\n/* harmony export */   ACTIVE_SLIDE_COMPLETE: () => (/* binding */ ACTIVE_SLIDE_COMPLETE),\n/* harmony export */   ACTIVE_SLIDE_ERROR: () => (/* binding */ ACTIVE_SLIDE_ERROR),\n/* harmony export */   ACTIVE_SLIDE_LOADING: () => (/* binding */ ACTIVE_SLIDE_LOADING),\n/* harmony export */   ACTIVE_SLIDE_PLAYING: () => (/* binding */ ACTIVE_SLIDE_PLAYING),\n/* harmony export */   CLASS_FLEX_CENTER: () => (/* binding */ CLASS_FLEX_CENTER),\n/* harmony export */   CLASS_FULLSIZE: () => (/* binding */ CLASS_FULLSIZE),\n/* harmony export */   CLASS_NO_SCROLL: () => (/* binding */ CLASS_NO_SCROLL),\n/* harmony export */   CLASS_NO_SCROLL_PADDING: () => (/* binding */ CLASS_NO_SCROLL_PADDING),\n/* harmony export */   CLASS_SLIDE_WRAPPER: () => (/* binding */ CLASS_SLIDE_WRAPPER),\n/* harmony export */   CLASS_SLIDE_WRAPPER_INTERACTIVE: () => (/* binding */ CLASS_SLIDE_WRAPPER_INTERACTIVE),\n/* harmony export */   ELEMENT_BUTTON: () => (/* binding */ ELEMENT_BUTTON),\n/* harmony export */   ELEMENT_ICON: () => (/* binding */ ELEMENT_ICON),\n/* harmony export */   EVENT_ON_KEY_DOWN: () => (/* binding */ EVENT_ON_KEY_DOWN),\n/* harmony export */   EVENT_ON_KEY_UP: () => (/* binding */ EVENT_ON_KEY_UP),\n/* harmony export */   EVENT_ON_POINTER_CANCEL: () => (/* binding */ EVENT_ON_POINTER_CANCEL),\n/* harmony export */   EVENT_ON_POINTER_DOWN: () => (/* binding */ EVENT_ON_POINTER_DOWN),\n/* harmony export */   EVENT_ON_POINTER_LEAVE: () => (/* binding */ EVENT_ON_POINTER_LEAVE),\n/* harmony export */   EVENT_ON_POINTER_MOVE: () => (/* binding */ EVENT_ON_POINTER_MOVE),\n/* harmony export */   EVENT_ON_POINTER_UP: () => (/* binding */ EVENT_ON_POINTER_UP),\n/* harmony export */   EVENT_ON_WHEEL: () => (/* binding */ EVENT_ON_WHEEL),\n/* harmony export */   IMAGE_FIT_CONTAIN: () => (/* binding */ IMAGE_FIT_CONTAIN),\n/* harmony export */   IMAGE_FIT_COVER: () => (/* binding */ IMAGE_FIT_COVER),\n/* harmony export */   MODULE_CAROUSEL: () => (/* binding */ MODULE_CAROUSEL),\n/* harmony export */   MODULE_CONTROLLER: () => (/* binding */ MODULE_CONTROLLER),\n/* harmony export */   MODULE_NAVIGATION: () => (/* binding */ MODULE_NAVIGATION),\n/* harmony export */   MODULE_NO_SCROLL: () => (/* binding */ MODULE_NO_SCROLL),\n/* harmony export */   MODULE_PORTAL: () => (/* binding */ MODULE_PORTAL),\n/* harmony export */   MODULE_ROOT: () => (/* binding */ MODULE_ROOT),\n/* harmony export */   MODULE_TOOLBAR: () => (/* binding */ MODULE_TOOLBAR),\n/* harmony export */   PLUGIN_CAPTIONS: () => (/* binding */ PLUGIN_CAPTIONS),\n/* harmony export */   PLUGIN_COUNTER: () => (/* binding */ PLUGIN_COUNTER),\n/* harmony export */   PLUGIN_DOWNLOAD: () => (/* binding */ PLUGIN_DOWNLOAD),\n/* harmony export */   PLUGIN_FULLSCREEN: () => (/* binding */ PLUGIN_FULLSCREEN),\n/* harmony export */   PLUGIN_INLINE: () => (/* binding */ PLUGIN_INLINE),\n/* harmony export */   PLUGIN_SHARE: () => (/* binding */ PLUGIN_SHARE),\n/* harmony export */   PLUGIN_SLIDESHOW: () => (/* binding */ PLUGIN_SLIDESHOW),\n/* harmony export */   PLUGIN_THUMBNAILS: () => (/* binding */ PLUGIN_THUMBNAILS),\n/* harmony export */   PLUGIN_ZOOM: () => (/* binding */ PLUGIN_ZOOM),\n/* harmony export */   SLIDE_STATUS_COMPLETE: () => (/* binding */ SLIDE_STATUS_COMPLETE),\n/* harmony export */   SLIDE_STATUS_ERROR: () => (/* binding */ SLIDE_STATUS_ERROR),\n/* harmony export */   SLIDE_STATUS_LOADING: () => (/* binding */ SLIDE_STATUS_LOADING),\n/* harmony export */   SLIDE_STATUS_PLACEHOLDER: () => (/* binding */ SLIDE_STATUS_PLACEHOLDER),\n/* harmony export */   SLIDE_STATUS_PLAYING: () => (/* binding */ SLIDE_STATUS_PLAYING),\n/* harmony export */   UNKNOWN_ACTION_TYPE: () => (/* binding */ UNKNOWN_ACTION_TYPE),\n/* harmony export */   VK_ARROW_LEFT: () => (/* binding */ VK_ARROW_LEFT),\n/* harmony export */   VK_ARROW_RIGHT: () => (/* binding */ VK_ARROW_RIGHT),\n/* harmony export */   VK_ESCAPE: () => (/* binding */ VK_ESCAPE),\n/* harmony export */   activeSlideStatus: () => (/* binding */ activeSlideStatus)\n/* harmony export */ });\nconst MODULE_CAROUSEL = \"carousel\";\nconst MODULE_CONTROLLER = \"controller\";\nconst MODULE_NAVIGATION = \"navigation\";\nconst MODULE_NO_SCROLL = \"no-scroll\";\nconst MODULE_PORTAL = \"portal\";\nconst MODULE_ROOT = \"root\";\nconst MODULE_TOOLBAR = \"toolbar\";\nconst PLUGIN_CAPTIONS = \"captions\";\nconst PLUGIN_COUNTER = \"counter\";\nconst PLUGIN_DOWNLOAD = \"download\";\nconst PLUGIN_FULLSCREEN = \"fullscreen\";\nconst PLUGIN_INLINE = \"inline\";\nconst PLUGIN_SHARE = \"share\";\nconst PLUGIN_SLIDESHOW = \"slideshow\";\nconst PLUGIN_THUMBNAILS = \"thumbnails\";\nconst PLUGIN_ZOOM = \"zoom\";\nconst SLIDE_STATUS_LOADING = \"loading\";\nconst SLIDE_STATUS_PLAYING = \"playing\";\nconst SLIDE_STATUS_ERROR = \"error\";\nconst SLIDE_STATUS_COMPLETE = \"complete\";\nconst SLIDE_STATUS_PLACEHOLDER = \"placeholder\";\nconst activeSlideStatus = (status) => `active-slide-${status}`;\nconst ACTIVE_SLIDE_LOADING = activeSlideStatus(SLIDE_STATUS_LOADING);\nconst ACTIVE_SLIDE_PLAYING = activeSlideStatus(SLIDE_STATUS_PLAYING);\nconst ACTIVE_SLIDE_ERROR = activeSlideStatus(SLIDE_STATUS_ERROR);\nconst ACTIVE_SLIDE_COMPLETE = activeSlideStatus(SLIDE_STATUS_COMPLETE);\nconst CLASS_FULLSIZE = \"fullsize\";\nconst CLASS_FLEX_CENTER = \"flex_center\";\nconst CLASS_NO_SCROLL = \"no_scroll\";\nconst CLASS_NO_SCROLL_PADDING = \"no_scroll_padding\";\nconst CLASS_SLIDE_WRAPPER = \"slide_wrapper\";\nconst CLASS_SLIDE_WRAPPER_INTERACTIVE = \"slide_wrapper_interactive\";\nconst ACTION_PREV = \"prev\";\nconst ACTION_NEXT = \"next\";\nconst ACTION_SWIPE = \"swipe\";\nconst ACTION_CLOSE = \"close\";\nconst EVENT_ON_POINTER_DOWN = \"onPointerDown\";\nconst EVENT_ON_POINTER_MOVE = \"onPointerMove\";\nconst EVENT_ON_POINTER_UP = \"onPointerUp\";\nconst EVENT_ON_POINTER_LEAVE = \"onPointerLeave\";\nconst EVENT_ON_POINTER_CANCEL = \"onPointerCancel\";\nconst EVENT_ON_KEY_DOWN = \"onKeyDown\";\nconst EVENT_ON_KEY_UP = \"onKeyUp\";\nconst EVENT_ON_WHEEL = \"onWheel\";\nconst VK_ESCAPE = \"Escape\";\nconst VK_ARROW_LEFT = \"ArrowLeft\";\nconst VK_ARROW_RIGHT = \"ArrowRight\";\nconst ELEMENT_BUTTON = \"button\";\nconst ELEMENT_ICON = \"icon\";\nconst IMAGE_FIT_CONTAIN = \"contain\";\nconst IMAGE_FIT_COVER = \"cover\";\nconst UNKNOWN_ACTION_TYPE = \"Unknown action type\";\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMveWV0LWFub3RoZXItcmVhY3QtbGlnaHRib3gvZGlzdC90eXBlcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0RBQXNELE9BQU87QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVnOUIiLCJzb3VyY2VzIjpbIkU6XFxDb2RpbmdcXFNvaGFuU2lyXFxZUF9WRVJTSU9OXzJcXGZyb250ZW5kXFxub2RlX21vZHVsZXNcXHlldC1hbm90aGVyLXJlYWN0LWxpZ2h0Ym94XFxkaXN0XFx0eXBlcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBNT0RVTEVfQ0FST1VTRUwgPSBcImNhcm91c2VsXCI7XG5jb25zdCBNT0RVTEVfQ09OVFJPTExFUiA9IFwiY29udHJvbGxlclwiO1xuY29uc3QgTU9EVUxFX05BVklHQVRJT04gPSBcIm5hdmlnYXRpb25cIjtcbmNvbnN0IE1PRFVMRV9OT19TQ1JPTEwgPSBcIm5vLXNjcm9sbFwiO1xuY29uc3QgTU9EVUxFX1BPUlRBTCA9IFwicG9ydGFsXCI7XG5jb25zdCBNT0RVTEVfUk9PVCA9IFwicm9vdFwiO1xuY29uc3QgTU9EVUxFX1RPT0xCQVIgPSBcInRvb2xiYXJcIjtcbmNvbnN0IFBMVUdJTl9DQVBUSU9OUyA9IFwiY2FwdGlvbnNcIjtcbmNvbnN0IFBMVUdJTl9DT1VOVEVSID0gXCJjb3VudGVyXCI7XG5jb25zdCBQTFVHSU5fRE9XTkxPQUQgPSBcImRvd25sb2FkXCI7XG5jb25zdCBQTFVHSU5fRlVMTFNDUkVFTiA9IFwiZnVsbHNjcmVlblwiO1xuY29uc3QgUExVR0lOX0lOTElORSA9IFwiaW5saW5lXCI7XG5jb25zdCBQTFVHSU5fU0hBUkUgPSBcInNoYXJlXCI7XG5jb25zdCBQTFVHSU5fU0xJREVTSE9XID0gXCJzbGlkZXNob3dcIjtcbmNvbnN0IFBMVUdJTl9USFVNQk5BSUxTID0gXCJ0aHVtYm5haWxzXCI7XG5jb25zdCBQTFVHSU5fWk9PTSA9IFwiem9vbVwiO1xuY29uc3QgU0xJREVfU1RBVFVTX0xPQURJTkcgPSBcImxvYWRpbmdcIjtcbmNvbnN0IFNMSURFX1NUQVRVU19QTEFZSU5HID0gXCJwbGF5aW5nXCI7XG5jb25zdCBTTElERV9TVEFUVVNfRVJST1IgPSBcImVycm9yXCI7XG5jb25zdCBTTElERV9TVEFUVVNfQ09NUExFVEUgPSBcImNvbXBsZXRlXCI7XG5jb25zdCBTTElERV9TVEFUVVNfUExBQ0VIT0xERVIgPSBcInBsYWNlaG9sZGVyXCI7XG5jb25zdCBhY3RpdmVTbGlkZVN0YXR1cyA9IChzdGF0dXMpID0+IGBhY3RpdmUtc2xpZGUtJHtzdGF0dXN9YDtcbmNvbnN0IEFDVElWRV9TTElERV9MT0FESU5HID0gYWN0aXZlU2xpZGVTdGF0dXMoU0xJREVfU1RBVFVTX0xPQURJTkcpO1xuY29uc3QgQUNUSVZFX1NMSURFX1BMQVlJTkcgPSBhY3RpdmVTbGlkZVN0YXR1cyhTTElERV9TVEFUVVNfUExBWUlORyk7XG5jb25zdCBBQ1RJVkVfU0xJREVfRVJST1IgPSBhY3RpdmVTbGlkZVN0YXR1cyhTTElERV9TVEFUVVNfRVJST1IpO1xuY29uc3QgQUNUSVZFX1NMSURFX0NPTVBMRVRFID0gYWN0aXZlU2xpZGVTdGF0dXMoU0xJREVfU1RBVFVTX0NPTVBMRVRFKTtcbmNvbnN0IENMQVNTX0ZVTExTSVpFID0gXCJmdWxsc2l6ZVwiO1xuY29uc3QgQ0xBU1NfRkxFWF9DRU5URVIgPSBcImZsZXhfY2VudGVyXCI7XG5jb25zdCBDTEFTU19OT19TQ1JPTEwgPSBcIm5vX3Njcm9sbFwiO1xuY29uc3QgQ0xBU1NfTk9fU0NST0xMX1BBRERJTkcgPSBcIm5vX3Njcm9sbF9wYWRkaW5nXCI7XG5jb25zdCBDTEFTU19TTElERV9XUkFQUEVSID0gXCJzbGlkZV93cmFwcGVyXCI7XG5jb25zdCBDTEFTU19TTElERV9XUkFQUEVSX0lOVEVSQUNUSVZFID0gXCJzbGlkZV93cmFwcGVyX2ludGVyYWN0aXZlXCI7XG5jb25zdCBBQ1RJT05fUFJFViA9IFwicHJldlwiO1xuY29uc3QgQUNUSU9OX05FWFQgPSBcIm5leHRcIjtcbmNvbnN0IEFDVElPTl9TV0lQRSA9IFwic3dpcGVcIjtcbmNvbnN0IEFDVElPTl9DTE9TRSA9IFwiY2xvc2VcIjtcbmNvbnN0IEVWRU5UX09OX1BPSU5URVJfRE9XTiA9IFwib25Qb2ludGVyRG93blwiO1xuY29uc3QgRVZFTlRfT05fUE9JTlRFUl9NT1ZFID0gXCJvblBvaW50ZXJNb3ZlXCI7XG5jb25zdCBFVkVOVF9PTl9QT0lOVEVSX1VQID0gXCJvblBvaW50ZXJVcFwiO1xuY29uc3QgRVZFTlRfT05fUE9JTlRFUl9MRUFWRSA9IFwib25Qb2ludGVyTGVhdmVcIjtcbmNvbnN0IEVWRU5UX09OX1BPSU5URVJfQ0FOQ0VMID0gXCJvblBvaW50ZXJDYW5jZWxcIjtcbmNvbnN0IEVWRU5UX09OX0tFWV9ET1dOID0gXCJvbktleURvd25cIjtcbmNvbnN0IEVWRU5UX09OX0tFWV9VUCA9IFwib25LZXlVcFwiO1xuY29uc3QgRVZFTlRfT05fV0hFRUwgPSBcIm9uV2hlZWxcIjtcbmNvbnN0IFZLX0VTQ0FQRSA9IFwiRXNjYXBlXCI7XG5jb25zdCBWS19BUlJPV19MRUZUID0gXCJBcnJvd0xlZnRcIjtcbmNvbnN0IFZLX0FSUk9XX1JJR0hUID0gXCJBcnJvd1JpZ2h0XCI7XG5jb25zdCBFTEVNRU5UX0JVVFRPTiA9IFwiYnV0dG9uXCI7XG5jb25zdCBFTEVNRU5UX0lDT04gPSBcImljb25cIjtcbmNvbnN0IElNQUdFX0ZJVF9DT05UQUlOID0gXCJjb250YWluXCI7XG5jb25zdCBJTUFHRV9GSVRfQ09WRVIgPSBcImNvdmVyXCI7XG5jb25zdCBVTktOT1dOX0FDVElPTl9UWVBFID0gXCJVbmtub3duIGFjdGlvbiB0eXBlXCI7XG5cbmV4cG9ydCB7IEFDVElPTl9DTE9TRSwgQUNUSU9OX05FWFQsIEFDVElPTl9QUkVWLCBBQ1RJT05fU1dJUEUsIEFDVElWRV9TTElERV9DT01QTEVURSwgQUNUSVZFX1NMSURFX0VSUk9SLCBBQ1RJVkVfU0xJREVfTE9BRElORywgQUNUSVZFX1NMSURFX1BMQVlJTkcsIENMQVNTX0ZMRVhfQ0VOVEVSLCBDTEFTU19GVUxMU0laRSwgQ0xBU1NfTk9fU0NST0xMLCBDTEFTU19OT19TQ1JPTExfUEFERElORywgQ0xBU1NfU0xJREVfV1JBUFBFUiwgQ0xBU1NfU0xJREVfV1JBUFBFUl9JTlRFUkFDVElWRSwgRUxFTUVOVF9CVVRUT04sIEVMRU1FTlRfSUNPTiwgRVZFTlRfT05fS0VZX0RPV04sIEVWRU5UX09OX0tFWV9VUCwgRVZFTlRfT05fUE9JTlRFUl9DQU5DRUwsIEVWRU5UX09OX1BPSU5URVJfRE9XTiwgRVZFTlRfT05fUE9JTlRFUl9MRUFWRSwgRVZFTlRfT05fUE9JTlRFUl9NT1ZFLCBFVkVOVF9PTl9QT0lOVEVSX1VQLCBFVkVOVF9PTl9XSEVFTCwgSU1BR0VfRklUX0NPTlRBSU4sIElNQUdFX0ZJVF9DT1ZFUiwgTU9EVUxFX0NBUk9VU0VMLCBNT0RVTEVfQ09OVFJPTExFUiwgTU9EVUxFX05BVklHQVRJT04sIE1PRFVMRV9OT19TQ1JPTEwsIE1PRFVMRV9QT1JUQUwsIE1PRFVMRV9ST09ULCBNT0RVTEVfVE9PTEJBUiwgUExVR0lOX0NBUFRJT05TLCBQTFVHSU5fQ09VTlRFUiwgUExVR0lOX0RPV05MT0FELCBQTFVHSU5fRlVMTFNDUkVFTiwgUExVR0lOX0lOTElORSwgUExVR0lOX1NIQVJFLCBQTFVHSU5fU0xJREVTSE9XLCBQTFVHSU5fVEhVTUJOQUlMUywgUExVR0lOX1pPT00sIFNMSURFX1NUQVRVU19DT01QTEVURSwgU0xJREVfU1RBVFVTX0VSUk9SLCBTTElERV9TVEFUVVNfTE9BRElORywgU0xJREVfU1RBVFVTX1BMQUNFSE9MREVSLCBTTElERV9TVEFUVVNfUExBWUlORywgVU5LTk9XTl9BQ1RJT05fVFlQRSwgVktfQVJST1dfTEVGVCwgVktfQVJST1dfUklHSFQsIFZLX0VTQ0FQRSwgYWN0aXZlU2xpZGVTdGF0dXMgfTtcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/yet-another-react-lightbox/dist/types.js\n");

/***/ })

};
;